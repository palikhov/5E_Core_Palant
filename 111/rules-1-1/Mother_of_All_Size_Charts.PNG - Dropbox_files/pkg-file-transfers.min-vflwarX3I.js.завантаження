define("modules/clean/react/download_manager/types",["require","exports","tslib"],(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.BlockTokenExpired=r.DownloadManager=r.DownloadManagerStatus=void 0,(function(e){e[e.NOT_STARTED=0]="NOT_STARTED",e[e.DOWNLOADING=1]="DOWNLOADING",e[e.ERROR=2]="ERROR",e[e.PAUSED=3]="PAUSED",e[e.FETCHING_TOKENS=4]="FETCHING_TOKENS",e[e.CANCELED=5]="CANCELED",e[e.COMPLETED=6]="COMPLETED"})(r.DownloadManagerStatus||(r.DownloadManagerStatus={}));var n=function(e){};r.DownloadManager=n;var a=(function(e){function r(r){var t=e.call(this,r)||this;return t.message=r,t.name="BlockTokenExpired",t}return t.__extends(r,e),r})(Error);r.BlockTokenExpired=a})),define("modules/clean/react/file_transfers/components/hoc",["require","exports","tslib","react","modules/clean/web_timing_logger","file-transfers/i18n/index","modules/core/i18n","modules/clean/react/components/helpers","modules/clean/react/components/css","react-redux","modules/clean/react/file_transfers/components/product_config_provider","modules/clean/react/file_transfers/lib/utils","modules/clean/react/snackbar_manager","react-intl"],(function(e,r,t,n,a,i,s,o,l,u,c,f,_,d){"use strict";function g(e){return"Add email or name"===e.text&&"Placeholder text for transfer recipient entry"===e.description?s.intl.formatMessage({id:"PGj8nM",defaultMessage:"Add email or name"}):"Add a message"===e.text&&"Placeholder text for message to be sent to transfer recipients"===e.description?s.intl.formatMessage({id:"pjLmVF",defaultMessage:"Add a message"}):"Recipients"===e.text&&"Placeholder text for transfer recipient entry"===e.description?s.intl.formatMessage({id:"xgctbz",defaultMessage:"Recipients"}):null}Object.defineProperty(r,"__esModule",{value:!0}),r.withSnackbarManager=r.withWebTimingLogger=r.withTranslations=r.withProductConfigConsumer=r.withProductConfig=r.withCSS=r.withReduxStore=void 0,n=t.__importDefault(n),r.withReduxStore=function(e){return function(r){var a=function(a){return n.default.createElement(u.Provider,{store:e},n.default.createElement(r,t.__assign({},a)))};return a.displayName="WithProvider("+o.getDisplayName(r)+")",a}},r.withCSS=function(e){return function(r){return l.requireCssWithComponent(r,e)}},r.withProductConfig=function(e){var r=function(r){return n.default.createElement(c.ProductConfigProvider,null,n.default.createElement(e,t.__assign({},r)))};return r.displayName="WithProductConfig("+o.getDisplayName(e)+")",r},r.withProductConfigConsumer=function(e){var r=function(r){return n.default.createElement(c.ProductConfigConsumer,null,(function(a){return n.default.createElement(e,t.__assign({},a,r))}))};return r.displayName="WithProductConfigConsumer("+o.getDisplayName(e)+")",r},r.withTranslations=function(e){var r=function(r){return n.default.createElement(d.RawIntlProvider,{value:s.intl},n.default.createElement(i.TranslationProvider,{applyTranslation:g,formatBytes:f.formatBytes,intl:s.intl,isEnvExternal:!0},n.default.createElement(e,t.__assign({},r))))};return r.displayName="WithTranslations("+o.getDisplayName(e)+")",r},r.withWebTimingLogger=function(e){var r=function(r){var i=r.webTimingLoggerServerContext;return a.initialize_module(t.__assign(t.__assign({},i),{log_time_to_interactive:!0,log_time_to_view:!0,ttv_at_dom_interactive:!0,tti_at_dom_interactive:!0})),n.default.createElement(e,t.__assign({},r))};return r.displayName="WithWebTimingLogger("+o.getDisplayName(e)+")",r},r.withSnackbarManager=function(e){return function(r){var t=function(){return n.default.createElement(n.default.Fragment,null,r,n.default.createElement(_.SnackbarManager,{ref:e,getParentElement:_.SnackbarManager.getEmbeddedAppPagelet,useDigSnackbars:!0}))};return t.displayname="WithSnackbarManager("+o.getDisplayName(r)+")",t()}}})),define("modules/clean/react/file_transfers/components/product_config",["require","exports"],(function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.FeatureName=r.ConstantName=void 0,(function(e){e.USER_SEND_SIZE_LIMIT="userSendSizeLimit",e.PREMIUM_SEND_SIZE_LIMIT="premiumSendSizeLimit",e.MAX_UNEXPIRED_DAYS="maxUnexpiredDays",e.AVAILABLE_BACKGROUNDS="availableBackgrounds",e.SUPPORTED_BACKGROUND_EXTENSIONS="supportedBackgroundExtensions",e.UPSELL_VARIABLES="upsellVariables",e.NUM_ACTIVE_TRANSFERS="numActiveTransfers",e.NUM_TOTAL_TRANSFERS="numTotalTransfers",e.UPLOADER_TYPE="uploaderType",e.UPSELL_CONFIGS="upsellConfigs"})(r.ConstantName||(r.ConstantName={})),(function(e){e.CAN_SELECT_FOLDERS="canSelectFolders",e.CUSTOMIZE_TRANSFER="canCustomizeTransfers",e.PARALLEL_COMMIT_AND_UPLOAD="canParallelCommitAndUpload",e.SET_PASSWORD="password",e.SET_EXPIRATION="canSetExpiration",e.VIEW_EXPIRED_TRANSFER="canSeeExpiredTransfers",e.IS_PRODUCT_DISABLED="isProductDisabled",e.IS_MANAGE_PAGE_UPSELL_BANNER_VARIANT_ON="isManagePageUpsellBannerVariantOn",e.IS_MANAGE_PAGE_UPSELL_BANNER_VARIANT_CONTROL="isManagePageUpsellBannerVariantControl",e.CAN_SEND_EVENTS_TO_USERLEAP="canSendEventsToUserLeap",e.CAN_SEE_PLAN_COMPARISON_UPSELL_MODAL="canSeePlanComparisonUpsellModal",e.CAN_SEE_GLOBAL_NAV="canSeeGlobalNav",e.CAN_USE_DIG_STYLES="canUseDIGStyles",e.CAN_SEE_MANAGE_PAGE_ONBOARDING_MODAL="canSeeManagePageOnboardingModal",e.REVERSE_SEND_STEPS="reverseSendSteps",e.CAN_SEE_RECEIVED_TRANSFERS_MANAGEMENT="canSeeReceivedTransfersManagement",e.CAN_SEE_STANDALONE_LOGGED_OUT_EXP="canSeeStandaloneLoggedOutExp",e.CAN_SEE_NEW_SETTINGS_FORM_UPSELL_EXP="canSeeNewSettingsFormUpsellExp",e.CAN_SEE_PERMANENT_SIZE_LIMIT_UPSELL_EXP="canSeePermanentSizeLimitUpsellExp",e.CAN_SEE_NEW_USER_ONBOARDING_IMPROVEMENT_EXP="canSeeNewUserOnboardingImprovementExp",e.CAN_SEE_LOGGED_OUT_TRANSFER_CREATION="canSeeLoggedOutTransferCreation",e.CAN_SEE_CONFIRMATION_REDESIGN="canSeeConfirmationRedesign"})(r.FeatureName||(r.FeatureName={}))})),define("modules/clean/react/file_transfers/components/product_config_provider",["require","exports","tslib","react","react-redux","modules/clean/react/file_transfers/redux/selectors"],(function(e,r,t,n,a,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ProductConfigConsumer=r.ProductConfigProvider=r.UnconnectedProductConfigProvider=void 0;var s={getConstant:function(){},isFeatureEnabled:function(){return!1}},o=(n=t.__importDefault(n)).default.createContext(s),l=(function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.getConstant=function(e){var t=r.props.productConfig;return t&&t.constants?t.constants[e]:void 0},r.isFeatureEnabled=function(e){var t=r.props.productConfig;return!(!t||!t.features)&&t.features[e]},r.getLastProductConfigRefreshDate=function(){var e=r.props.productConfig;return e?e.lastProductConfigRefreshDate:void 0},r}return t.__extends(r,e),r.prototype.render=function(){return n.default.createElement(o.Provider,{value:{getConstant:this.getConstant,isFeatureEnabled:this.isFeatureEnabled,lastProductConfigRefreshDate:this.getLastProductConfigRefreshDate()}},this.props.children)},r.displayName="ProductConfigProvider",r})(n.default.Component);r.UnconnectedProductConfigProvider=l;var u=a.connect((function(e){return{productConfig:i.getProductConfig(e)}}))(l);r.ProductConfigProvider=u;var c=o.Consumer;r.ProductConfigConsumer=c})),define("modules/clean/react/file_transfers/constants",["require","exports","modules/clean/static_urls","file-transfers/common/constants"],(function(e,r,t,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.CUSTOM_LOGO_ID=r.CUSTOM_BACKGROUND_ID=r.UpsellVariant=r.PageName=r.STABLE_SEND_SIZE_LIMIT_PREMIUM=r.STABLE_SEND_SIZE_LIMIT_PAID=r.STABLE_SEND_SIZE_LIMIT_FREE=r.UserLeapEvent=r.TRANSFER_PREVIEW_BREAKPOINT=r.UpsellFeature=r.LIST_PAGE_TRANSFERS_PER_REQUEST=r.MAX_LEN_OF_FILE_NAME=r.LEN_OF_FILE_NAME_SUFFIX=r.LEN_OF_FILE_NAME_PREFIX=r.COMPLETED_TRANSFER_BROWSE_ENTRY_ONBOARDING=r.ViewPageDisplayState=r.EditorPageDisplayState=r.PRIVACY_AND_LEGAL_PAGE=r.TRANSFER_SUPPORT_PAGE=r.QUERY_PARAM_REFERRER=r.TransferUrlQueryParameter=r.VERIFICATION_CODE_LENGTH=r.UPLOAD_NUM_FILES_WARNING_THRESHOLD=r.SEND_BY_EMAIL_LIMIT_MESSAGE_LENGTH=r.SEND_BY_EMAIL_LIMIT_NUM_RECIPIENTS=r.VALID_EMAIL_REGEX=r.EXPIRED_TRANSFER_IMAGE_SRC=r.SHARE_TRANSFER_VIEW_IMAGE_SRC=r.DEFAULT_BACKGROUND_COLOR=r.PRODUCT_NAME=r.NULL_FILE_TRANSFER_KEY=void 0,r.NULL_FILE_TRANSFER_KEY="NULL",r.PRODUCT_NAME="Dropbox Transfer",r.DEFAULT_BACKGROUND_COLOR="#0093ce",r.SHARE_TRANSFER_VIEW_IMAGE_SRC=t.static_url("/static/images/file_transfer/03_success_state@2x-vflrkXa_N.png"),r.EXPIRED_TRANSFER_IMAGE_SRC=t.static_url("/static/images/file_transfer/02_empty_expired@2x-vfla_QTsC.png"),r.VALID_EMAIL_REGEX=/^['&A-Za-z0-9\._%+-]+@[A-Za-z0-9-][A-Za-z0-9\.-]*\.[A-Za-z]{2,15}$/i,r.SEND_BY_EMAIL_LIMIT_NUM_RECIPIENTS=50,r.SEND_BY_EMAIL_LIMIT_MESSAGE_LENGTH=2e3,r.UPLOAD_NUM_FILES_WARNING_THRESHOLD=500,r.VERIFICATION_CODE_LENGTH=new Array(6).fill(0),(function(e){e.CUSTOMIZE_DESIGN="customize_design",e.DOWNLOAD_ALL="download_all",e.DISABLE_DOWNLOAD_NOTIFICATIONS="disable_download_notifications",e.EMAIL_JUST_VERIFIED="email_just_verified",e.EMAIL_TYPE="email_type",e.FEEDBACK="feedback",e.LIKE_EMAIL="like_email",e.RECP_TRACKING="ftref",e.SAVE_TO_DROPBOX="s2d",e.SEND_REMINDERS="send_reminders"})(r.TransferUrlQueryParameter||(r.TransferUrlQueryParameter={})),r.QUERY_PARAM_REFERRER="referrer",r.TRANSFER_SUPPORT_PAGE="https://help.dropbox.com/files-folders/share/dropbox-transfer",r.PRIVACY_AND_LEGAL_PAGE="/privacy",(function(e){e[e.ADD_FILES=0]="ADD_FILES",e[e.EMAIL_FORM=1]="EMAIL_FORM",e[e.EMAIL_SENT_CONFIRMATION=2]="EMAIL_SENT_CONFIRMATION",e[e.LOGGED_OUT_OVERLAY=3]="LOGGED_OUT_OVERLAY",e[e.SHARE_LINK=4]="SHARE_LINK",e[e.SHARE_LINK_CONFIRMATION=5]="SHARE_LINK_CONFIRMATION",e[e.UPLOAD_PROGRESS=6]="UPLOAD_PROGRESS",e[e.ENTER_EMAIL=7]="ENTER_EMAIL",e[e.EMAIL_VERIFICATION=8]="EMAIL_VERIFICATION",e[e.REDESIGNED_EMAIL_SENT_CONFIRMATION=9]="REDESIGNED_EMAIL_SENT_CONFIRMATION",e[e.REDESIGNED_SHARE_LINK_CONFIRMATION=10]="REDESIGNED_SHARE_LINK_CONFIRMATION"})(r.EditorPageDisplayState||(r.EditorPageDisplayState={})),(function(e){e[e.VIEW_FILES=0]="VIEW_FILES",e[e.DOWNLOAD_CONFIRMATION=1]="DOWNLOAD_CONFIRMATION"})(r.ViewPageDisplayState||(r.ViewPageDisplayState={})),r.COMPLETED_TRANSFER_BROWSE_ENTRY_ONBOARDING="completedTransferBrowseEntryOnboarding",r.LEN_OF_FILE_NAME_PREFIX=5,r.LEN_OF_FILE_NAME_SUFFIX=7,r.MAX_LEN_OF_FILE_NAME=r.LEN_OF_FILE_NAME_PREFIX+r.LEN_OF_FILE_NAME_SUFFIX+3,r.LIST_PAGE_TRANSFERS_PER_REQUEST=25,(function(e){e.CUSTOM_BACKGROUND="custom_background",e.EXPIRATION="expiration",e.EXPIRED_TRANSFERS="expired_transfers",e.OVER_LIMIT="over_limit",e.PASSWORD="password",e.TRANSFER_LOGO="transfer_logo",e.SHOW_WHO_HAS_DOWNLOADED="show_who_has_downloaded",e.MANAGE_PAGE_UPSELL_BANNER="manage_page_upsell_banner",e.SHARING_SETTINGS_UPSELL_BANNER="sharing_settings_upsell_banner"})(r.UpsellFeature||(r.UpsellFeature={})),r.TRANSFER_PREVIEW_BREAKPOINT=1024,(function(e){e.ACTIVATE_MANUAL_FEEDBACK="activate_manual_feedback",e.MANAGE_ACTIVE_TRANSFERS="manage_active_transfers",e.RECEIVED_TRANSFER="received_transfer",e.SENDER_CSAT_SURVEY="sender_csat_survey",e.SENT_TRANSFER="sent_transfer",e.SET_CONTROL_ACCESS="set_control_access"})(r.UserLeapEvent||(r.UserLeapEvent={})),r.STABLE_SEND_SIZE_LIMIT_FREE=100*n.BYTES_IN_MEGABYTE,r.STABLE_SEND_SIZE_LIMIT_PAID=2*n.BYTES_IN_GIGABYTE,r.STABLE_SEND_SIZE_LIMIT_PREMIUM=100*n.BYTES_IN_GIGABYTE,(function(e){e.ABOUT_PAGE="about",e.CREATE_PAGE="create",e.VIEW_PAGE="view",e.VIEW_EXPIRED_PAGE="view_expired",e.VIEW_DELETED_PAGE="view_deleted",e.LIST_PAGE="list"})(r.PageName||(r.PageName={})),(function(e){e.TRY_PROFESSIONAL="try_professional",e.BUY_PROFESSIONAL="buy_professional",e.CONTACT_ADMIN="contact_admin",e.TRY_BUSINESS_ADVANCED="try_business_advanced",e.BUY_TRANSFER="buy_transfer",e.BUY_TRANSFER_WITH_PRICING="buy_transfer_with_pricing",e.TRY_PROFESSIONAL_WITH_PRICING="try_professional_with_pricing",e.TRANSFER_PROFESSIONAL_PLAN_COMPARISON="transfer_professional_plan_comparison"})(r.UpsellVariant||(r.UpsellVariant={})),r.CUSTOM_BACKGROUND_ID="custom",r.CUSTOM_LOGO_ID="custom_logo"})),define("modules/clean/react/file_transfers/lib/api",["require","exports","tslib","api_v2/noauth_client","api_v2/user_client","api_v2/datetime","modules/clean/react/file_transfers/redux/types","file-transfers/common/constants","modules/clean/filepath/filepath","modules/clean/react/file_transfers/constants","modules/clean/react/user_metadata/api","api_v2/transport/beacon"],(function(e,r,t,n,a,i,s,o,l,u,c,f){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.LoggedOutSessionVerifyCode=r.loggedOutSessionSendVerificationCode=r.getBlocksFiles=r.getFileTransfersUserMetadata=r.getProductConfig=r.listRecipients=r.logProductAnalyticsEvent=r.submitFeedback=r.addRecipientsAndSend=r.deleteTransfer=r.logUserMetricsEvent=r.updateUserConfig=r.updateMetadata=r.share=r.addFilesByBlocks=r.removeFileByPath=r.removeFileById=r.addFilesById=r.saveToDropbox=r.downloadFiles=r.fetchFiles=r.createTransferLoggedOut=r.createTransfer=r.fetchReceivedTransfersList=r.fetchTransfersList=r.authWithPassword=r.getFolderSizes=r.isApiErrorResult=void 0,s=t.__importStar(s),r.isApiErrorResult=function(e){return null!=e.error&&null!=e.error.error_type},r.getFolderSizes=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){return t.__generator(this,(function(t){switch(t.label){case 0:return[4,(new a.UserApiV2Client).ns("folders_info").rpc("get_folder_sizes",{paths:r},{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.authWithPassword=function(e,r,i){return t.__awaiter(this,void 0,Promise,(function(){var s;return t.__generator(this,(function(t){switch(t.label){case 0:return s={transfer_id:r,password:i},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("auth_with_password",s,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("auth_with_password_logged_out",s,{})];case 3:return[2,t.sent()]}}))}))},r.fetchTransfersList=function(e,r,n){return t.__awaiter(this,void 0,Promise,(function(){var i,o,l;return t.__generator(this,(function(t){switch(t.label){case 0:return i=function(e){switch(e){case s.TransferListView.Active:return{".tag":"active"};case s.TransferListView.Expired:return{".tag":"expired"}}},o={requested_count:u.LIST_PAGE_TRANSFERS_PER_REQUEST},n&&(o.cursor_token=n),l={view:i(r),pagination:o},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("list",l,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.fetchReceivedTransfersList=function(e,r,n){return t.__awaiter(this,void 0,Promise,(function(){var i,o,l;return t.__generator(this,(function(t){switch(t.label){case 0:return i=function(e){switch(e){case s.TransferListView.Active:return{".tag":"active"};case s.TransferListView.Expired:return{".tag":"expired"}}},o={requested_count:u.LIST_PAGE_TRANSFERS_PER_REQUEST},n&&(o.cursor_token=n),l={view:i(r),pagination:o},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("received_transfer/list",l,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.createTransfer=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return n={},r&&(n.client_generated_tracking_id=r),[4,(new a.UserApiV2Client).ns("file_transfers").rpc("create",n,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.createTransferLoggedOut=function(e){return t.__awaiter(this,void 0,Promise,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return r={},e&&(r.client_generated_tracking_id=e),navigator.languages&&(r.locale=navigator.languages[0]),[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("create_logged_out",r,{})];case 1:return[2,t.sent()]}}))}))},r.fetchFiles=function(e,r,i){return void 0===i&&(i=!1),t.__awaiter(this,void 0,Promise,(function(){var s;return t.__generator(this,(function(t){switch(t.label){case 0:return s={transfer_id:r,include_all_files:i},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/list",s,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("files/list_logged_out",s,{})];case 3:return[2,t.sent()]}}))}))},r.downloadFiles=function(e,r,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return o={transfer_id:r,requested_files_by_id:i,is_preview_download:s||!1},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/download",o,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("files/download_logged_out",o,{})];case 3:return[2,t.sent()]}}))}))},r.saveToDropbox=function(e,r,n,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o,u;return t.__generator(this,(function(t){switch(t.label){case 0:return o=new a.UserApiV2Client,u={transfer_id:r,destination_path:l.normalize(n)+l.normalize(i),requested_files_by_id:s},[4,o.ns("file_transfers").rpc("files/save_to_dropbox",u,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.addFilesById=function(e,r,n){return t.__awaiter(this,void 0,Promise,(function(){var i;return t.__generator(this,(function(t){switch(t.label){case 0:return i={transfer_id:r||void 0,files_to_add:n},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/add_by_id",i,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.removeFileById=function(e,r,n){return t.__awaiter(this,void 0,Promise,(function(){var i;return t.__generator(this,(function(t){switch(t.label){case 0:return i={transfer_id:r,files_to_remove:n},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/remove",i,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.removeFileByPath=function(e,r,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return o={transfer_id:r,requested_files_by_path:i},s?[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("files/remove_logged_out",o,{})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/remove",o,{subjectUserId:e})];case 3:return[2,t.sent()]}}))}))},r.addFilesByBlocks=function(e,r,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return o={transfer_id:r||void 0,files_to_add:i},s?[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("files/add_by_blocks_logged_out",o,{})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/add_by_blocks",o,{subjectUserId:e})];case 3:return[2,t.sent()]}}))}))},r.share=function(e,r,i){return t.__awaiter(this,void 0,Promise,(function(){var s;return t.__generator(this,(function(t){switch(t.label){case 0:return s={transfer_id:r},i?[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("share_logged_out",s,{})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new a.UserApiV2Client).ns("file_transfers").rpc("share",s,{subjectUserId:e})];case 3:return[2,t.sent()]}}))}))},r.updateMetadata=function(e,r,s,o,l,u,c){return t.__awaiter(this,void 0,Promise,(function(){var f;return t.__generator(this,(function(t){switch(t.label){case 0:return f={transfer_id:r},void 0!==s&&(f.expiration_time_update={".tag":"expiration_time",expiration_time:i.formatTimestamp(s)}),void 0!==l&&(f.password_update=""===l?{".tag":"no_password"}:{".tag":"password",password:l}),void 0!==o&&(f.should_notify_creator_on_download_update={".tag":"should_notify_creator_on_download",should_notify_creator_on_download:o}),void 0!==u&&(f.title_update=""===u?{".tag":"no_title"}:{".tag":"title",title:u}),c?[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("update_metadata_logged_out",f,{})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new a.UserApiV2Client).ns("file_transfers").rpc("update_metadata",f,{subjectUserId:e})];case 3:return[2,t.sent()]}}))}))},r.updateUserConfig=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return n=r?{background_id:r.background_id}:{},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("update_user_config",n,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.logUserMetricsEvent=function(e,r,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return o={transfer_id:r,event_name:i,recipient_tracking_id:s},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("user_metrics/log_event",o,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("user_metrics/log_event_logged_out",o,{})];case 3:return[2,t.sent()]}}))}))},r.deleteTransfer=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return n={transfer_id:r},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("delete",n,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.addRecipientsAndSend=function(e,r,i,s,o){return t.__awaiter(this,void 0,Promise,(function(){var l,u,c,f,_;return t.__generator(this,(function(t){switch(t.label){case 0:for(10,l=[],u=(new a.UserApiV2Client).ns("file_transfers"),c=(new n.NoAuthApiV2Client).ns("file_transfers"),f=0;f<r.length;f+=10)_={recipients:r.slice(f,f+10),message_body:i,transfer_id:s},o?l.push(c.rpc("recipients/add_and_send_logged_out",_,{})):l.push(u.rpc("recipients/add_and_send",_,{subjectUserId:e}));return[4,Promise.all(l)];case 1:return t.sent(),[2,{}]}}))}))},r.submitFeedback=function(e,r,i,s,l,u,c,f){return t.__awaiter(this,void 0,Promise,(function(){var _,d;return t.__generator(this,(function(t){switch(t.label){case 0:return _=r===o.NOT_APPLICABLE_SATISFACTION_RATING_VALUE?{".tag":"not_applicable"}:{".tag":"value",value:r},d={satisfaction_rating:_,comments:i,file_transfer_flow:s||void 0,transfer_id:l||void 0,client_generated_transfer_tracking_id:u||void 0,platform:c||void 0,extra:f},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("submit_feedback",d,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("submit_feedback_logged_out",d,{})];case 3:return[2,t.sent()]}}))}))},r.logProductAnalyticsEvent=function(e,r,i,s){return t.__awaiter(this,void 0,Promise,(function(){var o;return t.__generator(this,(function(t){switch(t.label){case 0:return o={transfer_id:r.transferId,event_name:r.eventName,file_expiration:r.fileExpiration,file_transfer_flow:r.fileTransferFlow,client_generated_transfer_tracking_id:r.clientGeneratedTransferTrackingId,extra:JSON.stringify(r.extra),is_logged_out_transfer:i},s?e?[2,new a.UserApiV2Client(new f.BeaconTransport).ns("file_transfers").rpc("product_analytics/log_event",o,{subjectUserId:e})]:[2,new n.NoAuthApiV2Client(new f.BeaconTransport).ns("file_transfers").rpc("product_analytics/log_event_logged_out",o,{})]:e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("product_analytics/log_event",o,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("product_analytics/log_event_logged_out",o,{})];case 3:return[2,t.sent()]}}))}))},r.listRecipients=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return n={transfer_id:r},[4,(new a.UserApiV2Client).ns("file_transfers").rpc("recipients/list",n,{subjectUserId:e})];case 1:return[2,t.sent()]}}))}))},r.getProductConfig=function(e){return t.__awaiter(this,void 0,Promise,(function(){return t.__generator(this,(function(r){switch(r.label){case 0:return e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("product_config/get",{},{subjectUserId:e})]:[3,2];case 1:return[2,r.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("product_config/get",{},{})];case 3:return[2,r.sent()]}}))}))},r.getFileTransfersUserMetadata=function(e){return t.__awaiter(this,void 0,Promise,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,c.getUserMetadata(["FILE_TRANSFER_SHOULD_NOTIFY_CREATOR_ON_DOWNLOAD","FILE_TRANSFER_EXPIRATION_OPTION"],e)];case 1:return[2,{defaultExpirationOption:(r=t.sent()).FILE_TRANSFER_EXPIRATION_OPTION,defaultShouldNotifyCreatorOnDownloadSetting:r.FILE_TRANSFER_SHOULD_NOTIFY_CREATOR_ON_DOWNLOAD}]}}))}))},r.getBlocksFiles=function(e,r,i){return t.__awaiter(this,void 0,Promise,(function(){var s;return t.__generator(this,(function(t){switch(t.label){case 0:return s={transfer_id:i,requested_files_by_id:[r]},e?[4,(new a.UserApiV2Client).ns("file_transfers").rpc("files/get_blocks",s,{subjectUserId:e})]:[3,2];case 1:return[2,t.sent()];case 2:return[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("files/get_blocks_logged_out",s,{})];case 3:return[2,t.sent()]}}))}))},r.loggedOutSessionSendVerificationCode=function(e){return t.__awaiter(this,void 0,Promise,(function(){var r;return t.__generator(this,(function(t){switch(t.label){case 0:return r={email_address:e},[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("logged_out_session/send_verification_code",r,{})];case 1:return[2,t.sent()]}}))}))},r.LoggedOutSessionVerifyCode=function(e,r){return t.__awaiter(this,void 0,Promise,(function(){var a;return t.__generator(this,(function(t){switch(t.label){case 0:return a={email_address:e,code:r},[4,(new n.NoAuthApiV2Client).ns("file_transfers").rpc("logged_out_session/verify_code",a,{})];case 1:return[2,t.sent()]}}))}))}})),define("modules/clean/react/file_transfers/lib/urls",["require","exports","tslib","modules/core/browser","modules/clean/history","modules/clean/react/location/types","modules/core/uri","modules/clean/react/file_transfers/constants"],(function(e,r,t,n,a,i,s,o){"use strict";function l(e){return e.replace(/^cap_pid_ft:/,"")}function u(){return"https://www.dropbox.com/"}function c(e,t){var n="/"+r.BASE_URL+"/"+encodeURIComponent(l(e))+"/edit";return t?n+"?referrer="+t.referrer+"&log_create="+t.logCreateTransferEvent:n}function f(e){var t="https://www.dropbox.com/"+r.BASE_URL;return e?t+"?referrer="+e:t}function _(e){return"https://www.dropbox.com/"+r.BASE_URL+"/"+encodeURIComponent(l(e))}function d(e){var r=e.query.transfer_id,t=Array.isArray(r)?r[0]:r;return t?(function(e){return-1===e.indexOf("cap_pid_ft:")?"cap_pid_ft:"+e:e})(t):t}function g(e,r){var t=e.query[r],n=Array.isArray(t)?t[0]:t;return Boolean(n&&"true"===n.toLowerCase())}function p(e,r){var t=e.query[r];return Array.isArray(t)?t[0]:t}function E(e){var r=n.get_uri();r.removeQuery(e),a.default.replace_state(r.getPath(),r.getQuery())}function S(e){var r=e.query[o.TransferUrlQueryParameter.RECP_TRACKING];return Array.isArray(r)?r[0]:r}Object.defineProperty(r,"__esModule",{value:!0}),r.prepareFileIdsParam=r.addTrackingParams=r.removeNoDownloadRecipientList=r.shouldShowNoDownloadRecipientList=r.shouldDisableDownloadNotifications=r.removeDisableDownloadNotificationsInLocation=r.getRecipientTrackingIdFromLocation=r.getRecipientTrackingIdFromUrl=r.removeCustomizeDesignInLocation=r.updateTransferIdInLocation=r.getReferrerFromUrlParam=r.shouldEmailFeedbackBeInitiallyLogged=r.shouldEmailVerifiedModalBeInitiallyShown=r.shouldCustomizeDesignBeInitiallyShown=r.shouldFeedbackFormBeInitiallyShown=r.removeQueryParam=r.getQueryParamValue=r.isQueryParamValueTrue=r.getTransferIdFromLocation=r.getTransferIdFromUrl=r.addTransferIdToUrl=r.cleanBrowserHrefForEditPage=r.professionalTryUrl=r.checkoutUrl=r.professionalBuyUrl=r.aboutUrl=r.dropboxTermsUrls=r.reportAbuseUrl=r.shareTransferUrl=r.viewTransferUrl=r.createTransferUrlWithParams=r.createTransferUrl=r.editTransferUrl=r.listReceivedTransfersUrl=r.listTransfersUrl=r.dropboxUrl=r.BASE_URL=void 0,n=t.__importStar(n),a=t.__importDefault(a),r.BASE_URL="transfer",r.dropboxUrl=u,r.listTransfersUrl=function(e,t){var n="https://www.dropbox.com/"+r.BASE_URL+"/manage";return e&&t?n+"?referrer="+e+"&transfer_id="+l(t):e?n+"?referrer="+e:t?n+"?transfer_id="+l(t):n},r.listReceivedTransfersUrl=function(e){var t="https://www.dropbox.com/"+r.BASE_URL+"/manage/received";return e?t+"?referrer="+e:t},r.editTransferUrl=c,r.createTransferUrl=f,r.createTransferUrlWithParams=function(e){return new s.URI({scheme:"https",authority:"www.dropbox.com",path:"/"+r.BASE_URL,query:e}).toString()},r.viewTransferUrl=_,r.shareTransferUrl=function(e,r){return r&&r.share_url?r.share_url:_(e)},r.reportAbuseUrl=function(e){return"https://www.dropbox.com/report_abuse"+(e?"?ssu="+_(e):"")},r.dropboxTermsUrls=function(){return"https://www.dropbox.com/terms"},r.aboutUrl=function(e){var t="https://www.dropbox.com/"+r.BASE_URL+"/about";return e?t+"?referrer="+e:t},r.professionalBuyUrl=function(){return"https://www.dropbox.com/buy"},r.checkoutUrl=function(){return"https://www.dropbox.com/buy/transfer"},r.professionalTryUrl=function(){return"https://www.dropbox.com/pro/try"},r.cleanBrowserHrefForEditPage=function(){n.get_pathname()!=="/"+r.BASE_URL+"/cfd"?a.default.replace_state(n.get_pathname()):a.default.replace_state(f("desktop").replace(new RegExp("^https://www.dropbox.com"),""))},r.addTransferIdToUrl=function(e){n.get_pathname().endsWith("/edit")||a.default.replace_state(c(e))},r.getTransferIdFromUrl=function(e){return d(i.Location.fromURI(s.URI.parse(e)))},r.getTransferIdFromLocation=d,r.isQueryParamValueTrue=g,r.getQueryParamValue=p,r.removeQueryParam=E,r.shouldFeedbackFormBeInitiallyShown=function(e){return g(e,o.TransferUrlQueryParameter.FEEDBACK)},r.shouldCustomizeDesignBeInitiallyShown=function(e){return g(e,o.TransferUrlQueryParameter.CUSTOMIZE_DESIGN)},r.shouldEmailVerifiedModalBeInitiallyShown=function(e){return"1"===p(e,o.TransferUrlQueryParameter.EMAIL_JUST_VERIFIED)},r.shouldEmailFeedbackBeInitiallyLogged=function(e){return Boolean(p(e,o.TransferUrlQueryParameter.EMAIL_TYPE)&&p(e,o.TransferUrlQueryParameter.LIKE_EMAIL))},r.getReferrerFromUrlParam=function(e){var r=e.query.referrer;return Array.isArray(r)?r[0]:r},r.updateTransferIdInLocation=function(e){var r=n.get_uri();e?(r=r.updateQuery({transfer_id:l(e)}),a.default.replace_state(r.getPath(),r.getQuery())):(r=r.removeQuery("transfer_id"),a.default.replace_state(r.getPath(),r.getQuery()))},r.removeCustomizeDesignInLocation=function(){E(o.TransferUrlQueryParameter.CUSTOMIZE_DESIGN)},r.getRecipientTrackingIdFromUrl=function(){return S(i.Location.fromURI(s.URI.parse(n.get_uri())))},r.getRecipientTrackingIdFromLocation=S,r.removeDisableDownloadNotificationsInLocation=function(){E(o.TransferUrlQueryParameter.DISABLE_DOWNLOAD_NOTIFICATIONS)},r.shouldDisableDownloadNotifications=function(e){return g(e,o.TransferUrlQueryParameter.DISABLE_DOWNLOAD_NOTIFICATIONS)},r.shouldShowNoDownloadRecipientList=function(e){return g(e,o.TransferUrlQueryParameter.SEND_REMINDERS)},r.removeNoDownloadRecipientList=function(){E(o.TransferUrlQueryParameter.SEND_REMINDERS)},r.addTrackingParams=function(e,r,n){var a=s.URI.parse(e),i=t.__assign(t.__assign({},r),!!n&&{trigger:"web_ft_"+n});return a.updateQuery(i),a.toString()},r.prepareFileIdsParam=function(e){return e.map((function(e){return e.file_id.replace("id:","")})).join(".")}})),define("modules/clean/react/file_transfers/lib/utils",["require","exports","tslib","modules/clean/react/file_transfers/lib/api","lodash","modules/core/browser_detection","modules/core/browser","modules/core/cookies","modules/clean/display_format","modules/clean/downloads","modules/clean/react/snackbar","modules/core/exception","modules/clean/react/upload_kit/lib/types","modules/clean/react/file_transfers/uploader/types","modules/clean/react/file_transfers/constants","modules/clean/filepath/filepath","modules/clean/uuid/uuid","modules/clean/react/browse/models","modules/core/i18n","modules/clean/react/file_transfers/lib/urls","file-transfers/common/constants","file-transfers/common/types","modules/clean/react/file_transfers/lib/urls","modules/clean/react/download_manager/types","modules/clean/web_user_action_events"],(function(e,r,t,n,a,i,s,o,l,u,c,f,_,d,g,p,E,S,m,T,A,I,F,h,N){"use strict";function v(e){var r=localStorage.getItem(e);return null===r?null:parseInt(r,10)}function L(e,r){localStorage.setItem(e,r.toString())}Object.defineProperty(r,"__esModule",{value:!0}),r.shouldShowTransferInSplitShare=r.redirectToCreateTransferWithFiles=r.computeAddToTransferReferrer=r.getDefaultExpirationOption=r.getPlanComparisonUpsellConfig=r.convertToUploadErrorType=r.getBlock=r.getBlocks=r.browserSupportsNativeFS=r.computeCreationRelativeExpirationDate=r.areItemsUploaded=r.getChildrenFiles=r.numSuccess=r.numWaiting=r.generateTransferTrackingId=r.getVideoBackgroundAsset=r.getImageBackgroundAsset=r.isVideoBackground=r.isImageBackground=r.isColorBackground=r.getUpsellProps=r.estimateExpirationOption=r.getDateDiff=r.DAYS_IN_MS=r.renameDuplicateFiles=r.downloadFiles=r.displayDownloadSnackbarError=r.downloadZipFromUrl=r.isLocalDirectory=r.getTransferFilesKey=r.getRootDirectory=r.isInPath=r.isAtRoot=r.fileSystemDirectoryEntryAsStateFileInfo=r.sumBytes=r.stateFileInfoAsFileInfo=r.fileNameFromPath=r.fileSysEntrytoStateFileInfo=r.fileAsStateFileInfo=r.pluploadFileAsStateFileInfo=r.chooserFileAsStateFileInfo=r.transferFileAsStateFileInfo=r.createDirectoryStateFileInfo=r.formatLongFileNameForDisplay=r.generateTransferTitle=r.generateTransferSummaryTitle=r.markHasEverSetLogo=r.hasEverSetLogo=r.markHasEverSetBackground=r.hasEverSetBackground=r.markAtLeastOneFileDownloaded=r.hasAtLeastOneFileDownloaded=r.markUserAgreedToLoggedOutTransferTOS=r.hasUserAgreedToLoggedOutTransferTOS=r.HAS_USER_AGREED_TO_LOGGED_OUT_TRANSFER_TOS_KEY=r.setLocalStorageValueForKey=r.getLocalStorageBooleanValueForKey=r.getLocalStorageNumberValueForKey=r.incrementLocalStorageValueForKey=r.formatBytes=r.SUPPORTED_LOCALES=r.DEFAULT_LOCALE=r.sortByFirstReceivedTimeDesc=r.sortByCreationTimeDesc=r.contactToEmailRecipient=void 0,n=t.__importStar(n),i=t.__importStar(i),s=t.__importStar(s),u=t.__importStar(u),f=t.__importStar(f),r.contactToEmailRecipient=function(e){return{recipient:{".tag":"email_address",email_address:e.email}}},r.sortByCreationTimeDesc=function(e){return t.__spreadArrays(e).sort((function(e,r){return e.creation_time<r.creation_time?1:r.creation_time<e.creation_time?-1:0}))},r.sortByFirstReceivedTimeDesc=function(e){return t.__spreadArrays(e).sort((function(e,r){return e.first_received_time<r.first_received_time?1:r.first_received_time<e.first_received_time?-1:0}))},r.DEFAULT_LOCALE="en",r.SUPPORTED_LOCALES=["da_DK","de","en","en_GB","es","es_ES","fr","id","it","ja","ko","ms","nb_NO","nl_NL","pl","pt_BR","ru","sv_SE","th_TH","uk_UA","zh_CN","zh_TW"],r.formatBytes=function(e,r){return void 0===r&&(r={}),void 0===r.numDecimalPlaces&&(e<l.SWITCH_UNIT_THRESHOLD*A.BYTES_IN_KILOBYTE?r.numDecimalPlaces=0:e<l.SWITCH_UNIT_THRESHOLD*A.BYTES_IN_MEGABYTE?r.numDecimalPlaces=1:r.numDecimalPlaces=2),l.format_bytes(e,r.numDecimalPlaces,r.includeSpace,r.lazy,r.allowNegative)},r.incrementLocalStorageValueForKey=function(e){var r=v(e);L(e,r?r+1:1)},r.getLocalStorageNumberValueForKey=v,r.getLocalStorageBooleanValueForKey=function(e){var r=localStorage.getItem(e);return null===r?null:"true"===r},r.setLocalStorageValueForKey=L,r.HAS_USER_AGREED_TO_LOGGED_OUT_TRANSFER_TOS_KEY="transfer_agreed_to_tos",r.hasUserAgreedToLoggedOutTransferTOS=function(){return!!o.Cookies.read(r.HAS_USER_AGREED_TO_LOGGED_OUT_TRANSFER_TOS_KEY)},r.markUserAgreedToLoggedOutTransferTOS=function(){o.Cookies.create(r.HAS_USER_AGREED_TO_LOGGED_OUT_TRANSFER_TOS_KEY,"true")},r.hasAtLeastOneFileDownloaded=function(e){return null!==sessionStorage.getItem("fileTransferAtLeastOneFileDownloaded:"+e)},r.markAtLeastOneFileDownloaded=function(e){sessionStorage.setItem("fileTransferAtLeastOneFileDownloaded:"+e,"true")};r.hasEverSetBackground=function(){return null!==localStorage.getItem("fileTransferEverSetBackground")},r.markHasEverSetBackground=function(){localStorage.setItem("fileTransferEverSetBackground","true")};function R(e,r,t){return 0===e.length?m.intl.formatMessage({id:"syJiNE",defaultMessage:"Transfer with no items"}):r<=1?m.intl.formatMessage({id:"8oHG0B",defaultMessage:"{item_name}"},{item_name:t?C(e[0]):e[0]}):m.intl.formatMessage({id:"IUBT/B",defaultMessage:"{item_name} + {item_count}"},{item_name:t?C(e[0]):e[0],item_count:r-1})}function C(e){var r=e;e.length>g.MAX_LEN_OF_FILE_NAME&&(r=e.slice(0,g.LEN_OF_FILE_NAME_PREFIX)+"..."+e.slice(e.length-g.LEN_OF_FILE_NAME_SUFFIX));return r}function O(e){var r=e.split("/");return r[r.length-1]}function w(e){return null===U(e)}function U(e){var r;if("dest"in e)r=e.dest;else if("fullPath"in e){if(!e.fullPath)return null;"/"===(r=e.fullPath).charAt(0)&&(r=e.fullPath.substring(1))}else{if(!("path"in e))throw new Error("file must be either PluploadFile, StateFileInfo, or FileSystemEntry");if(!e.path)return null;r=e.path}var t=r.split("/");return t.length<=1?null:t[0]}function D(e,r){void 0===r&&(r={});for(var t=document.getElementsByName("file-downloads-iframe"),n=0,a=Array.from(t);n<a.length;n++){var i=a[n];i&&i.parentNode&&i.parentNode.removeChild(i)}var s=document.createElement("iframe");s.name="file-downloads-iframe",s.src="about:blank",s.setAttribute("style","display: none;"),document.body.appendChild(s);var o=s.contentDocument,l=o.createElement("form");l.action=e,l.method="post",Object.keys(r).forEach((function(e){var t=document.createElement("input");t.type="hidden",t.name=e,t.value=r[e],l.appendChild(t)})),o.body.appendChild(l),l.submit()}function P(e,t){return Math.round((t.getTime()-e.getTime())/r.DAYS_IN_MS)}function y(e){return function(r){return(function(e){return e.value?e.value[".tag"]:"other"})(r)===e}}r.hasEverSetLogo=function(){return null!==localStorage.getItem("fileTransferHasEverSetLogo")},r.markHasEverSetLogo=function(){localStorage.setItem("fileTransferHasEverSetLogo","true")},r.generateTransferSummaryTitle=function(e,r){return e.title||R(e.summary_file_names,e.display_file_count,r)},r.generateTransferTitle=R,r.formatLongFileNameForDisplay=C,r.createDirectoryStateFileInfo=function(e,r){var t=d.OriginalFileSource.Unknown;return r===d.FileSource.Dropbox?t=d.OriginalFileSource.Dropbox:r===d.FileSource.Computer&&(t=d.OriginalFileSource.Computer),{id:E.UUID.v4(),isDir:!0,path:e,size:0,source:r,originalSource:t,thumbnailUrl:null}},r.transferFileAsStateFileInfo=function(e,r){return{id:e.transfer_file_id,isDir:e.obsolete_is_dir,path:e.relative_path,size:e.file_size,source:d.FileSource.Transfer,originalSource:r,thumbnailUrl:e.thumbnail_url||null,fileForPreview:e.file_preview_info,isExpanded:!1,depth:0}},r.chooserFileAsStateFileInfo=function(e){return{id:e.id,isDir:e.isDir,path:e.name,size:e.bytes,source:d.FileSource.Dropbox,originalSource:d.OriginalFileSource.Dropbox,thumbnailUrl:null}},r.pluploadFileAsStateFileInfo=function(e){return{id:e.id,isDir:0===e.size,path:e.dest,size:e.size,source:d.FileSource.Computer,originalSource:d.OriginalFileSource.Computer,thumbnailUrl:null}},r.fileAsStateFileInfo=function(e){return{path:e.name,id:e.name,size:e.size||0,isDir:!1,source:d.FileSource.Computer,originalSource:d.OriginalFileSource.Computer,thumbnailUrl:null}},r.fileSysEntrytoStateFileInfo=function(e,r){return{path:e.name,id:e.name,size:r,isDir:!1,source:d.FileSource.Computer,originalSource:d.OriginalFileSource.Computer,thumbnailUrl:null}},r.fileNameFromPath=O,r.stateFileInfoAsFileInfo=function(e,r){return void 0===r&&(r={}),t.__assign({id:e.id,isDir:e.isDir,name:O(e.path),size:e.size,thumbnailUrl:e.thumbnailUrl,fileForPreview:e.fileForPreview,depth:e.depth||0},r)},r.sumBytes=function(e){return e.reduce((function(e,r){return e+r.size}),0)},r.fileSystemDirectoryEntryAsStateFileInfo=function(e){return{id:E.UUID.v4(),isDir:!0,path:e.fullPath?e.fullPath.substring(1):e.name,size:0,source:d.FileSource.Computer,originalSource:d.OriginalFileSource.Computer,thumbnailUrl:null}},r.isAtRoot=w,r.isInPath=function(e,r,t){if(void 0===t&&(t=!1),r&&e.path){var n=r.split("/").filter((function(e){return e})),a=e.path.split("/").filter((function(e){return e}));return(t||n.length===a.length-1)&&n.length<a.length&&0===n.filter((function(e,r){return e!==a[r]})).length}return!1},r.getRootDirectory=U,r.getTransferFilesKey=function(e){return e||g.NULL_FILE_TRANSFER_KEY},r.isLocalDirectory=function(e){return e.isDir&&e.source===d.FileSource.Computer},r.downloadZipFromUrl=D,r.displayDownloadSnackbarError=function(e){c.Snackbar.fail(m.intl.formatMessage({id:"eIzkSh",defaultMessage:"Something's not working. Try downloading again."}),"download-transfer-notification"),f.reportException({err:e,tags:["js:file_transfers"]})},r.downloadFiles=function(e,r,a,i){return t.__awaiter(this,void 0,Promise,(function(){var s;return t.__generator(this,(function(t){return(s=n.downloadFiles(r,e,a,i)).then((function(e){var r=e.post_params?JSON.parse(e.post_params):{},t=e.url.toString();0===Object.keys(r).length?u.get({url:t}):D(t,r)})),[2,s]}))}))},r.renameDuplicateFiles=function(e,r){void 0===r&&(r=[]);var n=[],a=[],i=new Set,s=new Set;return r.filter((function(e){return w(e)})).forEach((function(e){i.add(e.id),s.add(e.path.toLowerCase())})),e.forEach((function(e){var r,o,l=p.split_filename(e.path);if(s.has(e.path.toLowerCase())){if(i.has(e.id))return;var u=1,c=void 0;do{c=l.name+" ("+u+")",r=l.ext?c+"."+l.ext:c,u++}while(s.has(r.toLowerCase()));i.add(e.id),s.add(r.toLowerCase()),o=t.__assign(t.__assign({},e),{path:r}),n.push(o)}else w(e)?(i.add(e.id),s.add(e.path.toLowerCase()),o=t.__assign({},e)):o=t.__assign({},e);a.push(o)})),{files:a,filesRenamed:n}},r.DAYS_IN_MS=864e5,r.getDateDiff=P,r.estimateExpirationOption=function(e,r){var t=P(new Date(e.getFullYear(),e.getMonth(),e.getDate()),new Date(r.getFullYear(),r.getMonth(),r.getDate()));switch(t){case I.ExpirationOption.SEVEN_DAYS:case I.ExpirationOption.THIRTY_DAYS:case I.ExpirationOption.NINETY_DAYS:return t;default:return I.ExpirationOption.CUSTOM}},r.getUpsellProps=function(e,r){var t={ctaCopy:e.cta_copy,ctaLink:e.cta_link,productName:e.product_name};return r&&(t.ctaLink=F.addTrackingParams(t.ctaLink,{},r)),t};var b=y("image"),M=y("video");function k(e){return!!e.asset&&b(e.asset)}function B(e){return!!e.asset&&M(e.asset)}function x(e,r){return r?a.filter(r,(function(r){return r.status===e})).length:0}r.isColorBackground=function(e){return!!e.color_hex&&!e.asset},r.isImageBackground=k,r.isVideoBackground=B,r.getImageBackgroundAsset=function(e){return k(e)?e.asset.value:null},r.getVideoBackgroundAsset=function(e){return B(e)?e.asset.value:null},r.generateTransferTrackingId=function(){return E.UUID.v4()},r.numWaiting=function(e){return x(d.UploadStatus.Waiting,e)},r.numSuccess=function(e){return x(d.UploadStatus.Success,e)},r.getChildrenFiles=function(e,r){if(!e.isDir)throw Error("Can only get children of a directory");return r.filter((function(r){return r.path!==e.path&&r.path.startsWith(e.path+"/")}))},r.areItemsUploaded=function(e,r){return e.every((function(e){return r[e.id]&&r[e.id].status===d.UploadStatus.Success}))},r.computeCreationRelativeExpirationDate=function(e,r){var t=function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())},n=t(r)-t(e);return new Date(+e+n)},r.browserSupportsNativeFS=function(){return!!i.checkBrowserVersion(i.chromium(),86,!0)},r.getBlocks=function(e,r,a){return t.__awaiter(this,void 0,Promise,(function(){return t.__generator(this,(function(t){return[2,n.getBlocksFiles(e,r,a)]}))}))},r.getBlock=function(e,r){return t.__awaiter(this,void 0,void 0,(function(){var n;return t.__generator(this,(function(t){switch(t.label){case 0:return[4,fetch("https://"+e+"/web_download_chunks_batch",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"web_block_request_tokens="+JSON.stringify([r])})];case 1:if(!(n=t.sent()).ok)throw 403===n.status?new h.BlockTokenExpired("Refresh block tokens"):new Error("Blockserver error");return[2,n]}}))}))},r.convertToUploadErrorType=function(e){var r;switch(null===(r=e.error_type)||void 0===r?void 0:r[".tag"]){case"not_found":return _.UploadErrorType.NotFound;case"no_permission":return _.UploadErrorType.NoPermission;case"restricted":return _.UploadErrorType.Restricted;case"invalid_args":return _.UploadErrorType.InvalidArgs;case"unknown":case"other":default:return _.UploadErrorType.Unknown}};r.getPlanComparisonUpsellConfig=function(e){var r=e&&e.find((function(e){return(function(e){return Boolean(e.upsell_config_value&&"plan_comparison_upsell_config"===e.upsell_config_value[".tag"])})(e)}));return r?r.upsell_config_value:void 0},r.getDefaultExpirationOption=function(e){return e?A.DEFAULT_EXPIRATION_OPTION_PAID:A.DEFAULT_EXPIRATION_OPTION_FREE},r.computeAddToTransferReferrer=function(e,r,t,n){var a=""+r;return t&&(a=""+t,n&&(a=t+"_"+n,n===N.ActionSurfaceLogValue.RIGHT_SIDEBAR&&1===e.length?a=t+"_"+n+"_single_file":n===N.ActionSurfaceLogValue.RIGHT_SIDEBAR&&e.length>1&&(a=t+"_"+n+"_multi_file"))),a},r.redirectToCreateTransferWithFiles=function(e,r){var t=T.prepareFileIdsParam(e);c.Snackbar.sync(m.intl.formatMessage({id:"EmOY+w",defaultMessage:"Creating new transfer..."}),!1,"create-transfer"),s.redirect(T.createTransferUrlWithParams({referrer:r,fileids:t}))},r.shouldShowTransferInSplitShare=function(e,r){return e&&r.length>0&&!r.some((function(e){return e.is_cloud_doc}))&&!r.some(S.File.isNoAccessSharedFolder)}})),define("modules/clean/react/file_transfers/redux/selectors",["require","exports","tslib","lodash","file-transfers/common/types","modules/clean/react/file_transfers/constants","modules/clean/react/file_transfers/redux/types","modules/clean/react/file_transfers/lib/utils","modules/clean/redux/selectors","modules/clean/redux/namespaces","modules/clean/react/browse/models","modules/clean/react/file_transfers/uploader/types"],(function(e,r,t,n,a,i,s,o,l,u,c,f){"use strict";function _(e,t){if(t===i.NULL_FILE_TRANSFER_KEY)throw Error("This should be used only get already-created transfers");return r.getFileTransfersState(e).transferSummaries[t]||null}function d(e,t){if(t===i.NULL_FILE_TRANSFER_KEY)throw Error("This should be used only get already-created transfers");return r.getFileTransfersState(e).receivedTransferSummaries[t]||null}Object.defineProperty(r,"__esModule",{value:!0}),r.getLoggedOutRootNsId=r.getLoggedOutUserId=r.getNumTotalTransfersFromFileTransfersNamespace=r.getBackgroundAndLogoFromFileTransfersNamespace=r.getOnboardingStepsShown=r.getTotalFailedFileCount=r.getTemporarilySavedEmailFormInfo=r.getTrackingParams=r.getUserMetadata=r.getInitialTrafficSource=r.getUserFlow=r.getProductConfig=r.getCompletedOnboardingSteps=r.getRecipients=r.getTransferSizeFromFileTransfersNamespace=r.getItemCountFromFileTransfersNamespace=r.getCurrentExpirationDate=r.getCurrentCreationDate=r.getLogo=r.getDisplayedBackground=r.getBackgroundPreview=r.getBackground=r.getTransferTrackingId=r.isConfirmTransferDeletionModalOpen=r.isManagementModalOpen=r.getCurrentTransferShareStatus=r.getTransferShareStatus=r.getReceivedTransferSummary=r.getTransferSummary=r.getIndexOfTransferId=r.getTransferId=r.getIsShareComplete=r.getIsShared=r.getFileList=r.computeSize=r.getPreviewableFiles=r.getFilesAsFileInfos=r.getRootLevelFilesAsFileInfos=r.getFileListForTransferId=r.getFile=r.getFilesForCurrentTransfer=r.getFiles=r.getActiveUserId=r.getCurrentTransferForEditing=r.getCurrentTransferSummary=r.getListReceivedTransferCursorToken=r.getReceivedTransferSummaries=r.getListTransferCursorToken=r.getTransferSummaries=r.getFileTransfersState=void 0,n=t.__importStar(n),r.getFileTransfersState=function(e){return l.getStateAtNamespace(e,u.FILE_TRANSFERS_NAMESPACE_KEY)},r.getTransferSummaries=function(e,t){var n=r.getFileTransfersState(e).transfersList[t].transferIds;return n?n.map((function(r){return _(e,r)})):null},r.getListTransferCursorToken=function(e,t){return r.getFileTransfersState(e).transfersList[t].cursorToken},r.getReceivedTransferSummaries=function(e,t){var n=r.getFileTransfersState(e).receivedTransfersList[t].transferIds;return n?n.map((function(r){return d(e,r)})):null},r.getListReceivedTransferCursorToken=function(e,t){return r.getFileTransfersState(e).receivedTransfersList[t].cursorToken},r.getCurrentTransferSummary=function(e){var t=r.getTransferId(e);return t?_(e,t):null},r.getCurrentTransferForEditing=function(e){var t=r.getTransferId(e)||i.NULL_FILE_TRANSFER_KEY;return t&&r.getFileTransfersState(e).transferSummaries[t]||null},r.getActiveUserId=function(e){return r.getFileTransfersState(e).activeUserId},r.getFiles=function(e){return r.getFileTransfersState(e).files},r.getFilesForCurrentTransfer=function(e){return r.getFiles(e)[o.getTransferFilesKey(r.getTransferId(e))]},r.getFile=function(e,t){return r.getFilesForCurrentTransfer(e)[t]||null},r.getFileListForTransferId=function(e,t){var a=r.getFiles(e),i=o.getTransferFilesKey(t);return i in a?n.sortBy(n.values(a[i]),"path"):null},r.getRootLevelFilesAsFileInfos=function(e){var t=r.getFileList(e,{isAtRoot:!0});if(!t)return null;for(var n=[],a=0,i=t;a<i.length;a++){var s=i[a];n.push(o.stateFileInfoAsFileInfo(s,{size:r.computeSize(e,s)}))}return n},r.getFilesAsFileInfos=function(e){var t=r.getFileList(e);if(!t)return null;for(var n=[],a=0,i=t;a<i.length;a++){var s=i[a];(o.isAtRoot(s)||s.isExpanded)&&n.push(o.stateFileInfoAsFileInfo(s,{size:r.computeSize(e,s)}))}return n},r.getPreviewableFiles=function(e){var n=r.getFileList(e);return n?n.map((function(e){var r=e.fileForPreview&&c.File.fromServerObject(JSON.parse(e.fileForPreview));return r&&t.__assign(t.__assign({},r),{name:o.fileNameFromPath(e.path)})})).filter((function(e){return e})):[]},r.computeSize=function(e,t){if(!t.isDir)return t.size;var n=r.getFileList(e)||[],a=o.getChildrenFiles(t,n)||[];if(t.size>0)return t.size;for(var i=0,s=0,l=a;s<l.length;s++){i+=l[s].size}return i},r.getFileList=function(e,t){var n=r.getFileListForTransferId(e,r.getTransferId(e));return t?n?(t.isAtRoot&&(n=n.filter((function(e){return o.isAtRoot(e)}))),!0===t.isDir?n=n.filter((function(e){return e.isDir})):!1===t.isDir&&(n=n.filter((function(e){return!e.isDir}))),n):null:n},r.getIsShared=function(e){return r.getFileTransfersState(e).isShared},r.getIsShareComplete=function(e){return r.getFileTransfersState(e).isShareComplete},r.getTransferId=function(e){return r.getFileTransfersState(e).transferId},r.getIndexOfTransferId=function(e,t){if(null===t)return-1;var n=r.getTransferShareStatus(e,t),i=null;return n===a.TransferShareStatus.SHARED?i=r.getFileTransfersState(e).transfersList[s.TransferListView.Active]:n===a.TransferShareStatus.EXPIRED&&(i=r.getFileTransfersState(e).transfersList[s.TransferListView.Expired]),i&&i.transferIds?i.transferIds.indexOf(t):-1},r.getTransferSummary=_,r.getReceivedTransferSummary=d,r.getTransferShareStatus=function(e,t){if(!t)return null;var n=r.getFileTransfersState(e).transfersList,i=n[s.TransferListView.Active].transferIds;if(i&&i.includes(t))return a.TransferShareStatus.SHARED;var o=n[s.TransferListView.Expired].transferIds;return o&&o.includes(t)?a.TransferShareStatus.EXPIRED:null},r.getCurrentTransferShareStatus=function(e){return r.getTransferShareStatus(e,r.getTransferId(e))},r.isManagementModalOpen=function(e){return r.getFileTransfersState(e).managementModalOpen},r.isConfirmTransferDeletionModalOpen=function(e){return r.getFileTransfersState(e).confirmTransferDeletionModalOpen},r.getTransferTrackingId=function(e){return r.getFileTransfersState(e).transferTrackingId},r.getBackground=function(e){return r.getFileTransfersState(e).background},r.getBackgroundPreview=function(e){return r.getFileTransfersState(e).backgroundPreview},r.getDisplayedBackground=function(e){var t;return null!==(t=r.getBackgroundPreview(e))&&void 0!==t?t:r.getBackground(e)},r.getLogo=function(e){return r.getFileTransfersState(e).logo},r.getCurrentCreationDate=function(e){var t=r.getCurrentTransferForEditing(e);if(null!==t&&t.creation_time)return new Date(t.creation_time)},r.getCurrentExpirationDate=function(e){var t=r.getCurrentTransferForEditing(e);if(null!==t&&t.expiration_time)return new Date(t.expiration_time)},r.getItemCountFromFileTransfersNamespace=function(e){var r=e.files[o.getTransferFilesKey(e.transferId)];if(!r)return{computerItemCount:0,dropboxItemCount:0,totalItemCount:0};var t=n.values(r),a=t.filter((function(e){return e.originalSource===f.OriginalFileSource.Computer})),i=t.filter((function(e){return e.originalSource===f.OriginalFileSource.Dropbox}));return{computerItemCount:n.size(a),dropboxItemCount:n.size(i),totalItemCount:n.size(t)}},r.getTransferSizeFromFileTransfersNamespace=function(e){var r=e.files[o.getTransferFilesKey(e.transferId)];if(!r)return null;var t=n.values(r);return n.reduce(t,(function(e,r){return e+r.size}),0)},r.getRecipients=function(e){var t=o.getTransferFilesKey(r.getTransferId(e));return t?r.getFileTransfersState(e).recipients[t]:null},r.getCompletedOnboardingSteps=function(e){return r.getFileTransfersState(e).completedOnboardingSteps},r.getProductConfig=function(e){return r.getFileTransfersState(e).productConfig},r.getUserFlow=function(e){return r.getFileTransfersState(e).userFlow},r.getInitialTrafficSource=function(e){return r.getFileTransfersState(e).initialTrafficSource},r.getUserMetadata=function(e){return r.getFileTransfersState(e).userMetadata},r.getTrackingParams=function(e){return r.getFileTransfersState(e).trackingParams},r.getTemporarilySavedEmailFormInfo=function(e){return r.getFileTransfersState(e).temporarilySavedEmailFormInfo},r.getTotalFailedFileCount=function(e){return r.getFileTransfersState(e).totalFailedFileCount},r.getOnboardingStepsShown=function(e){return r.getFileTransfersState(e).onboardingStepsShown},r.getBackgroundAndLogoFromFileTransfersNamespace=function(e){var r,t;return{background_id:(null===(r=e.background)||void 0===r?void 0:r.background_id)||null,logo_id:(null===(t=e.logo)||void 0===t?void 0:t.asset_id)||null}},r.getNumTotalTransfersFromFileTransfersNamespace=function(e){var r;return(null===(r=e.productConfig)||void 0===r?void 0:r.constants.numTotalTransfers)||null},r.getLoggedOutUserId=function(e){return r.getFileTransfersState(e).loggedOutUserId||0},r.getLoggedOutRootNsId=function(e){return r.getFileTransfersState(e).loggedOutRootNsId||0}})),define("modules/clean/react/file_transfers/redux/types",["require","exports"],(function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Actions=r.TransferListView=r.SettingsVisibilityChange=r.ModalVisibilityChange=r.UserFlow=void 0,(function(e){e.TRANSFER_MANAGEMENT_MODAL="transfer_management_modal",e.MANAGEMENT_LIST_VIEW="management_list_view",e.CREATION="creation",e.RECIPIENT="recipient",e.BROWSE="browse"})(r.UserFlow||(r.UserFlow={})),(function(e){e.OPEN="open",e.CANCEL="cancel",e.OK="ok"})(r.ModalVisibilityChange||(r.ModalVisibilityChange={})),(function(e){e.OPEN="open",e.CLOSE="close"})(r.SettingsVisibilityChange||(r.SettingsVisibilityChange={})),(function(e){e[e.Active=0]="Active",e[e.Expired=1]="Expired"})(r.TransferListView||(r.TransferListView={})),(function(e){e.ChangeSettingsModalState="FileTransfers/ChangeSettingsModalState",e.ChangeConfirmTransferDeletionModalState="FileTransfers/ChangeConfirmTransferDeletionModalState",e.CopyTransferLink="FileTransfers/CopyTransferLink",e.DeleteTransferSummary="FileTransfers/DeleteTransferSummary",e.ExpireTransferSummary="FileTransfers/ExpireTransferSummary",e.ReactivateTransferSummary="FileTransfers/ReactivateTransferSummary",e.FinishedEditing="FileTransfers/FinishedEditing",e.HideOnboardingStep="FileTransfers/HideOnboardingStep",e.InitApp="FileTransfers/InitApp",e.LogAllItemsUploaded="FileTransfers/LogAllItemsUploaded",e.LogAutoDownload="FileTransfers/LogAutoDownload",e.LogOnboarding="FileTransfers/LogOnboarding",e.LogEmailFeedback="FileTransfers/LogEmailFeedback",e.LogUpsell="FileTransfers/LogUpsell",e.MarkOnboardingStepComplete="FileTransfers/MarkOnboardingStepComplete",e.MarkServerRestrictedFiles="FileTransfers/MarkServerRestrictedFiles",e.MetadataUpdated="FileTransfers/MetadataUpdated",e.SendTransferViaEmail="FileTransfers/SendTransferViaEmail",e.TrackUserLeapEvent="FileTransfers/TrackUserLeapEvent",e.ReceivedTransferRowClick="FileTransfers/ReceivedTransferRowClick",e.SetActiveUserId="FileTransfers/SetActiveUserId",e.SetBackground="FileTransfers/SetBackground",e.SetBackgroundPreview="FileTransfers/SetBackroundPreview",e.SetLogo="FileTransfers/SetLogo",e.SaveLogo="FileTransfers/SaveLogo",e.SetCurrentTransfer="FileTransfers/SetCurrentTransfer",e.SetExpiration="FileTransfers/SetExpiration",e.SetIsShared="FileTransfers/SetShareStatus",e.SetIsShareComplete="FileTransfer/SetShareComplete",e.ChangeManagementModalState="FileTransfers/ChangeManagementModalState",e.SetProductConfig="FileTransfers/SetProductConfig",e.SetRecipients="FileTransfers/SetRecipients",e.SetShareUrl="FileTransfers/SetShareUrl",e.SetFileTransfersUserMetadata="FileTransfers/SetFileTransfersUserMetadata",e.UpdateTransferSummaries="FileTransfers/UpdateTransferSummaries",e.UpdateReceivedTransferSummaries="FileTransfers/UpdateReceivedTransferSummaries",e.ViewFeedbackForm="FileTransfers/ViewFeedbackForm",e.TemporarilySaveEmailFormInfo="FileTransfers/TemporarilySaveEmailFormInfo",e.ClearSavedEmailFormInfo="FileTransfers/ClearSavedEmailFormInfo",e.LogInternetDisconnected="FileTransfers/LogInternetDisconnected",e.LogOnboardingStepShown="FileTransfers/LogOnboardingStepShown",e.MarkOnboardingStepShown="FileTransfers/MarkOnboardingStepShown",e.CollapseDirectory="FileTransfers/CollapseDirectory",e.ExpandDirectory="FileTransfers/ExpandDirectory",e.LogShareError="FileTransfers/LogShareError",e.LogExperimentExposure="FileTransfers/LogExperimentExposure",e.UpdateSettingsFromManagementModal="FileTransfers/UpdateSettingsFromManagementModal",e.SetLoggedOutUserId="FileTransfers/SetLoggedOutUserId",e.SetLoggedOutRootNsId="FileTransfers/SetLoggedOutRootNsId",e.LogSendVerificationCode="FileTransfers/LogSendVerificationCode",e.LogVerifyCode="FileTransfers/LogVerifyCode",e.LogSettingsClicked="LogSettingsClicked"})(r.Actions||(r.Actions={}))})),define("modules/clean/react/file_transfers/uploader/types",["require","exports"],(function(e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.UploaderType=r.UploadCancelSource=r.UploadErrorType=r.UploadActionSource=r.OriginalFileSource=r.FileSource=r.UploadStatus=void 0,(function(e){e[e.Waiting=0]="Waiting",e[e.Uploading=1]="Uploading",e[e.Success=2]="Success",e[e.Error=3]="Error"})(r.UploadStatus||(r.UploadStatus={})),(function(e){e.Dropbox="dropbox",e.Computer="computer",e.Transfer="transfer"})(r.FileSource||(r.FileSource={})),(function(e){e.Dropbox="dropbox",e.Computer="computer",e.Unknown="unknown"})(r.OriginalFileSource||(r.OriginalFileSource={})),(function(e){e.DRAG_DROP="drag_drop",e.DROPBOX_CHOOSER_ADDITIONAL="dropbox_chooser_additional",e.DROPBOX_CHOOSER_INITIAL="dropbox_chooser_initial",e.UPLOAD_BUTTON_ADDITIONAL="upload_button_additional",e.UPLOAD_BUTTON_INITIAL="upload_button_initial",e.DESKTOP_CONTEXT_MENU="desktop_context_menu",e.PAGELET_ON_LOAD="pagelet_on_load"})(r.UploadActionSource||(r.UploadActionSource={})),(function(e){e.EmptyFile="empty_file",e.IgnoredFile="ignored_file",e.OverMaxFileSize="over_max_file_size",e.PointerFile="pointer_file",e.TemporaryFile="temporary_file",e.InvalidChar="invalid_char",e.NotFound="not_found",e.NoPermission="no_permission",e.Restricted="restricted",e.InvalidArgs="invalid_args",e.Unknown="unknown"})(r.UploadErrorType||(r.UploadErrorType={})),(function(e){e.CancelButton="cancel_button",e.WindowClose="window_close"})(r.UploadCancelSource||(r.UploadCancelSource={})),(function(e){e.Pluploader="pluploader",e.UploadKitBasic="upload_kit_basic",e.UploadKitParallel="upload_kit_parallel"})(r.UploaderType||(r.UploaderType={}))})),define("file-transfers/i18n/index",["require","exports","tslib","react","prop-types","react-intl"],(function(e,r,t,n,a,i){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TranslationProvider=void 0,n=t.__importStar(n),a=t.__importDefault(a);var s=(function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.getChildContext=function(){return{formatBytes:this.props.formatBytes,isEnvExternal:this.props.isEnvExternal,applyTranslation:this.props.applyTranslation}},r.prototype.render=function(){return n.createElement(i.RawIntlProvider,{value:this.props.intl},this.props.children)},r})(n.Component);r.TranslationProvider=s,s.displayName="TranslationProvider",s.childContextTypes={formatBytes:a.default.func,isEnvExternal:a.default.bool,applyTranslation:a.default.func}}));
//# sourceMappingURL=pkg-file-transfers.min.js-vfl_t33zl.map