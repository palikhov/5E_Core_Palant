define(["require","exports","file-viewer/watermarking/plugin/utils/measureText","file-viewer/watermarking/plugin/utils/toRadAngle"],(function(t,e,a,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawTextTile=void 0,e.drawTextTile=function(t){var e=t.text,n=t.size,r=t.fontFamily,h=t.color,o=t.opacity,l=t.angle,s=i.toRadAngle(l),c=document.createElement("canvas"),d=c.getContext("2d");if(!d)throw new Error("Cannot draw on canvas");var u=a.measureText(d,e,n,r),g=u.width,M=u.height;c.width=Math.abs(g*Math.cos(s))+Math.abs(M*Math.sin(s)),c.height=Math.abs(g*Math.sin(s))+Math.abs(M*Math.cos(s));var f="#000";"light"===h&&(f="#fff"),d.font=n+"px "+r,d.globalAlpha=o,d.fillStyle=f,d.textBaseline="bottom";var v=0,w=c.height;l<90?v=M*Math.sin(s):l<180?(v=M*Math.sin(s)-g*Math.cos(s),w+=M*Math.cos(s)):l<270?(v=-g*Math.cos(s),w=0):w+=g*Math.sin(s),d.translate(v,w),d.rotate(-s),d.fillText(e,0,0);var x=a.measureText(d,e,n,r,!0),m=x.width;return{canvas:c,actualUnrotatedHeight:x.height,actualUnrotatedWidth:m}}}));
//# sourceMappingURL=drawTextTile.min.js-vflK9r7Sj.map