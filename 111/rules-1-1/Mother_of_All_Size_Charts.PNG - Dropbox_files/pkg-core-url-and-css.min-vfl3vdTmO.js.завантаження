define("modules/clean/css",["require","exports","modules/clean/static_urls","modules/core/assert","modules/core/uri","modules/clean/css_cache"],(function(e,t,r,o,n,i){"use strict";function s(e){void 0===e&&(e=document);for(var t=i.getOrCreateCache(e),r=e.querySelectorAll('link[rel="stylesheet"]'),o=0;o<r.length;o++){var s=r[o],a=n.URI.parse(s.href).getPath();0,null==t.already_loaded_css_paths[a]&&(t.loaded_css[a]=Promise.resolve(),t.already_loaded_css_paths[a]="loaded")}}function a(e,t,o,n){void 0===n&&(n=document);var s=i.getOrCreateCache(n),a=r.static_url(e);return i.loadCssWithCache(n,s,e,a).then(t,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerCSSForPreload=t.is_loaded=t.require_css_multi=t.require_css=t.css_url=void 0,s(),t.css_url=function(e){return'url("'+String(e).replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'")'},t.require_css=a,t.require_css_multi=function(e,t,r,o){void 0===o&&(o=document);var n=e.map((function(e){return a(e,void 0,void 0,o)}));return Promise.all(n).then(t,r)},t.is_loaded=function(e,t){void 0===t&&(t=document);var r=i.getOrCreateCache(t);return!!e.every((function(e){return o.assert(e.startsWith("/static/"),"invalid static css path: "+e),"loaded"===r.already_loaded_css_paths[e]}))||(s(t),e.every((function(e){return"loaded"===r.already_loaded_css_paths[e]})))},t.registerCSSForPreload=function(e){}})),define("modules/clean/css_cache",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadCssWithCache=t.getOrCreateCache=void 0,t.getOrCreateCache=function(e){var t=e;return t._cssCache||(t._cssCache={loaded_css:Object.create(null),already_loaded_css_paths:Object.create(null)}),t._cssCache},t.loadCssWithCache=function(e,t,r,o){var n=t.loaded_css[r];return n||(n=new Promise((function(n,i){var s=e.createElement("link");return s.href=o,s.rel="stylesheet",s.type="text/css",s.crossorigin="anonymous",s.onload=function(){return t.already_loaded_css_paths[r]="loaded",n()},s.onerror=i,e.head.appendChild(s)})),t.loaded_css[r]=n,t.already_loaded_css_paths[r]="downloading"),n}})),define("modules/core/uri",["require","exports","modules/core/assert"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryComponent=t.URI=void 0;var o=/^(?:([^:\/\\?#]+):)?(?:[\/\\]{2}([^\/\\?#]*))?([^?#]*)(?:\?([^#]*))?(?:[#](.*))?$/,n=/^[a-zA-Z][a-zA-Z0-9+.\-]*$/,i=(function(){function e(e){void 0===e&&(e={}),this.dict={},this.add(e)}return e.parseString=function(t){if(!t)return{};var r={};return t.split("&").forEach((function(t){if(""!==t){var o=t.split("="),n=e.decode(o[0]),i=e.decode(o.slice(1).join("="));if(r.hasOwnProperty(n)){var s=r[n],a=void 0;(a="string"==typeof s?[s]:void 0===s?[]:s).push(i),r[n]=a}else r[n]=i}})),r},e.prototype.add=function(e,t){if("string"==typeof e)t&&(Array.isArray(t)?this.dict[e]=t.map(String):this.dict[e]=String(t));else for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];null!=o&&(Array.isArray(o)?this.dict[r]=o.map(String):this.dict[r]=String(o))}return this},e.prototype.remove=function(e){return delete this.dict[e],this},e.prototype.replace=function(e){return this.dict=e,this},e.prototype.toString=function(){for(var t=[],r=Object.keys(this.dict).sort(),o=function(r){if(n.dict.hasOwnProperty(r)){var o=n.dict[r];Array.isArray(o)?o.forEach((function(o){t.push(e.encode(r)+"="+e.encode(o))})):t.push(e.encode(r)+"="+e.encode(o))}},n=this,i=0,s=r;i<s.length;i++){o(s[i])}return t.length?t.join("&"):""},e.decode=function(e){return null==e?"":s.decode(e.replace(/\+/g,"%20"))},e.encode=function(e){return null==e?"":s.encode(e).replace(/%20/g,"+")},e})();t.QueryComponent=i;var s=(function(){function e(e){void 0===e&&(e={}),this.query=new i,this.initFromObject(e)}return e.prototype.initFromObject=function(e){this.setScheme(e.scheme),this.authority=e.authority||"",this.path=e.path||"",this.setQuery(e.query),this.fragment=e.fragment||""},e.prototype.getScheme=function(){return this.scheme},e.prototype.getAuthority=function(){return this.authority},e.prototype.getPath=function(){return this.path},e.prototype.getQuery=function(){return this.query.dict},e.prototype.getFragment=function(){return this.fragment},e.prototype.setScheme=function(e){void 0===e&&(e="");var t=!e||Boolean(e.match(n));return r.assert(t,"Invalid scheme",{exc_extra:{scheme_param:e}}),this.scheme=e,this},e.prototype.setAuthority=function(e){return void 0===e&&(e=""),this.authority=e,this},e.prototype.setPath=function(e){return void 0===e&&(e=""),this.path=e,this},e.prototype.setQuery=function(e){return void 0===e&&(e={}),this.query=new i(e),this},e.prototype.setFragment=function(e){return void 0===e&&(e=""),this.fragment=e,this},e.prototype.updateQuery=function(e,t){return this.query.add(e,t),this},e.prototype.removeQuery=function(e){return this.query.remove(e),this},e.prototype.clone=function(){return new e(this.toObject())},e.prototype.toObject=function(){return{scheme:this.getScheme(),authority:this.getAuthority(),path:this.getPath(),query:this.getQuery(),fragment:this.getFragment()}},e.prototype.toString=function(){var t="";this.scheme&&(t+=this.scheme+":"),this.authority&&(t+="//"+e.encode(this.authority,":@[]")),this.path&&(r.assert(!this.authority||!this.path.length||"/"===this.path[0],'Path must start with a "/" if URI is not relative'),t+=e.encode(this.path,"/"));var o=this.query.toString();return o&&(t+="?"+o),this.fragment&&(t+="#"+e.encode(this.fragment,":@[]/&=+?#!")),t},e.parse=function(t){var r=String(t).match(o)||[],n=r[1],s=r[2],a=r[3],c=r[4],u=r[5],d=new e;return d.setScheme(n),d.setAuthority(e.decode(s)),d.setPath(e.decode(a)),d.setQuery(i.parseString(c)),d.setFragment(e.decode(u)),d},e.decode=function(e){return e?decodeURIComponent(e):""},e.encode=function(e,t){if(void 0===t&&(t=""),!e)return"";e=encodeURIComponent(e);for(var r=0,o=t+="~";r<o.length;r++){var n=o[r],i=encodeURIComponent(n);e=e.replace(new RegExp(i,"g"),n)}return e},e.encode_parts=function(t,r){return void 0===r&&(r="/"),t.split(r).map((function(t){return e.encode(t)})).join(r)},e.Query=i,e})();t.URI=s})),define("modules/clean/static_urls",["require","exports","modules/core/assert","modules/core/uri"],(function(e,t,r,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.static_url=void 0,t.static_url=function(e){return r.assert(0===e.indexOf("/static/"),"'"+e+"' is not a /static url"),new o.URI({scheme:"https",authority:"cfl.dropboxstatic.com",path:e}).toString()}}));
//# sourceMappingURL=pkg-core-url-and-css.min.js-vfluyA2xV.map