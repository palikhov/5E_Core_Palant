define(["require","exports","tslib","react","typescript/component_libraries/files_components/src/blades/info_blade/index","typescript/component_libraries/files_components/src/blades/info_blade/metadata/metadata_row","react-redux","typescript/component_libraries/pro-ui/src/components/branding/branding_block/optional_branding_block","file-viewer/utils","typescript/component_libraries/flows/src/components/approval-forms/approval_metadata","file-viewer/comments2/plugin/index"],(function(e,t,a,n,i,o,l,r,d,s,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InfoBladePluginBase=t.INFO_BLADE_PLUGIN_ID=void 0,n=a.__importStar(n),t.INFO_BLADE_PLUGIN_ID="info_blade";var f=function(e,a,f,u,p,_){var I=this;this.layerUI={},this.rightRailUI={Sidebar:function(e){var a,f,u=e.file,p=n.useMemo((function(){var e=u.fqPath,t=u.name,a=u.lastModifiedDate;return{fqPath:e,size:u.size,name:t,lastModifiedMs:a?new Date(a).getTime():void 0}}),[u]),_=n.useMemo((function(){return{enabled:!0,openPath:e.navigation.navigateToPath}}),[e.navigation.navigateToPath]),m=n.useMemo((function(){if("loaded"===e.account.state&&e.account.data)return d.getRootName(e.account.data)}),[e.account]),g=n.useCallback((function(e){I.context.logUserAction({action:e?"click_show_all_metadata":"click_hide_all_metadata",context:"right_sidebar"})}),[]),h=n.useCallback((function(){I.context.logUserAction({action:"right_rail_approval_status_click",context:"right_sidebar",file_id:u.fileId})}),[u]);return n.default.createElement(l.Provider,{store:I.store},n.default.createElement(i.InfoBlade,{intl:I.platform.intl,id:t.INFO_BLADE_PLUGIN_ID},n.default.createElement(r.OptionalBrandingBlock,{sharedLinkInfo:e.sharedLinkInfo,brandingInfo:I.brandingInfo}),n.default.createElement(i.BasicFileMetadata,{file:p,pathBar:_,accountRootName:m}),n.default.createElement(i.SharedLinkMetadata,Object.assign({},e.sharedLinkInfo)),n.default.createElement(i.UploadMetadata,{fileId:u.fileId,sharedLinkURL:null===(a=e.sharedLinkInfo)||void 0===a?void 0:a.url}),I.getApprovalStatus&&n.default.createElement(s.ApprovalMetadata,{fileId:u.fileId,getApprovalStatus:I.getApprovalStatus,onClick:function(){h(),I.context.getPluginData().navigation.openRightRailPlugin("approval_status",c.COMMENTS_PLUGIN_ID)},InfoBladeRowComponent:o.InfoBladeMetadataRow}),I.userId&&n.default.createElement(i.FileContentMetadata,{fileId:u.fileId,userId:I.userId,sharedLinkURL:null===(f=e.sharedLinkInfo)||void 0===f?void 0:f.url,onShowMore:g})))},Control:function(){return n.default.createElement(i.InfoBladeCollapsedBladeButton,{intl:I.platform.intl,id:t.INFO_BLADE_PLUGIN_ID})}},this.lifecycle={},this.platform=e,this.store=a,this.userId=u,this.brandingInfo=p,this.context=f,this.getApprovalStatus=_};t.InfoBladePluginBase=f}));
//# sourceMappingURL=info_blade_plugin.min.js-vflKRNLxT.map