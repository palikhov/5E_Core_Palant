define(["require","exports","tslib","react","classnames","spectrum/positioned_portal/index","spectrum/facepile_tooltip/facepile_tooltip_content","typescript/libraries/comments2/src/components/rich_facepile/rich_facepile"],(function(o,e,t,i,r,n,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UtilTooltip=void 0,i=t.__importStar(i),r=t.__importDefault(r);var p=(function(o){function e(e){var t=o.call(this,e)||this;return t.tooltipDirection="below",t.hidePortal=function(){var o=t.portalRef.current;o&&o.hidePortal.call(o)},t.handlePortalMouseout=function(o){t.props.displayMode===l.DisplayMode.Hover&&t.hasLeftIntoTooltip(o)&&o.stopPropagation()},t.onContentMouseLeave=function(){t.props.displayMode===l.DisplayMode.Hover&&t.hidePortal()},t.renderContent=function(){var o,e,n,l=t.props,p=l.avatarColor,s=l.tooltipContent,c=l.tooltipContentWrapperClassName,d=l.source;return null===s?null:i.createElement(a.FacepileTooltipContent,{backgroundColor:p,className:r.default("sc-rich-facepile-tooltip-content-container",c,(o={},o["offset-facepile"]="fileViewer"===d&&(s.props.colorSeed||(null===(n=null===(e=s.props.children)||void 0===e?void 0:e.props)||void 0===n?void 0:n.colorSeed)),o)),tooltipContent:s,onMouseLeave:t.onContentMouseLeave})},t.portalRef=i.createRef(),t}return t.__extends(e,o),e.prototype.componentDidUpdate=function(o){var e=o.displayMode,t=this.props.displayMode,i=this.portalRef.current;i&&t!==e&&(t===l.DisplayMode.ForceShow?(this.hidePortal(),window.setTimeout((function(){return i.showPortal.call(i)}),0)):i.state.isShown&&this.hidePortal())},e.prototype.hasLeftIntoTooltip=function(o){var e=o.target.getBoundingClientRect(),t=Math.abs(e.top-o.pageY),i=Math.abs(e.bottom-o.pageY),r=Math.abs(e.left-o.pageX),n=Math.abs(e.right-o.pageX);switch(Math.min(t,i,r,n)){case t:return"above"===this.tooltipDirection;case i:return"below"===this.tooltipDirection;case r:return"left"===this.tooltipDirection;case n:default:return"right"===this.tooltipDirection}},e.prototype.render=function(){var o=this.props,e=o.avatar,t=o.onTooltipShown,r=o.onTooltipHidden,a=o.displayMode,p=void 0===a?l.DisplayMode.Auto:a,s=p===l.DisplayMode.Hover?i.createElement("div",{onMouseLeave:this.handlePortalMouseout},e):e;return i.createElement(n.PositionedPortal,{renderContent:this.renderContent,onDidShow:t,onWillClose:r,isShowInitially:p===l.DisplayMode.ForceShow,positioning:this.tooltipDirection,ref:this.portalRef,showOnMouseMove:p===l.DisplayMode.Auto||p===l.DisplayMode.Hover,closeOnBlur:p===l.DisplayMode.Auto||p===l.DisplayMode.Hover},s)},e})(i.PureComponent);e.UtilTooltip=p}));
//# sourceMappingURL=util.min.js-vflthDYjk.map