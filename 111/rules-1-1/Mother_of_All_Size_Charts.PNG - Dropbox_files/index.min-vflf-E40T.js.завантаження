define(["require","exports","tslib","react","classnames","typescript/libraries/comments2/src/components/annotation_highlight/index","typescript/libraries/comments2/src/components/annotation_rectangle/index","typescript/libraries/comments2/src/components/annotation_conductor_layer/utilities"],(function(e,t,n,a,r,i,o,s){"use strict";function l(e,t,n,r,s){return e.map((function(e){var l=e.id,u=e.annotation,d=c(u),y=d.type,g=d.regions,p=l===n||l===s||l===r;switch(y){case"rectangle":return a.createElement(o.AnnotationRectangle,{key:l,rectangle:g[0],isEmphasized:p,useV2Design:t});case"highlight":return i.renderAnnotationHighlight({key:l,highlight:g,isEmphasized:p});case"other":return null}}))}Object.defineProperty(t,"__esModule",{value:!0}),t.AnnotationViewLayer=void 0,a=n.__importStar(a),r=n.__importDefault(r);var c=function(e){return"image"===e.type?{type:"rectangle",regions:[e.region]}:{type:e.regionType,regions:e.regions}};t.AnnotationViewLayer=function(e){var t=e.threads,i=e.activatedThreadId,u=e.focusedThreadId,d=e.hoverThreadId,y=e.hideLayer,g=e.useV2Design,p=e.layerSize,h=y?[]:[i,u,d],m=t.filter((function(e){return"rectangle"===c(e.annotation).type})),_=t.filter((function(e){return"highlight"===c(e.annotation).type})),v=l.apply(void 0,n.__spreadArrays([m,!!g],h)),f=l.apply(void 0,n.__spreadArrays([_,!!g],h)),b=l.apply(void 0,n.__spreadArrays([n.__spreadArrays(m,_),!!g],h)),w=void 0;if(g&&p){var A=m.filter((function(e){return e.id===i}));if(A&&1===A.length){var E=c(A[0].annotation).regions[0];w=s.createPlacementFromNormalizedRegion(E,p.width,p.height)}}return a.createElement("div",{className:"sc-annotation-view-layer"},a.createElement("div",{className:r.default("sc-annotation-view-layer__regular-sublayer",{"sc-annotation-view-layer__hide-regular-sublayer":y})},a.createElement("div",{className:"sc-annotation-view-layer__regular-rectangle-sublayer"},v),a.createElement("div",{className:"sc-annotation-view-layer__regular-highlight-sublayer"},f)),a.createElement("div",{className:"sc-annotation-view-layer__emphasis-sublayer"},b),w&&a.createElement(o.AnnotationCutoutOverlay,{placement:w}))}}));
//# sourceMappingURL=index.min.js-vfl6JaRjI.map