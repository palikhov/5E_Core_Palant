define("modules/clean/loggers/device_type",["require","exports","tslib","modules/core/browser_detection"],(function(e,t,n,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),t.getDeviceType=t.DeviceType=void 0,r=n.__importStar(r),(function(e){e.desktop="desktop",e.mobile="mobile",e.tablet="tablet"})(i=t.DeviceType||(t.DeviceType={})),t.getDeviceType=function(){return r.is_supported_mobile_browser()?i.mobile:r.is_tablet()?i.tablet:i.desktop}})),define("modules/clean/photos/batching_thumb_store",["require","exports","tslib","modules/clean/photos/thumb_loading/batching_thumb_loader","modules/clean/photos/thumb_loading/generic_thumb_store","modules/constants/request"],(function(e,t,n,r,i,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),o=n.__importStar(o);t.default=function(e){var t=!(!e||!e.allow_http2)&&e.allow_http2,n=o.IS_HTTP2&&t,a=n?void 0:new r.BatchingThumbLoader;return new i.GenericThumbStore(a,!n)}})),define("modules/clean/photos/thumb_loading/batching_thumb_loader",["require","exports","modules/clean/photos/batch_thumb_loader","modules/clean/photos/thumb_loading/utils"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BatchingThumbLoader=void 0;var i=(function(){function e(){this.batch_thumb_loader=new n.BatchThumbLoader({})}return e.prototype.get_request_id=function(){return this.batch_thumb_loader.vend_request_id()},e.prototype.load_image=function(e,t,n,r,i,o){this.batch_thumb_loader.queue_thumb(e,this._thumb_loaded.bind(this,{url:e,request_id:t,success:r,error:i,should_retry:o}),{onrequest:n,request_id:t}),window.setTimeout(this.batch_thumb_loader.flush.bind(this.batch_thumb_loader,10))},e.prototype._thumb_loaded=function(e,t){var n=e.url,i=(e.request_id,e.success),o=e.error,a=e.should_retry;t&&0===t.indexOf("data:")?i(t):r.load_individual_image(n,0,i,o,a)},e.prototype.cancel_thumb=function(e){this.batch_thumb_loader.cancel_thumb(e)},e})();t.BatchingThumbLoader=i})),define("modules/clean/react/takedown_warning",["require","exports","tslib","react","classnames","modules/constants/python","modules/core/i18n"],(function(e,t,n,r,i,o,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TakedownWarning=void 0,r=n.__importDefault(r),i=n.__importDefault(i);t.TakedownWarning=function(e){var t=e.takedownType;return r.default.createElement("div",{className:i.default("notify","server-success")},(function(e){return e===o.TakedownRequestTypes.DMCA?a.intl.formatMessage({id:"z8QPs2",defaultMessage:"Certain files in this folder canâ€™t be shared due to a takedown request in accordance with the DMCA. <a>Learn more</a>"},{a:function(e){return r.default.createElement("a",{target:"_top",href:"/help/210"},e)}}):a.intl.formatMessage({id:"KUyXWm",defaultMessage:"Certain files in this folder are unavailable. For more information <a>contact Dropbox support</a>."},{a:function(e){return r.default.createElement("a",{target:"_top",href:"/ticket"},e)}})})(t))},t.TakedownWarning.displayName="TakedownWarning"})),define("modules/clean/react/thumbnail",["require","exports","tslib","classnames","react","modules/clean/photos/batching_thumb_store","spectrum/file_icon/index","modules/constants/python","modules/core/uri","modules/clean/file_store/utils","modules/clean/react/files_view/constants","modules/clean/react/files_view/view_type"],(function(e,t,n,r,i,o,a,u,s,l,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThumbnailIcon=void 0,r=n.__importDefault(r),i=n.__importDefault(i),o=n.__importDefault(o);var _=d.ViewTypeThumbnailSizes[c.ViewType.LargeGrid],m=_+"x"+_,p=o.default(),h=(function(e){function t(t){var n=e.call(this,t)||this;return n.bindingId=null,n.handleImageError=function(){n.setState({src:null})},n.state=n.getStateForTemplateUrl(n.props.file.thumbnail_url_tmpl),n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.bindThumbStore()},t.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=e.file.thumbnail_url_tmpl;t!==this.props.file.thumbnail_url_tmpl&&this.setState(this.getStateForTemplateUrl(t))},t.prototype.UNSAFE_componentWillUpdate=function(){this.unbindThumbStore()},t.prototype.componentDidUpdate=function(){this.bindThumbStore()},t.prototype.componentWillUnmount=function(){this.unbindThumbStore()},t.prototype.bindThumbStore=function(){var e=this;if(this.state.isLoading&&!this.bindingId){var t=this.state.url;t&&(this.bindingId=p.bind_url(t,{onSuccess:function(){e.setState({isLoading:!1,src:p.get_thumb(t)})},onError:function(){e.setState({isLoading:!1})}}))}},t.prototype.unbindThumbStore=function(){this.bindingId&&(p.unbind_url(this.bindingId),this.bindingId=null)},t.prototype.getStateForTemplateUrl=function(e){var n=null;if(!e)return{isLoading:!1,src:null};var r=t.getThumbnailUrl(e);return r&&(n=p.get_thumb(r)),{isLoading:!!r&&!n,src:n,url:r}},t.getThumbnailUrl=function(e){if(e){var t=s.URI.parse(e);return t.updateQuery("size",m),t.updateQuery("size_mode",u.THUMBNAIL_SIZE_MODE.EXACT.toString()),t.toString()}},t.prototype.render=function(){var e,t=this.props,n=t.alt,o=t.file,u=t.iconSize,s=t.className,d=this.state.src;return d?(e=["icon","thumbnail-image--loaded",s],i.default.createElement("img",{alt:n,className:r.default(e),src:d,onError:this.handleImageError})):(e=["icon","thumbnail-image--failed",s],i.default.createElement(a.FileIcon,{className:r.default(e),path:l.getFilename(o),variant:u}))},t.displayName="ThumbnailIcon",t})(i.default.Component);t.ThumbnailIcon=h})),define("modules/clean/growth/experiments/logger",["require","exports","tslib","modules/clean/deprecated_ajax/ajax_jquery"],(function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r);var i=(function(){function e(){}return e.start_counter=function(t,n){return Array.from(e.breakpoint_times).map((function(r){return(function(r){return e.breakpoints[t+r]=setTimeout((function(){return n(t,{time_since_first_view:r})}),1e3*r)})(r)}))},e.stop_counter=function(t){return Array.from(e.breakpoint_times).map((function(n){return clearTimeout(e.breakpoints[t+n])}))},e.breakpoints={},e.breakpoint_times=[5,15,60,120,300],e.start_times={},e.DEFAULT_TIMER_NAME="view_time",e.get_timer_name=function(t){return null==t||"boolean"==typeof t?e.DEFAULT_TIMER_NAME:t},e.set_start_time=function(t){var n=e.get_timer_name(t);return e.start_times[n]=Date.now()},e.do_log_view_time=function(t,n){var r=e.get_timer_name(n);return t[r]=Math.round((Date.now()-e.start_times[r])/1e3)},e.log=function(t,n,i,o){switch(void 0===o&&(o=!1),i=i||{},t){case"onboarding":return o&&e.do_log_view_time(i,o),r.SilentBackgroundRequest({url:"/growth_onboarding_log",data:{evt:n,extra:JSON.stringify(i)}});case"onboarding_server_view_experiments":return o&&e.do_log_view_time(i,o),r.SilentBackgroundRequest({url:"/uj_server_view_experiments_log",data:{evt:n,extra:JSON.stringify(i)}});case"sharing":return e.do_log_view_time(i),r.SilentBackgroundRequest({url:"/growth_sharing_log",data:{evt:n,extra:JSON.stringify(i)}});case"post_client_install_tab":return o&&e.do_log_view_time(i,o),r.SilentBackgroundRequest({url:"/growth_post_client_install_tab_log",data:{evt:n,extra:JSON.stringify(i)}});case"secondary_client_link":return o&&e.do_log_view_time(i,o),r.SilentBackgroundRequest({url:"/secondary_client_link_upsell_log",data:{evt:n,extra:JSON.stringify(i)}});default:throw new Error("Invalid series name")}},e})();t.default=i}));
//# sourceMappingURL=pkg-shared_link_folder.min.js-vflC2sGCU.map