function q(t){throw t}define("modules/clean/deprecated_ajax/ajax",["require","exports","tslib","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/deprecated_ajax/job_progress","modules/core/persistence/storage","modules/constants/ajax_strings","modules/constants/page_load","modules/constants/request","modules/core/browser","modules/core/assert","modules/core/transport/fetch_utils","modules/core/html","modules/core/notify","modules/core/uri","modules/clean/csrf","modules/clean/viewer"],(function(t,e,r,n,o,s,i,a,c,u,l,p,h,d,f,_,m){"use strict";function y(t){return t}Object.defineProperty(e,"__esModule",{value:!0}),e.SilentBackgroundBeaconRequest=e.SilentBackgroundRequest=e.BackgroundRequest=e.WebProgressRequest=e.FormWebRequest=e.WebRequestOref=e.WebRequest=e.Request=void 0,o=r.__importStar(o),s=r.__importStar(s),i=r.__importStar(i),a=r.__importStar(a),c=r.__importStar(c),u=r.__importStar(u);function g(t,e){null==t&&(t={}),null==e&&(e=[]);var r=new j(t),n=w(r,e),o=n.options().type||"POST",s=p.serialize(n.data()),i=n.dataType(),a=n.headers(),c={method:o,mode:"same-origin",credentials:"same-origin",headers:a,signal:t.signal};"POST"===o&&(c.body=s),a.append("Content-Type","application/x-www-form-urlencoded; charset=UTF-8");var u=fetch(String(n.url()),c);return new Promise((function(t,e){u.then((function(t){return t.text().then((function(e){return{response:t,responseText:e}}))})).then((function(e){var r=e.response,n=e.responseText;if(!r.ok)throw new p.FetchResponseError(r,n);if("abort"===r.statusText)throw new p.FetchAbortError(r,r.statusText);if("failed"===r.statusText)throw new p.FetchFailError(r,r.statusText);t({response:r,responseText:n})})).catch((function(t){return e(t)}))})).then((function(t){var e=t.response,r=t.responseText;if("json"===i)try{var o=JSON.parse(r);n.success(o,r,"success",e),n.complete(e,"success",r)}catch(t){n.error(e,"parsererror",t),n.complete(e,"parsererror")}else n.success(void 0,r,"success",e),n.complete(e,"success",r)})).catch((function(t){var e=new Response;p.errorIsFetchFailError(t)?(n.error(t.response,"failed",t),n.complete(t.response,"failed")):p.errorIsFetchResponseError(t)?(n.error(t.response,"error",t),n.complete(t.response,"error")):p.errorIsFetchAbortError(t)?(n.error(t.response,"aborted",t),n.complete(t.response,"aborted")):"AbortError"===t.name?(n.error(e,"aborted",t),n.complete(e,"aborted")):(n.error(e,"error",t),n.complete(e,"error"))})),n.request(u),u}function v(t){return t.type===b.CHAINED}e.Request=g;var b,w=function(t,e){for(var r=[t],n=0,o=Array.from(e.slice(0).reverse());n<o.length;n++){var s=o[n];r.push(new s)}for(var i=t,a=0,c=r;a<c.length;a++){var u=c[a];i&&v(u)&&(u.next=i),i=u}return i};(function(t){t.BASE="base",t.CHAINED="chained"})(b||(b={}));var j=function(t){this.type=b.BASE;var e=t||{};this.options=function(){return e},this.url=function(){return String(e.url||"")},this.data=function(){return e.data||{}},this.dataType=function(){return e.dataType||"text"},this.headers=function(){return e.headers||new Headers},this.success=e.success||y,this.error=e.error||y,this.complete=e.complete||y,this.request=y},x=(function(){function t(){this.type=b.CHAINED}return t.prototype.options=function(){return this.next.options()},t.prototype.url=function(){return this.next.url()},t.prototype.contentType=function(){return this.next.contentType()},t.prototype.data=function(){return this.next.data()},t.prototype.dataType=function(){return this.next.dataType()},t.prototype.headers=function(){return this.next.headers()},t.prototype.success=function(t,e,r,n){this.next.success(t,e,r,n)},t.prototype.error=function(t,e,r){this.next.error(t,e,r)},t.prototype.complete=function(t,e,r){this.next.complete(t,e,r)},t.prototype.request=function(t){this.next.request(t)},t})(),A=(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.SUPPORTED_TLDS=["dropbox.com"],e}return r.__extends(e,t),e.initClass=function(){},e.prototype.data=function(){if(this.options().skipInjectCsrf)return this.next.data();l.assert(this._is_db_domain(),"injecting CSRF token into request to non-dropbox domain");var t={is_xhr:!0};return"POST"===(this.options().type||"POST")&&(t.t=_.readCsrfToken()),r.__assign(r.__assign({},t),this.next.data())},e.prototype._is_db_domain=function(){var t=f.URI.parse(String(this.url())).getAuthority();if(!t)return!0;var e=t.split(".");return this.SUPPORTED_TLDS.reduce((function(t,r){var n=r.split("."),o=e.slice(-1*n.length).join(".");return t||r===o}),!1)},e})(x);A.initClass();var E=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(){var t=this.next.data(),e=this.options();return e.subject_user&&!t._subject_uid&&(t._subject_uid=String(e.subject_user)),t},e.prototype.headers=function(){var t=this.next.headers(),e=this.options();return e.subject_user&&t.set("X-DROPBOX-UID",String(e.subject_user)),t},e})(x),R=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.headers=function(){var t,e=this.next.headers(),r=this.options().teamAuthParams||{},n=r.team_id||m.Viewer.get_viewer().team_id;if(n){var o=this.options().subject_user,s=this.next.data()._subject_uid,i=("number"==typeof o?o:null==o?void 0:o.id)||("string"==typeof s?parseInt(s,10):s);i&&i===(null===(t=m.Viewer.get_viewer().work_user)||void 0===t?void 0:t.id)&&e.set("X-Dropbox-Teamid",String(n))}var a=r.auth_role||m.Viewer.get_viewer().auth_role,c=r.auth_action_type||m.Viewer.get_viewer().auth_action_type;return(a||c)&&e.set("X-Dropbox-Team-Authorization",JSON.stringify({auth_role:String(a),auth_action_type:String(c)})),e},e})(x),S=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.error=function(t,e,r){if(p.errorIsFetchFailError(r)||p.errorIsFetchResponseError(r)&&403===r.response.status){var n=s.SessionStorage.get("reload-timestamp"),o=(new Date).getTime();(!n||o-n>3e4)&&(s.SessionStorage.set("reload-timestamp",o),window.location.reload(!0))}return this.next.error(t,e,r)},e})(x),D=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(){var t=this.next.data();return c.REQUEST_TRACING_ENABLED?r.__assign({parent_request_id:c.REQUEST_ID},t):t},e.prototype.headers=function(){var t=this.next.headers(),e=this.options().type||"POST";return c.REQUEST_TRACING_ENABLED&&"POST"===e&&t.append(n.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER,"ON"),t},e})(x),T=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(){var t=this.next.data(),e={};return a.PUBLIC_MODE_OVERRIDE&&(e.public_mode_override="1"),a.COUNTRY_OVERRIDE&&(e.country_override=a.COUNTRY_OVERRIDE),r.__assign(r.__assign({},e),t)},e})(x),k=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.error=function(t,e,r){return this._notify_dev(e,r),this.next.error(t,e,r)},e.prototype._notify_dev=function(t,e){if(p.errorIsFetchFailError(e)||p.errorIsFetchResponseError(e)){var r=e.response;r.headers.get("X-Debug-Url")}},e})(x),O=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.success=function(t,e,r,n){var o;if(!e.length)return this.next.error(n,r,new Error("AJAX Response was empty."));var s=this.options(),i=!0,a=!1;if(0===e.indexOf("err:"))o=e.substr("err:".length),["{","["].includes(o[0])&&(i=!1);else{if(0!==e.indexOf("htmlerr:"))return this.next.success(t,e,r,n);o=e.substr("htmlerr:".length),a=!0}var c=this.next.error(n,r,new Error(o));if(i&&!s.skipNotifyError){var u=o;a&&(u=new h.HTML(o)),d.Notify.error(u)}return c},e.prototype.error=function(t,e,r){return"aborted"!==e&&d.Notify.error(i.PROBLEM_COMPLETING_REQUEST),this.next.error(t,e,r)},e})(x),I=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.success=function(t,e,r,n){if(!this.options().skipErrorHandling){if(!e.length)return this.next.error(n,r,new Error("AJAX Form response was empty."));if(0===e.indexOf("err:")){var o=e.substr("err:".length);return this.next.error(n,r,new Error(o))}}return this.next.success(t,e,r,n)},e})(x),C=(function(t){function e(){var e=t.call(this)||this;return e._clear_working_msg=e._clear_working_msg.bind(e),e}return r.__extends(e,t),e.prototype.request=function(t){var e=this,r=!1;return t.catch((function(){})).then((function(){r=!0})),setTimeout((function(){r||e._should_show_working_msg()&&(e._show_working_msg(),t.catch((function(){})).then((function(){e._clear_working_msg()})))}),4e3),this.next.request(t)},e.prototype._should_show_working_msg=function(){return d.Notify.isShown()},e.prototype._show_working_msg=function(){return this.notification=d.Notify.success(i.STILL_WORKING),this.notification},e.prototype._clear_working_msg=function(){if(d.Notify.isShown()&&this.notification===d.Notify.current())return d.Notify.clear()},e})(x),P=(function(t){function e(){var e=t.call(this)||this;return e._watch=e._watch.bind(e),e}return r.__extends(e,t),e.prototype.data=function(){this.job_id=e.generate_job_id();var t=this.next.data(),n=t._subject_uid,o=this.options().subject_user;return n&&"string"==typeof n?this.uid=n:o&&(this.uid=String(o)),r.__assign({job_id:this.job_id},t)},e.prototype.request=function(t){return this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval),this.next.request(t)},e.prototype.success=function(t,e,r,n){return this.next.success(t,e,r,n)},e.prototype.error=function(t,e,r){return this.next.error(t,e,r)},e.prototype.complete=function(t,e,r){return this._stop(),o.Job.handled(this.job_id),this.next.complete(t,e,r)},e.prototype._watch=function(){return o.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},e.prototype._stop=function(){clearInterval(this._watch_id),o.ModalProgress.hide()},e.prototype._show_progress_modal=function(){if(!this._modal_shown){this._modal_shown=!0;var t=this.options();t.progress_text&&o.ModalProgress.show(t.progress_text)}},e.prototype._fetch_progress=function(){var t=this,e={};return this.uid&&(e._subject_uid=this.uid),G({url:"/job_status/"+this.job_id,data:e,dataType:"text",success:function(t,e,r,n){var s;s=0===e.indexOf("done")?"1/1":e,o.ModalProgress.update(s)},error:function(e,r,n){if(t._failures++,!(t._failures<3))return t._stop(),t.next.error(e,r,n)}})},e.generate_job_id=function(){var t=(new Date).getTime().toString(),e=Math.floor(1e6*Math.random()).toString();return t+(e=("000000"+e).substring(e.length))},e})(x),q=(function(t){function e(){var e=t.call(this)||this;return e._watch=e._watch.bind(e),e}return r.__extends(e,t),e.prototype.data=function(){var t=this.next.data();this.uid=String(t._subject_uid);var e=this.options().subject_user;return!this.uid&&e&&(this.uid=String(e)),t},e.prototype.success=function(t,e,r,n){return this._is_async_job_response(e)?(this.job_id=e.split(":")[1],this._interval=1e3,this._failures=0,this._watch_count=0,this._watch_id=setInterval(this._watch,this._interval)):this.next.success(t,e,r,n)},e.prototype.complete=function(t,e,r){if(!this._is_async_job_response(r))return this.next.complete(t,e,r)},e.prototype._is_async_job_response=function(t){return!(!t||0!==t.indexOf("async_task_started:"))&&t.split(":")[1].match(/^[A-Za-z0-9_\-=]*$/)},e.prototype._watch=function(){return o.Job.peek(this.job_id)?this._stop():(this._watch_count++,this._watch_count%10==0&&(clearInterval(this._watch_id),this._interval=Math.min(Math.floor(1.5*this._interval),3e4),this._watch_id=setInterval(this._watch,this._interval)),this._show_progress_modal(),this._fetch_progress())},e.prototype._stop=function(){clearInterval(this._watch_id),o.ModalProgress.hide()},e.prototype._show_progress_modal=function(){if(!this._modal_shown){this._modal_shown=!0;var t=this.options().progress_text;t&&o.ModalProgress.show(t)}},e.prototype._fetch_progress=function(){var t=this,e={};return this.uid&&(e._subject_uid=this.uid),Q({url:"/async_task_status/"+this.job_id,data:e,dataType:"text",success:function(e,r,n,s){var i=r;if(0===i.indexOf("done:"))return o.Job.handled(t.job_id),t._stop(),r=i=i.substr("done:".length),t.next.success(e,r,n,s),t.next.complete(s,n,r);if(0===i.indexOf("err:")){o.Job.handled(t.job_id),t._stop();var a=i.substr("err:".length);return d.Notify.error(a),t.next.error(s,n,new Error(a)),t.next.complete(s,n,r)}if(0===i.indexOf("async_task_err:")){o.Job.handled(t.job_id),t._stop();var c=i.substr("async_task_err:".length);return d.Notify.error(new h.HTML(c)),t.next.complete(s,n,r)}o.ModalProgress.update(i)},error:function(e,r,n){if(t._failures++,!(t._failures<3))return t._stop(),t.next.error(e,r,n),t.next.complete(e,r,"")}})},e})(x),B=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.data=function(){var t,e=u.get_uri().getQuery().oref;return!(null===(t=this.next.data())||void 0===t?void 0:t.oref)&&e?r.__assign({oref:e},this.next.data()):this.next.data()},e})(x),F=[(function(t){function e(){var e=t.call(this)||this;return e.browser_unload_handler=e.browser_unload_handler.bind(e),e.is_browser_unloading=!1,e}return r.__extends(e,t),e.prototype.browser_unload_handler=function(){this.is_browser_unloading=!0},e.prototype.request=function(t){return window.addEventListener("beforeunload",this.browser_unload_handler),this.next.request(t)},e.prototype.error=function(t,e,r){return"error"===e&&this.is_browser_unloading?this.next.error(t,"aborted",new Error("unload")):this.next.error(t,e,r)},e.prototype.complete=function(t,e,r){return window.removeEventListener("beforeunload",this.browser_unload_handler),this.next.complete(t,e,r)},e})(x)],L=[E,R,A,S],U=[C],N=[k,D,T],M=[q],H=[].concat(F,U,O,N,L,M);e.WebRequest=function(t){return null==t&&(t={}),g(t,H)},e.WebRequestOref=function(t){return null==t&&(t={}),g(t,[].concat(B,H))};var V=[].concat(F,U,I,N,L,M);e.FormWebRequest=function(t){return null==t&&(t={}),g(t,V)};var $=[].concat(F,U,O,N,L,P,M);function G(t){return null==t&&(t={}),g(t,[].concat(F,N,L))}e.WebProgressRequest=function(t){return null==t&&(t={}),g(t,$)},e.BackgroundRequest=G;var J=[E,R,A],W=[].concat(F,N,J);function Q(t){return null==t&&(t={}),g(t,W)}e.SilentBackgroundRequest=Q,e.SilentBackgroundBeaconRequest=function(t){if(null==t&&(t={}),!navigator.sendBeacon)return Q(t);var e=new j(t),r=w(e,[].concat(J,D)),n=r.url(),o=(function(t){for(var e=new FormData,r=function(r){var n=t[r];(null===n?[]:Array.isArray(n)?n:[n]).forEach((function(t){var n;void 0!==t&&(n=!0===t?"true":!1===t?"false":"number"==typeof t?String(t):"object"==typeof t?t.toString():t,e.append(r,n))}))},n=0,o=Object.keys(t);n<o.length;n++){r(o[n])}return e})(r.data());navigator.sendBeacon(String(n),o)||console.warn("Beacon request failed: "+n)}})),define("api_v2/client_base",["require","exports","tslib","api_v2/types","api_v2/transport/fetch","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/constants/request","modules/constants/request","modules/core/browser","modules/core/cookies","modules/core/uri"],(function(t,e,r,n,o,s,i,a,c,u,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApiV2ClientBase=e.DefaultApiV2Transport=void 0,i=r.__importStar(i),c=r.__importStar(c);var p=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(o.FetchAsyncTransport);e.DefaultApiV2Transport=p;var h=(function(){function t(t){this.uploadEndpoints=new Set(["files/alpha/upload","files/paper/create","files/paper/update","files/upload","files/upload_session/append_v2","files/upload_session/finish","files/upload_session/start","paper/cloud_docs/update","paper/desktop/spaces/upload_log","paper/desktop/upload_log","paper/docs/create","paper/docs/update"]),this.downloadEndpoints=new Set(["files/download","files/download_zip","files/export","files/get_preview","files/get_thumbnail_v2","paper/docs/download","sharing/get_shared_link_file"]),this.supportedUploadEndpoints=new Set(["files/paper/create","files/paper/update","files/upload","paper/cloud_docs/update","paper/desktop/spaces/upload_log","paper/desktop/upload_log","paper/docs/create","paper/docs/update"]),this.supportedDownloadEndpoints=new Set(["files/download"]),this.transport=t||new p}return t.prototype._upload=function(t,e,r,n){return this._uploadWithResponseHeaders(t,e,r,n).then((function(t){return t.result}))},t.prototype._uploadWithResponseHeaders=function(t,e,o,s){var i;if(!this.uploadEndpoints.has(t))throw new Error(t+" does not use the content-upload endpoint format");if(!this.supportedUploadEndpoints.has(t))throw new Error(t+" is not in the supported list of content-upload endpoints");var a=r.__assign(((i={})[n.ApiV2HeaderNames.CsrfToken]=this.csrfToken(),i[n.ApiV2HeaderNames.DropboxApiArg]=JSON.stringify(e),i),this._headers(s));return this.executeRpc(t,a,o,"application/octet-stream",s.signal)},t.prototype._download=function(t,e,r,n){return this._downloadWithResponseHeaders(t,e,r,n).then((function(t){return t.result}))},t.prototype._downloadWithResponseHeaders=function(t,e,o,s){var i;if(void 0===s||!s.hasOwnProperty("dangerouslyFetchUserContent")||!s.dangerouslyFetchUserContent)throw new Error("download requires explicit acknowledgement of the risk");if(!this.downloadEndpoints.has(t))throw new Error(t+" does not use the content-download endpoint format");if(!this.supportedDownloadEndpoints.has(t))throw new Error(t+" is not in the supported list of content-download endpoints");var a=r.__assign(((i={})[n.ApiV2HeaderNames.CsrfToken]=this.csrfToken(),i[n.ApiV2HeaderNames.DropboxApiArg]=JSON.stringify(e),i),this._headers(o));return this.executeBinaryRpc(t,a,"","application/octet-stream",o.signal)},t.prototype._rpc=function(t,e,r){return this._rpcWithResponseHeaders(t,e,r).then((function(t){return t.result}))},t.prototype._rpcWithResponseHeaders=function(t,e,o){var s,i=r.__assign(((s={})[n.ApiV2HeaderNames.CsrfToken]=this.csrfToken(),s),this._headers(o));if(this.downloadEndpoints.has(t))throw new Error(t+' does not use the rpc endpoint format. Use "download" instead');if(this.uploadEndpoints.has(t))throw new Error(t+' does not use the rpc endpoint format. Use "upload" instead');var a=JSON.stringify(e||null);return this.executeRpc(t,i,a,"application/json",o.signal)},t.prototype.csrfToken=function(){return u.Cookies.read("__Host-js_csrf")||""},t.prototype.executeRpc=function(t,e,n,o,u){return r.__awaiter(this,void 0,void 0,(function(){var p,h,d;return r.__generator(this,(function(r){switch(r.label){case 0:return p="client-web.dropbox.com"===c.get_hostname()?"client-web.dropbox.com":"www.dropbox.com",i.REQUEST_TRACING_ENABLED&&(h={parent_request_id:a.REQUEST_ID},e[s.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER]="ON"),d=new l.URI({scheme:"https",authority:p,path:"/2/"+t,query:h}),[4,this.transport.executeRpc(d,e,n,o,u)];case 1:return[2,r.sent()]}}))}))},t.prototype.executeBinaryRpc=function(t,e,n,o,u){return r.__awaiter(this,void 0,void 0,(function(){var p,h,d;return r.__generator(this,(function(r){switch(r.label){case 0:return p="client-web.dropbox.com"===c.get_hostname()?"client-web.dropbox.com":"www.dropbox.com",i.REQUEST_TRACING_ENABLED&&(h={parent_request_id:a.REQUEST_ID},e[s.PerfHubHeaderNames.FORCE_REQUEST_TRACING_HEADER]="ON"),d=new l.URI({scheme:"https",authority:p,path:"/2/"+t,query:h}),[4,this.transport.executeBinaryRpc(d,e,n,o,u)];case 1:return[2,r.sent()]}}))}))},t})();e.ApiV2ClientBase=h,h.prototype.ns=function(t){var e=this;return{rpc:function(r,n,o){return e._rpc(t+"/"+r,n,o)},rpcWithResponseHeaders:function(r,n,o){return e._rpcWithResponseHeaders(t+"/"+r,n,o)},upload:function(r,n,o,s){return e._upload(t+"/"+r,n,o,s)},uploadWithResponseHeaders:function(r,n,o,s){return e._uploadWithResponseHeaders(t+"/"+r,n,o,s)},download:function(r,n,o,s){return e._download(t+"/"+r,n,o,s)},downloadWithResponseHeaders:function(r,n,o,s){return e._downloadWithResponseHeaders(t+"/"+r,n,o,s)}}}})),define("api_v2/error",["require","exports","tslib","modules/core/html","modules/core/i18n"],(function(t,e,r,n,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.catchApiError=e.isRateLimitError=e.isServerError=e.isAppError=e.isAuthError=e.isBadRequestError=e.isApiError=e.RateLimitError=e.ServerError=e.AppError=e.AuthError=e.BadRequestError=e.ApiError=void 0;var s=(function(){function t(t){this.message=t}return t.prototype.toString=function(){return void 0===this.message?"ApiError":"string"==typeof this.message?this.message:this.message.toString()},t.parseResponse=function(e,r,s,i){void 0===i&&(i=null);var a="";null==i&&(i=e in h?h[e]:e>=500?u:t);var c={raw:{status:e,responseBody:s},summary:null,error:{},headers:r};try{var l=JSON.parse(s)||{};c.error=l.error,c.summary=l.error_summary,a=null!=l.user_message?l.user_message.text:""}catch(t){}429!==e||a||(a=o.intl.formatMessage({id:"HQLtn1",defaultMessage:"Folder updates in progress — please try again later. <a>Learn more</a>"},{a:function(t){return'<a href="/help/9259" target="_blank" rel="noopener">'+t+"</a>"}}));var p=void 0;return a&&(p=new n.HTML(a)),Object.assign(new i(p),c)},t})();e.ApiError=s;var i=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(s);e.BadRequestError=i;var a=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(s);e.AuthError=a;var c=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(s);e.AppError=c;var u=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(s);e.ServerError=u;var l=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e})(s);function p(t){return t instanceof s}e.RateLimitError=l,e.isApiError=p,e.isBadRequestError=function(t){return t instanceof i},e.isAuthError=function(t){return t instanceof a},e.isAppError=function(t){return t instanceof c},e.isServerError=function(t){return t instanceof u},e.isRateLimitError=function(t){return t instanceof l},e.catchApiError=function(t){return function(e){if(p(e))return t(e);throw e}};var h={400:i,401:a,409:c,429:l}})),define("api_v2/transport/fetch",["require","exports","tslib","api_v2/error","modules/core/transport/fetch_utils"],(function(t,e,r,n,o){"use strict";function s(t){var e={};return t.forEach((function(t,r){e[r]=t})),e}Object.defineProperty(e,"__esModule",{value:!0}),e.FetchSyncTransport=e.FetchAsyncTransport=void 0;var i=(function(){function t(){}return t.prototype.executeRpc=function(t,e,i,a,c){return new Promise((function(u,l){return fetch(t.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},e),{"Content-Type":a}),body:i,signal:c}).then((function(t){return t.text().then((function(e){return{response:t,responseText:e}}))})).then((function(t){var e=t.response,r=t.responseText;if(e.ok)return{response:e,responseText:r};throw new o.FetchResponseError(e,r)})).then((function(t){var e=t.response,r=t.responseText;return u({headers:s(e.headers),result:JSON.parse(r)})})).catch((function(t){return o.errorIsFetchResponseError(t)?l(n.ApiError.parseResponse(t.response.status,s(t.response.headers),t.message)):l(n.ApiError.parseResponse(0,{},""))}))}))},t.prototype.executeBinaryRpc=function(t,e,i,a,c){return new Promise((function(u,l){return fetch(t.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},e),{"Content-Type":a}),body:i,signal:c}).then((function(t){return t.ok?t.arrayBuffer().then((function(e){return{response:t,responseData:e}})):t.text().then((function(e){throw new o.FetchResponseError(t,e)}))})).then((function(t){var e=t.response,r=t.responseData;return u({headers:s(e.headers),result:r})})).catch((function(t){return o.errorIsFetchResponseError(t)?l(n.ApiError.parseResponse(t.response.status,s(t.response.headers),t.message)):l(n.ApiError.parseResponse(0,{},""))}))}))},t})();e.FetchAsyncTransport=i;var a=(function(){function t(){}return t.prototype.executeRpc=function(t,e,n,o,s){return fetch(t.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},e),{"Content-Type":o}),keepalive:!0,body:n,signal:s}),Promise.resolve({headers:{},result:{}})},t.prototype.executeBinaryRpc=function(t,e,n,o,s){return fetch(t.toString(),{method:"POST",mode:"same-origin",credentials:"same-origin",headers:r.__assign(r.__assign({},e),{"Content-Type":o}),keepalive:!0,body:n,signal:s}),Promise.resolve({headers:{},result:new ArrayBuffer(0)})},t})();e.FetchSyncTransport=a})),define("api_v2/types",["require","exports","tslib"],(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnionStruct=e.UnionScalar=e.Union=e.TeamAuthRequestActionType=e.TeamAuthRequestRole=e.ApiV2HeaderNames=void 0,(function(t){t.DropboxApiArg="Dropbox-API-Arg",t.DropboxApiSelectAdmin="Dropbox-API-Select-Admin",t.DropboxPathRoot="X-Dropbox-Path-Root",t.DropboxUid="X-Dropbox-Uid",t.DropboxTeamId="X-Dropbox-Teamid",t.DropboxTeamAuthorization="X-Dropbox-Team-Authorization",t.CsrfToken="X-CSRF-Token"})(e.ApiV2HeaderNames||(e.ApiV2HeaderNames={})),(function(t){t[t.TeamAdminRole=0]="TeamAdminRole",t[t.MTARole=1]="MTARole",t[t.FederationAdminRole=2]="FederationAdminRole"})(e.TeamAuthRequestRole||(e.TeamAuthRequestRole={})),(function(t){t[t.AdminAction=0]="AdminAction",t[t.AssumeAction=1]="AssumeAction",t[t.OnBehalfOfAction=2]="OnBehalfOfAction"})(e.TeamAuthRequestActionType||(e.TeamAuthRequestActionType={}));var n=(function(){function t(t,e,r){this.type=t,this.value=e,this.isScalar=r}return t.parse=function(t){var e=t[".tag"];return 2===Object.keys(t).length&&null!=t[e]?new o(e,t[e]):new s(e,t)},t})();e.Union=n;var o=(function(t){function e(e,r){return void 0===r&&(r=null),t.call(this,e,r,!0)||this}return r.__extends(e,t),e.prototype.toJSON=function(){var t={".tag":this.type};return null!=this.value&&(t[this.type]=this.value),t},e})(n);e.UnionScalar=o;var s=(function(t){function e(e,r){return void 0===r&&(r={}),t.call(this,e,r,!1)||this}return r.__extends(e,t),e.prototype.toJSON=function(){return r.__assign({".tag":this.type},this.value)},e})(n);e.UnionStruct=s})),define("api_v2/noauth_client",["require","exports","tslib","api_v2/types","api_v2/client_base","modules/constants/request"],(function(t,e,r,n,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoAuthApiV2Client=void 0;var i=(function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),e.prototype._headers=function(t){var e;return r.__assign(((e={})[n.ApiV2HeaderNames.DropboxUid]=String(s.LOGGED_OUT_X_DROPBOX_UID),e),t.headers)},e})(o.ApiV2ClientBase);e.NoAuthApiV2Client=i})),define("api_v2/user_client",["require","exports","tslib","api_v2/types","api_v2/client_base","modules/clean/viewer"],(function(t,e,r,n,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserApiV2Client=void 0;var i=(function(t){function e(e){return t.call(this,e)||this}return r.__extends(e,t),e.prototype._headers=function(t){var e,o=s.Viewer.get_viewer().get_user_by_id(t.subjectUserId);return r.__assign(((e={})[n.ApiV2HeaderNames.DropboxUid]=String(o.id),e[n.ApiV2HeaderNames.DropboxPathRoot]=String(o.root_ns_id),e),t.headers)},e})(o.ApiV2ClientBase);e.UserApiV2Client=i})),define("modules/clean/active_user",["require","exports","modules/clean/viewer"],(function(t,e,r){"use strict";function n(){if(window.RUNNING_IN_EDISON)return window.EDISON_ACTIVE_USER_ID;if(window.ensemble&&window.ensemble.viewer){var t=window.ensemble.viewer.getActiveUser();if(t)return t.userId}}function o(){var t=n();if("number"!=typeof t)throw new Error("could not get active user id");return t}Object.defineProperty(e,"__esModule",{value:!0}),e.mustGetActiveUser=e.getActiveUser=e.mustGetActiveUserId=e.getActiveUserId=void 0,e.getActiveUserId=n,e.mustGetActiveUserId=o,e.getActiveUser=function(){var t=n();return t?r.Viewer.get_viewer().get_user_by_id(t):void 0},e.mustGetActiveUser=function(){var t=o();return r.Viewer.get_viewer().get_user_by_id(t)}})),define("modules/clean/devtools/panels/performance/perf_hub_actions",["require","exports","modules/clean/devtools/panels/performance/perf_hub_action_types","modules/clean/flux/dispatcher"],(function(t,e,r,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PerfHubActions=void 0;var o=(function(){function t(){}return t.prototype.add_ajax_profile=function(t,e,o,s){var i=s;return n.Dispatcher.dispatch({type:r.ActionTypes.PROFILED_AJAX_LOAD_FINISHED,data:{url:t,serverResponseTime:e,profileRequestId:o,traceId:i}})},t.prototype.add_web_timing_details=function(t){return n.Dispatcher.dispatch({type:r.ActionTypes.WEB_TIMING_FETCHED,data:t})},t.prototype.add_visually_complete=function(t){return n.Dispatcher.dispatch({type:r.ActionTypes.VISUALLY_COMPLETE,time:t})},t})();e.PerfHubActions=new o})),define("modules/clean/flux/dispatcher",["require","exports","tslib","flux","modules/core/assert","modules/core/exception"],(function(t,e,r,n,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DispatcherClass=e.Dispatcher=void 0,n=r.__importStar(n),s=r.__importStar(s);var i=null,a=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.__extends(e,t),e.prototype.dispatch=function(e){o.assert(null!=e.type,"Invariant error: cannot dispatch action without 'type' property."),o.assert(null===i,"Invariant error: cannot dispatch "+e.type+" while also dispatching "+i+"."),i=e.type;try{"function"==typeof this.dispatch_begin&&this.dispatch_begin();try{return t.prototype.dispatch.call(this,{action:e})}catch(t){return s.reportException({err:t}),console.error(t)}finally{"function"==typeof this.dispatch_end&&this.dispatch_end()}}finally{i=null}},e})(n.Dispatcher);e.DispatcherClass=a;var c=new a;e.Dispatcher=c})),define("modules/core/transport/fetch_utils",["require","exports","tslib"],(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.serialize=e.errorIsFetchResponseError=e.errorIsFetchFailError=e.errorIsFetchAbortError=e.FetchResponseError=e.FetchFailError=e.FetchAbortError=void 0;var n=(function(t){function e(e,r){var n=t.call(this,r)||this;return n.name="FetchAbortError",n.response=e,n}return r.__extends(e,t),e})(Error);e.FetchAbortError=n;var o=(function(t){function e(e,r){var n=t.call(this,r)||this;return n.name="FetchFailError",n.response=e,n}return r.__extends(e,t),e})(Error);e.FetchFailError=o;var s=(function(t){function e(e,r){var n=t.call(this,r)||this;return n.name="FetchResponseError",n.response=e,n}return r.__extends(e,t),e})(Error);e.FetchResponseError=s,e.errorIsFetchAbortError=function(t){return"FetchAbortError"===t.name},e.errorIsFetchFailError=function(t){return"FetchFailError"===t.name},e.errorIsFetchResponseError=function(t){return"FetchResponseError"===t.name},e.serialize=function(t){function e(t,e){void 0!==e&&(e=null==e?"":e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(e))}function r(t){return"object"==typeof t&&null!==t}function n(t,o){Array.isArray(o)?o.forEach((function(o,s){/\[\]$/.test(t)?e(t,o):r(o)?n(t+"["+s+"]",o):n(t,o)})):r(o)?e(t,o.toString()):e(t,o)}var o=[];if(Array.isArray(t))t.forEach((function(t,e){n(name,t)}));else for(var s=0,i=Object.keys(t);s<i.length;s++){var a=i[s];n(a,t[a])}return o.join("&").replace(/%20/g,"+")}})),define("modules/clean/uuid/insecure_uuid",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InsecureUUID=void 0;var r=(function(){var t,e,r=[];for(t=e=0;e<=255;t=++e)r.push((t+256).toString(16).substr(1));return r})(),n=(function(){function t(){}return t.bytesToHex=function(t){return t.map((function(t){return r[t]})).join("")},t.toByte=function(t){return 255&t},t.bytesToUUIDString=function(t){var e=this;return[t.slice(0,4),t.slice(4,6),t.slice(6,8),t.slice(8,10),t.slice(10,16)].map((function(t){return e.bytesToHex(t)})).join("-")},t.getRandomBytes=function(){var t=this,e=new Array(16);return this.getInsecureRandomValues(e),e.map((function(e){return t.toByte(e)}))},t.getInsecureRandomValues=function(t){for(var e=Math.pow(2,8),r=0;r<t.length;r++)t[r]=Math.floor(Math.random()*e);return t},t.v4=function(){var t=this.getRandomBytes();return t[6]=15&t[6]|64,t[8]=63&t[8]|128,this.bytesToUUIDString(t)},t})();e.InsecureUUID=n})),define("modules/core/transport/query_string_helpers",["require","exports"],(function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TRACKING_PARAMS_LIST=e.parseQueryString=e.filterQueryObject=e.getQueryString=e.getTrackingParamsAsJSON=e.getTrackingParams=e.getParsedQueryString=void 0;var r=["gclid","oqa","trigger","_tk","_camp","_ad","_net","_kw","utm_campaign","utm_content","utm_medium","utm_source","utm_term","cont"];function n(t){return void 0===t&&(t=window),t.location.search}function o(t){var e={};if(t.length)for(var r=0,n=t.substring(1).replace(/&amp;/g,"&").split("&");r<n.length;r++){var o=n[r].split("="),s=o[0],i=o[1];s&&i&&(s=s.trim(),i=i.trim(),s.length&&i.length&&(e[s]=decodeURIComponent(i.replace(/\+/g," "))))}return e}function s(t,e){return e.reduce((function(e,r){return t.hasOwnProperty(r)&&(e[r]=t[r]),e}),{})}function i(t){return s(t||o(n()),r)}e.TRACKING_PARAMS_LIST=r,e.getQueryString=n,e.parseQueryString=o,e.getParsedQueryString=function(){return o(n())},e.filterQueryObject=s,e.getTrackingParams=i,e.getTrackingParamsAsJSON=function(){var t=i();return JSON.stringify(t)}})),define("prod_assets_web_modules/eventemitter3",(function(){"use strict";var t={exports:{}};return(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}function o(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function s(t,e,n,s,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var a=new o(n,s||t,i),c=r?r+e:e;return t._events[c]?t._events[c].fn?t._events[c]=[t._events[c],a]:t._events[c].push(a):(t._events[c]=a,t._eventsCount++),t}function i(t,e){0==--t._eventsCount?t._events=new n:delete t._events[e]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var t,n,o=[];if(0===this._eventsCount)return o;for(n in t=this._events)e.call(t,n)&&o.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(t)):o},a.prototype.listeners=function(t){var e=r?r+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var o=0,s=n.length,i=new Array(s);o<s;o++)i[o]=n[o].fn;return i},a.prototype.listenerCount=function(t){var e=r?r+t:t,n=this._events[e];return n?n.fn?1:n.length:0},a.prototype.emit=function(t,e,n,o,s,i){var a=r?r+t:t;if(!this._events[a])return!1;var c,u,l=this._events[a],p=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),p){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,o),!0;case 5:return l.fn.call(l.context,e,n,o,s),!0;case 6:return l.fn.call(l.context,e,n,o,s,i),!0}for(u=1,c=new Array(p-1);u<p;u++)c[u-1]=arguments[u];l.fn.apply(l.context,c)}else{var h,d=l.length;for(u=0;u<d;u++)switch(l[u].once&&this.removeListener(t,l[u].fn,void 0,!0),p){case 1:l[u].fn.call(l[u].context);break;case 2:l[u].fn.call(l[u].context,e);break;case 3:l[u].fn.call(l[u].context,e,n);break;case 4:l[u].fn.call(l[u].context,e,n,o);break;default:if(!c)for(h=1,c=new Array(p-1);h<p;h++)c[h-1]=arguments[h];l[u].fn.apply(l[u].context,c)}}return!0},a.prototype.on=function(t,e,r){return s(this,t,e,r,!1)},a.prototype.once=function(t,e,r){return s(this,t,e,r,!0)},a.prototype.removeListener=function(t,e,n,o){var s=r?r+t:t;if(!this._events[s])return this;if(!e)return i(this,s),this;var a=this._events[s];if(a.fn)a.fn!==e||o&&!a.once||n&&a.context!==n||i(this,s);else{for(var c=0,u=[],l=a.length;c<l;c++)(a[c].fn!==e||o&&!a[c].once||n&&a[c].context!==n)&&u.push(a[c]);u.length?this._events[s]=1===u.length?u[0]:u:i(this,s)}return this},a.prototype.removeAllListeners=function(t){var e;return t?(e=r?r+t:t,this._events[e]&&i(this,e)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(t),t.exports})),define("prod_assets_web_modules/flux",["exports"],(function(t){"use strict";var e={},r=function(t,e,r,n,o,s,i,a){if(!t){var c;if(void 0===e)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,o,s,i,a],l=0;c=new Error("Invariant Violation: "+e.replace(/%s/g,(function(){return u[l++]})))}throw c.framesToPop=1,c}},n=1;function o(){this.$Dispatcher_callbacks={},this.$Dispatcher_isPending={},this.$Dispatcher_isHandled={},this.$Dispatcher_isDispatching=!1,this.$Dispatcher_pendingPayload=null}o.prototype.register=function(t){var e="ID_"+n++;return this.$Dispatcher_callbacks[e]=t,e},o.prototype.unregister=function(t){r(this.$Dispatcher_callbacks[t],"Dispatcher.unregister(...): `%s` does not map to a registered callback.",t),delete this.$Dispatcher_callbacks[t]},o.prototype.waitFor=function(t){r(this.$Dispatcher_isDispatching,"Dispatcher.waitFor(...): Must be invoked while dispatching.");for(var e=0;e<t.length;e++){var n=t[e];this.$Dispatcher_isPending[n]?r(this.$Dispatcher_isHandled[n],"Dispatcher.waitFor(...): Circular dependency detected while waiting for `%s`.",n):(r(this.$Dispatcher_callbacks[n],"Dispatcher.waitFor(...): `%s` does not map to a registered callback.",n),this.$Dispatcher_invokeCallback(n))}},o.prototype.dispatch=function(t){r(!this.$Dispatcher_isDispatching,"Dispatch.dispatch(...): Cannot dispatch in the middle of a dispatch."),this.$Dispatcher_startDispatching(t);try{for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]||this.$Dispatcher_invokeCallback(e)}finally{this.$Dispatcher_stopDispatching()}},o.prototype.isDispatching=function(){return this.$Dispatcher_isDispatching},o.prototype.$Dispatcher_invokeCallback=function(t){this.$Dispatcher_isPending[t]=!0,this.$Dispatcher_callbacks[t](this.$Dispatcher_pendingPayload),this.$Dispatcher_isHandled[t]=!0},o.prototype.$Dispatcher_startDispatching=function(t){for(var e in this.$Dispatcher_callbacks)this.$Dispatcher_isPending[e]=!1,this.$Dispatcher_isHandled[e]=!1;this.$Dispatcher_pendingPayload=t,this.$Dispatcher_isDispatching=!0},o.prototype.$Dispatcher_stopDispatching=function(){this.$Dispatcher_pendingPayload=null,this.$Dispatcher_isDispatching=!1};var s=o,i=e.Dispatcher=s;t.Dispatcher=i,t.default=e,Object.defineProperty(t,"__esModule",{value:!0})})),define("prod_assets_web_modules/reselect",["exports"],(function(t){"use strict";function e(t,e){return t===e}function r(t,e,r){if(null===e||null===r||e.length!==r.length)return!1;for(var n=e.length,o=0;o<n;o++)if(!t(e[o],r[o]))return!1;return!0}function n(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,o=null,s=null;return function(){return r(n,o,arguments)||(s=t.apply(null,arguments)),o=arguments,s}}function o(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var r=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return e}function s(t){for(var e=arguments.length,r=Array(e>1?e-1:0),s=1;s<e;s++)r[s-1]=arguments[s];return function(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];var a=0,c=s.pop(),u=o(s),l=t.apply(void 0,[function(){return a++,c.apply(null,arguments)}].concat(r)),p=n((function(){for(var t=[],e=u.length,r=0;r<e;r++)t.push(u[r].apply(null,arguments));return l.apply(null,t)}));return p.resultFunc=c,p.recomputations=function(){return a},p.resetRecomputations=function(){return a=0},p}}var i=s(n);t.createSelector=i,t.createSelectorCreator=s,t.createStructuredSelector=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;if("object"!=typeof t)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof t);var r=Object.keys(t);return e(r.map((function(e){return t[e]})),(function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.reduce((function(t,e,n){return t[r[n]]=e,t}),{})}))},t.defaultMemoize=n,Object.defineProperty(t,"__esModule",{value:!0})}));var s=void 0,u=!1,sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(t){this.toString=function(){return"CORRUPT: "+this.message},this.message=t},invalid:function(t){this.toString=function(){return"INVALID: "+this.message},this.message=t},bug:function(t){this.toString=function(){return"BUG: "+this.message},this.message=t},notReady:function(t){this.toString=function(){return"NOT READY: "+this.message},this.message=t}}};function w(t,e,r){4!==e.length&&q(new sjcl.exception.invalid("invalid aes block size"));var n=t.b[r],o=e[0]^n[0],s=e[r?3:1]^n[1],i=e[2]^n[2];e=e[r?1:3]^n[3];var a,c,u,l,p=n.length/4-2,h=4,d=[0,0,0,0];t=(a=t.k[r])[0];var f=a[1],_=a[2],m=a[3],y=a[4];for(l=0;l<p;l++)a=t[o>>>24]^f[s>>16&255]^_[i>>8&255]^m[255&e]^n[h],c=t[s>>>24]^f[i>>16&255]^_[e>>8&255]^m[255&o]^n[h+1],u=t[i>>>24]^f[e>>16&255]^_[o>>8&255]^m[255&s]^n[h+2],e=t[e>>>24]^f[o>>16&255]^_[s>>8&255]^m[255&i]^n[h+3],h+=4,o=a,s=c,i=u;for(l=0;4>l;l++)d[r?3&-l:l]=y[o>>>24]<<24^y[s>>16&255]<<16^y[i>>8&255]<<8^y[255&e]^n[h++],a=o,o=s,s=i,i=e,e=a;return d}function x(t,e){var r,n,o,s=e.slice(0),i=t.r,a=t.b,c=i[0],u=i[1],l=i[2],p=i[3],h=i[4],d=i[5],f=i[6],_=i[7];for(r=0;64>r;r++)16>r?n=s[r]:(n=s[r+1&15],o=s[r+14&15],n=s[15&r]=(n>>>7^n>>>18^n>>>3^n<<25^n<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+s[15&r]+s[r+9&15]|0),n=n+_+(h>>>6^h>>>11^h>>>25^h<<26^h<<21^h<<7)+(f^h&(d^f))+a[r],_=f,f=d,d=h,h=p+n|0,p=l,l=u,c=n+((u=c)&l^p&(u^l))+(u>>>2^u>>>13^u>>>22^u<<30^u<<19^u<<10)|0;i[0]=i[0]+c|0,i[1]=i[1]+u|0,i[2]=i[2]+l|0,i[3]=i[3]+p|0,i[4]=i[4]+h|0,i[5]=i[5]+d|0,i[6]=i[6]+f|0,i[7]=i[7]+_|0}function C(t,e){var r,n=sjcl.random.w[t],o=[];for(r in n)n.hasOwnProperty(r)&&o.push(n[r]);for(r=0;r<o.length;r++)o[r](e)}function E(t){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?sjcl.random.addEntropy(window.performance.now(),t,"loadtime"):sjcl.random.addEntropy((new Date).valueOf(),t,"loadtime")}function A(t){t.b=B(t).concat(B(t)),t.A=new sjcl.cipher.aes(t.b)}function B(t){for(var e=0;4>e&&(t.f[e]=t.f[e]+1|0,!t.f[e]);e++);return t.A.encrypt(t.f)}function D(t,e){return function(){e.apply(t,arguments)}}"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),"function"==typeof define&&define("prod_assets_web_modules/sjcl",[],(function(){return sjcl})),sjcl.cipher.aes=function(t){this.k[0][0][0]||this.D();var e,r,n,o,s=this.k[0][4],i=this.k[1],a=1;for(4!==(e=t.length)&&6!==e&&8!==e&&q(new sjcl.exception.invalid("invalid aes key size")),this.b=[n=t.slice(0),o=[]],t=e;t<4*e+28;t++)r=n[t-1],(0==t%e||8===e&&4==t%e)&&(r=s[r>>>24]<<24^s[r>>16&255]<<16^s[r>>8&255]<<8^s[255&r],0==t%e&&(r=r<<8^r>>>24^a<<24,a=a<<1^283*(a>>7))),n[t]=n[t-e]^r;for(e=0;t;e++,t--)r=n[3&e?t:t-4],o[e]=4>=t||4>e?r:i[0][s[r>>>24]]^i[1][s[r>>16&255]]^i[2][s[r>>8&255]]^i[3][s[255&r]]},sjcl.cipher.aes.prototype={encrypt:function(t){return w(this,t,0)},decrypt:function(t){return w(this,t,1)},k:[[[],[],[],[],[]],[[],[],[],[],[]]],D:function(){var t,e,r,n,o,s,i,a=this.k[0],c=this.k[1],u=a[4],l=c[4],p=[],h=[];for(t=0;256>t;t++)h[(p[t]=t<<1^283*(t>>7))^t]=t;for(e=r=0;!u[e];e^=n||1,r=h[r]||1)for(s=(s=r^r<<1^r<<2^r<<3^r<<4)>>8^255&s^99,u[e]=s,l[s]=e,i=16843009*(o=p[t=p[n=p[e]]])^65537*t^257*n^16843008*e,o=257*p[s]^16843008*s,t=0;4>t;t++)a[t][e]=o=o<<24^o>>>8,c[t][s]=i=i<<24^i>>>8;for(t=0;5>t;t++)a[t]=a[t].slice(0),c[t]=c[t].slice(0)}},sjcl.bitArray={bitSlice:function(t,e,r){return t=sjcl.bitArray.P(t.slice(e/32),32-(31&e)).slice(1),r===s?t:sjcl.bitArray.clamp(t,r-e)},extract:function(t,e,r){var n=Math.floor(-e-r&31);return(-32&(e+r-1^e)?t[e/32|0]<<32-n^t[e/32+1|0]>>>n:t[e/32|0]>>>n)&(1<<r)-1},concat:function(t,e){if(0===t.length||0===e.length)return t.concat(e);var r=t[t.length-1],n=sjcl.bitArray.getPartial(r);return 32===n?t.concat(e):sjcl.bitArray.P(e,n,0|r,t.slice(0,t.length-1))},bitLength:function(t){var e=t.length;return 0===e?0:32*(e-1)+sjcl.bitArray.getPartial(t[e-1])},clamp:function(t,e){if(32*t.length<e)return t;var r=(t=t.slice(0,Math.ceil(e/32))).length;return e&=31,0<r&&e&&(t[r-1]=sjcl.bitArray.partial(e,t[r-1]&2147483648>>e-1,1)),t},partial:function(t,e,r){return 32===t?e:(r?0|e:e<<32-t)+1099511627776*t},getPartial:function(t){return Math.round(t/1099511627776)||32},equal:function(t,e){if(sjcl.bitArray.bitLength(t)!==sjcl.bitArray.bitLength(e))return u;var r,n=0;for(r=0;r<t.length;r++)n|=t[r]^e[r];return 0===n},P:function(t,e,r,n){var o;for(o=0,n===s&&(n=[]);32<=e;e-=32)n.push(r),r=0;if(0===e)return n.concat(t);for(o=0;o<t.length;o++)n.push(r|t[o]>>>e),r=t[o]<<32-e;return o=t.length?t[t.length-1]:0,t=sjcl.bitArray.getPartial(o),n.push(sjcl.bitArray.partial(e+t&31,32<e+t?r:n.pop(),1)),n},l:function(t,e){return[t[0]^e[0],t[1]^e[1],t[2]^e[2],t[3]^e[3]]},byteswapM:function(t){var e,r;for(e=0;e<t.length;++e)r=t[e],t[e]=r>>>24|r>>>8&65280|(65280&r)<<8|r<<24;return t}},sjcl.codec.utf8String={fromBits:function(t){var e,r,n="",o=sjcl.bitArray.bitLength(t);for(e=0;e<o/8;e++)0==(3&e)&&(r=t[e/4]),n+=String.fromCharCode(r>>>24),r<<=8;return decodeURIComponent(escape(n))},toBits:function(t){t=unescape(encodeURIComponent(t));var e,r=[],n=0;for(e=0;e<t.length;e++)n=n<<8|t.charCodeAt(e),3==(3&e)&&(r.push(n),n=0);return 3&e&&r.push(sjcl.bitArray.partial(8*(3&e),n)),r}},sjcl.codec.hex={fromBits:function(t){var e,r="";for(e=0;e<t.length;e++)r+=(0xf00000000000+(0|t[e])).toString(16).substr(4);return r.substr(0,sjcl.bitArray.bitLength(t)/4)},toBits:function(t){var e,r,n=[];for(r=(t=t.replace(/\s|0x/g,"")).length,t+="00000000",e=0;e<t.length;e+=8)n.push(0^parseInt(t.substr(e,8),16));return sjcl.bitArray.clamp(n,4*r)}},sjcl.codec.base64={J:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(t,e,r){var n="",o=0,s=sjcl.codec.base64.J,i=0,a=sjcl.bitArray.bitLength(t);for(r&&(s=s.substr(0,62)+"-_"),r=0;6*n.length<a;)n+=s.charAt((i^t[r]>>>o)>>>26),6>o?(i=t[r]<<6-o,o+=26,r++):(i<<=6,o-=6);for(;3&n.length&&!e;)n+="=";return n},toBits:function(t,e){t=t.replace(/\s|=/g,"");var r,n,o=[],s=0,i=sjcl.codec.base64.J,a=0;for(e&&(i=i.substr(0,62)+"-_"),r=0;r<t.length;r++)0>(n=i.indexOf(t.charAt(r)))&&q(new sjcl.exception.invalid("this isn't base64!")),26<s?(s-=26,o.push(a^n>>>s),a=n<<32-s):a^=n<<32-(s+=6);return 56&s&&o.push(sjcl.bitArray.partial(56&s,a,1)),o}},sjcl.codec.base64url={fromBits:function(t){return sjcl.codec.base64.fromBits(t,1,1)},toBits:function(t){return sjcl.codec.base64.toBits(t,1)}},sjcl.hash.sha256=function(t){this.b[0]||this.D(),t?(this.r=t.r.slice(0),this.o=t.o.slice(0),this.h=t.h):this.reset()},sjcl.hash.sha256.hash=function(t){return(new sjcl.hash.sha256).update(t).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.r=this.N.slice(0),this.o=[],this.h=0,this},update:function(t){"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t));var e,r=this.o=sjcl.bitArray.concat(this.o,t);for(e=this.h,t=this.h=e+sjcl.bitArray.bitLength(t),e=512+e&-512;e<=t;e+=512)x(this,r.splice(0,16));return this},finalize:function(){var t,e=this.o,r=this.r;for(t=(e=sjcl.bitArray.concat(e,[sjcl.bitArray.partial(1,1)])).length+2;15&t;t++)e.push(0);for(e.push(Math.floor(this.h/4294967296)),e.push(0|this.h);e.length;)x(this,e.splice(0,16));return this.reset(),r},N:[],b:[],D:function(){function t(t){return 4294967296*(t-Math.floor(t))|0}var e,r=0,n=2;t:for(;64>r;n++){for(e=2;e*e<=n;e++)if(0==n%e)continue t;8>r&&(this.N[r]=t(Math.pow(n,.5))),this.b[r]=t(Math.pow(n,1/3)),r++}}},sjcl.mode.ccm={name:"ccm",encrypt:function(t,e,r,n,o){var s,i=e.slice(0),a=sjcl.bitArray,c=a.bitLength(r)/8,u=a.bitLength(i)/8;for(o=o||64,n=n||[],7>c&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),s=2;4>s&&u>>>8*s;s++);return s<15-c&&(s=15-c),r=a.clamp(r,8*(15-s)),e=sjcl.mode.ccm.L(t,e,r,n,o,s),i=sjcl.mode.ccm.p(t,i,r,e,o,s),a.concat(i.data,i.tag)},decrypt:function(t,e,r,n,o){o=o||64,n=n||[];var s=sjcl.bitArray,i=s.bitLength(r)/8,a=s.bitLength(e),c=s.clamp(e,a-o),u=s.bitSlice(e,a-o);a=(a-o)/8;for(7>i&&q(new sjcl.exception.invalid("ccm: iv must be at least 7 bytes")),e=2;4>e&&a>>>8*e;e++);return e<15-i&&(e=15-i),r=s.clamp(r,8*(15-e)),c=sjcl.mode.ccm.p(t,c,r,u,o,e),t=sjcl.mode.ccm.L(t,c.data,r,n,o,e),s.equal(c.tag,t)||q(new sjcl.exception.corrupt("ccm: tag doesn't match")),c.data},L:function(t,e,r,n,o,s){var i=[],a=sjcl.bitArray,c=a.l;if(((o/=8)%2||4>o||16<o)&&q(new sjcl.exception.invalid("ccm: invalid tag length")),(4294967295<n.length||4294967295<e.length)&&q(new sjcl.exception.bug("ccm: can't deal with 4GiB or more data")),s=[a.partial(8,(n.length?64:0)|o-2<<2|s-1)],(s=a.concat(s,r))[3]|=a.bitLength(e)/8,s=t.encrypt(s),n.length)for(65279>=(r=a.bitLength(n)/8)?i=[a.partial(16,r)]:4294967295>=r&&(i=a.concat([a.partial(16,65534)],[r])),i=a.concat(i,n),n=0;n<i.length;n+=4)s=t.encrypt(c(s,i.slice(n,n+4).concat([0,0,0])));for(n=0;n<e.length;n+=4)s=t.encrypt(c(s,e.slice(n,n+4).concat([0,0,0])));return a.clamp(s,8*o)},p:function(t,e,r,n,o,s){var i,a=sjcl.bitArray;i=a.l;var c=e.length,u=a.bitLength(e);if(r=a.concat([a.partial(8,s-1)],r).concat([0,0,0]).slice(0,4),n=a.bitSlice(i(n,t.encrypt(r)),0,o),!c)return{tag:n,data:[]};for(i=0;i<c;i+=4)r[3]++,o=t.encrypt(r),e[i]^=o[0],e[i+1]^=o[1],e[i+2]^=o[2],e[i+3]^=o[3];return{tag:n,data:a.clamp(e,u)}}},sjcl.mode.ocb2={name:"ocb2",encrypt:function(t,e,r,n,o,s){128!==sjcl.bitArray.bitLength(r)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits"));var i,a=sjcl.mode.ocb2.H,c=sjcl.bitArray,u=c.l,l=[0,0,0,0];r=a(t.encrypt(r));var p,h=[];for(n=n||[],o=o||64,i=0;i+4<e.length;i+=4)l=u(l,p=e.slice(i,i+4)),h=h.concat(u(r,t.encrypt(u(r,p)))),r=a(r);return p=e.slice(i),e=c.bitLength(p),i=t.encrypt(u(r,[0,0,0,e])),p=c.clamp(u(p.concat([0,0,0]),i),e),l=u(l,u(p.concat([0,0,0]),i)),l=t.encrypt(u(l,u(r,a(r)))),n.length&&(l=u(l,s?n:sjcl.mode.ocb2.pmac(t,n))),h.concat(c.concat(p,c.clamp(l,o)))},decrypt:function(t,e,r,n,o,s){128!==sjcl.bitArray.bitLength(r)&&q(new sjcl.exception.invalid("ocb iv must be 128 bits")),o=o||64;var i,a,c=sjcl.mode.ocb2.H,u=sjcl.bitArray,l=u.l,p=[0,0,0,0],h=c(t.encrypt(r)),d=sjcl.bitArray.bitLength(e)-o,f=[];for(n=n||[],r=0;r+4<d/32;r+=4)i=l(h,t.decrypt(l(h,e.slice(r,r+4)))),p=l(p,i),f=f.concat(i),h=c(h);return a=d-32*r,i=t.encrypt(l(h,[0,0,0,a])),i=l(i,u.clamp(e.slice(r),a).concat([0,0,0])),p=l(p,i),p=t.encrypt(l(p,l(h,c(h)))),n.length&&(p=l(p,s?n:sjcl.mode.ocb2.pmac(t,n))),u.equal(u.clamp(p,o),u.bitSlice(e,d))||q(new sjcl.exception.corrupt("ocb: tag doesn't match")),f.concat(u.clamp(i,a))},pmac:function(t,e){var r,n=sjcl.mode.ocb2.H,o=sjcl.bitArray,s=o.l,i=[0,0,0,0],a=s(a=t.encrypt([0,0,0,0]),n(n(a)));for(r=0;r+4<e.length;r+=4)a=n(a),i=s(i,t.encrypt(s(a,e.slice(r,r+4))));return r=e.slice(r),128>o.bitLength(r)&&(a=s(a,n(a)),r=o.concat(r,[-2147483648,0,0,0])),i=s(i,r),t.encrypt(s(n(s(a,n(a))),i))},H:function(t){return[t[0]<<1^t[1]>>>31,t[1]<<1^t[2]>>>31,t[2]<<1^t[3]>>>31,t[3]<<1^135*(t[0]>>>31)]}},sjcl.mode.gcm={name:"gcm",encrypt:function(t,e,r,n,o){var s=e.slice(0);return e=sjcl.bitArray,n=n||[],t=sjcl.mode.gcm.p(!0,t,s,n,r,o||128),e.concat(t.data,t.tag)},decrypt:function(t,e,r,n,o){var s=e.slice(0),i=sjcl.bitArray,a=i.bitLength(s);return n=n||[],(o=o||128)<=a?(e=i.bitSlice(s,a-o),s=i.bitSlice(s,0,a-o)):(e=s,s=[]),t=sjcl.mode.gcm.p(u,t,s,n,r,o),i.equal(t.tag,e)||q(new sjcl.exception.corrupt("gcm: tag doesn't match")),t.data},Z:function(t,e){var r,n,o,s,i,a=sjcl.bitArray.l;for(o=[0,0,0,0],s=e.slice(0),r=0;128>r;r++){for((n=0!=(t[Math.floor(r/32)]&1<<31-r%32))&&(o=a(o,s)),i=0!=(1&s[3]),n=3;0<n;n--)s[n]=s[n]>>>1|(1&s[n-1])<<31;s[0]>>>=1,i&&(s[0]^=-520093696)}return o},g:function(t,e,r){var n,o=r.length;for(e=e.slice(0),n=0;n<o;n+=4)e[0]^=4294967295&r[n],e[1]^=4294967295&r[n+1],e[2]^=4294967295&r[n+2],e[3]^=4294967295&r[n+3],e=sjcl.mode.gcm.Z(e,t);return e},p:function(t,e,r,n,o,s){var i,a,c,u,l,p,h,d,f=sjcl.bitArray;for(p=r.length,h=f.bitLength(r),d=f.bitLength(n),a=f.bitLength(o),i=e.encrypt([0,0,0,0]),96===a?(o=o.slice(0),o=f.concat(o,[1])):(o=sjcl.mode.gcm.g(i,[0,0,0,0],o),o=sjcl.mode.gcm.g(i,o,[0,0,Math.floor(a/4294967296),4294967295&a])),a=sjcl.mode.gcm.g(i,[0,0,0,0],n),l=o.slice(0),n=a.slice(0),t||(n=sjcl.mode.gcm.g(i,a,r)),u=0;u<p;u+=4)l[3]++,c=e.encrypt(l),r[u]^=c[0],r[u+1]^=c[1],r[u+2]^=c[2],r[u+3]^=c[3];return r=f.clamp(r,h),t&&(n=sjcl.mode.gcm.g(i,a,r)),t=[Math.floor(d/4294967296),4294967295&d,Math.floor(h/4294967296),4294967295&h],n=sjcl.mode.gcm.g(i,n,t),c=e.encrypt(o),n[0]^=c[0],n[1]^=c[1],n[2]^=c[2],n[3]^=c[3],{tag:f.bitSlice(n,0,s),data:r}}},sjcl.misc.hmac=function(t,e){this.M=e=e||sjcl.hash.sha256;var r,n=[[],[]],o=e.prototype.blockSize/32;for(this.n=[new e,new e],t.length>o&&(t=e.hash(t)),r=0;r<o;r++)n[0][r]=909522486^t[r],n[1][r]=1549556828^t[r];this.n[0].update(n[0]),this.n[1].update(n[1]),this.G=new e(this.n[0])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(t){return this.Q&&q(new sjcl.exception.invalid("encrypt on already updated hmac called!")),this.update(t),this.digest(t)},sjcl.misc.hmac.prototype.reset=function(){this.G=new this.M(this.n[0]),this.Q=u},sjcl.misc.hmac.prototype.update=function(t){this.Q=!0,this.G.update(t)},sjcl.misc.hmac.prototype.digest=function(){var t=this.G.finalize();t=new this.M(this.n[1]).update(t).finalize();return this.reset(),t},sjcl.misc.pbkdf2=function(t,e,r,n,o){r=r||1e3,(0>n||0>r)&&q(sjcl.exception.invalid("invalid params to pbkdf2")),"string"==typeof t&&(t=sjcl.codec.utf8String.toBits(t)),"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),t=new(o=o||sjcl.misc.hmac)(t);var s,i,a,c,u=[],l=sjcl.bitArray;for(c=1;32*u.length<(n||1);c++){for(o=s=t.encrypt(l.concat(e,[c])),i=1;i<r;i++)for(s=t.encrypt(s),a=0;a<s.length;a++)o[a]^=s[a];u=u.concat(o)}return n&&(u=l.clamp(u,n)),u},sjcl.prng=function(t){this.c=[new sjcl.hash.sha256],this.i=[0],this.F=0,this.s={},this.C=0,this.K={},this.O=this.d=this.j=this.W=0,this.b=[0,0,0,0,0,0,0,0],this.f=[0,0,0,0],this.A=s,this.B=t,this.q=u,this.w={progress:{},seeded:{}},this.m=this.V=0,this.t=1,this.u=2,this.S=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.T=3e4,this.R=80},sjcl.prng.prototype={randomWords:function(t,e){var r,n,o=[];if((r=this.isReady(e))===this.m&&q(new sjcl.exception.notReady("generator isn't seeded")),r&this.u){r=!(r&this.t),n=[];var s,i=0;for(this.O=n[0]=(new Date).valueOf()+this.T,s=0;16>s;s++)n.push(4294967296*Math.random()|0);for(s=0;s<this.c.length&&(n=n.concat(this.c[s].finalize()),i+=this.i[s],this.i[s]=0,r||!(this.F&1<<s));s++);for(this.F>=1<<this.c.length&&(this.c.push(new sjcl.hash.sha256),this.i.push(0)),this.d-=i,i>this.j&&(this.j=i),this.F++,this.b=sjcl.hash.sha256.hash(this.b.concat(n)),this.A=new sjcl.cipher.aes(this.b),r=0;4>r&&(this.f[r]=this.f[r]+1|0,!this.f[r]);r++);}for(r=0;r<t;r+=4)0==(r+1)%this.S&&A(this),n=B(this),o.push(n[0],n[1],n[2],n[3]);return A(this),o.slice(0,t)},setDefaultParanoia:function(t,e){0===t&&"Setting paranoia=0 will ruin your security; use it only for testing"!==e&&q("Setting paranoia=0 will ruin your security; use it only for testing"),this.B=t},addEntropy:function(t,e,r){r=r||"user";var n,o,i=(new Date).valueOf(),a=this.s[r],c=this.isReady(),u=0;switch((n=this.K[r])===s&&(n=this.K[r]=this.W++),a===s&&(a=this.s[r]=0),this.s[r]=(this.s[r]+1)%this.c.length,typeof t){case"number":e===s&&(e=1),this.c[a].update([n,this.C++,1,e,i,1,0|t]);break;case"object":if("[object Uint32Array]"===(r=Object.prototype.toString.call(t))){for(o=[],r=0;r<t.length;r++)o.push(t[r]);t=o}else for("[object Array]"!==r&&(u=1),r=0;r<t.length&&!u;r++)"number"!=typeof t[r]&&(u=1);if(!u){if(e===s)for(r=e=0;r<t.length;r++)for(o=t[r];0<o;)e++,o>>>=1;this.c[a].update([n,this.C++,2,e,i,t.length].concat(t))}break;case"string":e===s&&(e=t.length),this.c[a].update([n,this.C++,3,e,i,t.length]),this.c[a].update(t);break;default:u=1}u&&q(new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string")),this.i[a]+=e,this.d+=e,c===this.m&&(this.isReady()!==this.m&&C("seeded",Math.max(this.j,this.d)),C("progress",this.getProgress()))},isReady:function(t){return t=this.I[t!==s?t:this.B],this.j&&this.j>=t?this.i[0]>this.R&&(new Date).valueOf()>this.O?this.u|this.t:this.t:this.d>=t?this.u|this.m:this.m},getProgress:function(t){return t=this.I[t||this.B],this.j>=t?1:this.d>t?1:this.d/t},startCollectors:function(){this.q||(this.a={loadTimeCollector:D(this,this.aa),mouseCollector:D(this,this.ba),keyboardCollector:D(this,this.$),accelerometerCollector:D(this,this.U),touchCollector:D(this,this.da)},window.addEventListener?(window.addEventListener("load",this.a.loadTimeCollector,u),window.addEventListener("mousemove",this.a.mouseCollector,u),window.addEventListener("keypress",this.a.keyboardCollector,u),window.addEventListener("devicemotion",this.a.accelerometerCollector,u),window.addEventListener("touchmove",this.a.touchCollector,u)):document.attachEvent?(document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)):q(new sjcl.exception.bug("can't attach event")),this.q=!0)},stopCollectors:function(){this.q&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,u),window.removeEventListener("mousemove",this.a.mouseCollector,u),window.removeEventListener("keypress",this.a.keyboardCollector,u),window.removeEventListener("devicemotion",this.a.accelerometerCollector,u),window.removeEventListener("touchmove",this.a.touchCollector,u)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.q=u)},addEventListener:function(t,e){this.w[t][this.V++]=e},removeEventListener:function(t,e){var r,n,o=this.w[t],s=[];for(n in o)o.hasOwnProperty(n)&&o[n]===e&&s.push(n);for(r=0;r<s.length;r++)delete o[n=s[r]]},$:function(){E(1)},ba:function(t){var e,r;try{e=t.x||t.clientX||t.offsetX||0,r=t.y||t.clientY||t.offsetY||0}catch(t){r=e=0}0!=e&&0!=r&&sjcl.random.addEntropy([e,r],2,"mouse"),E(0)},da:function(t){t=t.touches[0]||t.changedTouches[0],sjcl.random.addEntropy([t.pageX||t.clientX,t.pageY||t.clientY],1,"touch"),E(0)},aa:function(){E(2)},U:function(t){if(t=t.accelerationIncludingGravity.x||t.accelerationIncludingGravity.y||t.accelerationIncludingGravity.z,window.orientation){var e=window.orientation;"number"==typeof e&&sjcl.random.addEntropy(e,1,"accelerometer")}t&&sjcl.random.addEntropy(t,2,"accelerometer"),E(0)}},sjcl.random=new sjcl.prng(6);t:try{var F,G,H,I;if(I="undefined"!=typeof module){var J;if(J=module.exports){var K;try{K=require("crypto")}catch(t){K=null}J=(G=K)&&G.randomBytes}I=J}if(I)F=G.randomBytes(128),F=new Uint32Array(new Uint8Array(F).buffer),sjcl.random.addEntropy(F,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(H=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(H);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break t;window.msCrypto.getRandomValues(H)}sjcl.random.addEntropy(H,1024,"crypto['getRandomValues']")}}catch(t){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(t))}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},Y:function(t,e,r,n){r=r||{},n=n||{};var o,s=sjcl.json,i=s.e({iv:sjcl.random.randomWords(4,0)},s.defaults);return s.e(i,r),r=i.adata,"string"==typeof i.salt&&(i.salt=sjcl.codec.base64.toBits(i.salt)),"string"==typeof i.iv&&(i.iv=sjcl.codec.base64.toBits(i.iv)),(!sjcl.mode[i.mode]||!sjcl.cipher[i.cipher]||"string"==typeof t&&100>=i.iter||64!==i.ts&&96!==i.ts&&128!==i.ts||128!==i.ks&&192!==i.ks&&256!==i.ks||2>i.iv.length||4<i.iv.length)&&q(new sjcl.exception.invalid("json encrypt: invalid parameters")),"string"==typeof t?(t=(o=sjcl.misc.cachedPbkdf2(t,i)).key.slice(0,i.ks/32),i.salt=o.salt):sjcl.ecc&&t instanceof sjcl.ecc.elGamal.publicKey&&(o=t.kem(),i.kemtag=o.tag,t=o.key.slice(0,i.ks/32)),"string"==typeof e&&(e=sjcl.codec.utf8String.toBits(e)),"string"==typeof r&&(i.adata=r=sjcl.codec.utf8String.toBits(r)),o=new sjcl.cipher[i.cipher](t),s.e(n,i),n.key=t,i.ct=sjcl.mode[i.mode].encrypt(o,e,i.iv,r,i.ts),i},encrypt:function(t,e,r,n){var o=sjcl.json,s=o.Y.apply(o,arguments);return o.encode(s)},X:function(t,e,r,n){r=r||{},n=n||{};var o,s,i=sjcl.json;return o=(e=i.e(i.e(i.e({},i.defaults),e),r,!0)).adata,"string"==typeof e.salt&&(e.salt=sjcl.codec.base64.toBits(e.salt)),"string"==typeof e.iv&&(e.iv=sjcl.codec.base64.toBits(e.iv)),(!sjcl.mode[e.mode]||!sjcl.cipher[e.cipher]||"string"==typeof t&&100>=e.iter||64!==e.ts&&96!==e.ts&&128!==e.ts||128!==e.ks&&192!==e.ks&&256!==e.ks||!e.iv||2>e.iv.length||4<e.iv.length)&&q(new sjcl.exception.invalid("json decrypt: invalid parameters")),"string"==typeof t?(t=(s=sjcl.misc.cachedPbkdf2(t,e)).key.slice(0,e.ks/32),e.salt=s.salt):sjcl.ecc&&t instanceof sjcl.ecc.elGamal.secretKey&&(t=t.unkem(sjcl.codec.base64.toBits(e.kemtag)).slice(0,e.ks/32)),"string"==typeof o&&(o=sjcl.codec.utf8String.toBits(o)),s=new sjcl.cipher[e.cipher](t),o=sjcl.mode[e.mode].decrypt(s,e.ct,e.iv,o,e.ts),i.e(n,e),n.key=t,1===r.raw?o:sjcl.codec.utf8String.fromBits(o)},decrypt:function(t,e,r,n){var o=sjcl.json;return o.X(t,o.decode(e),r,n)},encode:function(t){var e,r="{",n="";for(e in t)if(t.hasOwnProperty(e))switch(e.match(/^[a-z0-9]+$/i)||q(new sjcl.exception.invalid("json encode: invalid property name")),r+=n+'"'+e+'":',n=",",typeof t[e]){case"number":case"boolean":r+=t[e];break;case"string":r+='"'+escape(t[e])+'"';break;case"object":r+='"'+sjcl.codec.base64.fromBits(t[e],0)+'"';break;default:q(new sjcl.exception.bug("json encode: unsupported type"))}return r+"}"},decode:function(t){(t=t.replace(/\s/g,"")).match(/^\{.*\}$/)||q(new sjcl.exception.invalid("json decode: this isn't json!")),t=t.replace(/^\{|\}$/g,"").split(/,/);var e,r,n={};for(e=0;e<t.length;e++)(r=t[e].match(/^\s*(?:(["']?)([a-z][a-z0-9]*)\1)\s*:\s*(?:(-?\d+)|"([a-z0-9+\/%*_.@=\-]*)"|(true|false))$/i))||q(new sjcl.exception.invalid("json decode: this isn't json!")),r[3]?n[r[2]]=parseInt(r[3],10):r[4]?n[r[2]]=r[2].match(/^(ct|adata|salt|iv)$/)?sjcl.codec.base64.toBits(r[4]):unescape(r[4]):r[5]&&(n[r[2]]="true"===r[5]);return n},e:function(t,e,r){if(t===s&&(t={}),e===s)return t;for(var n in e)e.hasOwnProperty(n)&&(r&&t[n]!==s&&t[n]!==e[n]&&q(new sjcl.exception.invalid("required parameter overridden")),t[n]=e[n]);return t},fa:function(t,e){var r,n={};for(r in t)t.hasOwnProperty(r)&&t[r]!==e[r]&&(n[r]=t[r]);return n},ea:function(t,e){var r,n={};for(r=0;r<e.length;r++)t[e[r]]!==s&&(n[e[r]]=t[e[r]]);return n}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.ca={},sjcl.misc.cachedPbkdf2=function(t,e){var r,n=sjcl.misc.ca;return r=(e=e||{}).iter||1e3,(r=(n=n[t]=n[t]||{})[r]=n[r]||{firstSalt:e.salt&&e.salt.length?e.salt.slice(0):sjcl.random.randomWords(2,0)})[n=e.salt===s?r.firstSalt:e.salt]=r[n]||sjcl.misc.pbkdf2(t,n,e.iter),{key:r[n].slice(0),salt:n.slice(0)}};
//# sourceMappingURL=pkg-api_v2.min.js-vfl0pnefX.map