define("modules/core/assert",["require","exports"],(function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assert=void 0,n.assert=function(e,n,t){if(void 0===t&&(t={}),!e){0;var r=new Error("Assertion Error: "+n),i=t.tags,o=void 0===i?[]:i,s=t.exc_extra,a=void 0===s?null:s;throw r.assertOptions={tags:o.concat("module:exception","assert"),exc_extra:a},r.isAssertion=!0,r}}})),define("modules/core/exception_tag_registry",["require","exports"],(function(e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.clear_all_tags=n.unregister_tag=n.register_tag=n.get_registered_tags=void 0;var t=new Set;if(window.ensemble){var r=window;r.REGISTERED_EXCEPTION_TAGS||(r.REGISTERED_EXCEPTION_TAGS=new Set),t=r.REGISTERED_EXCEPTION_TAGS}n.get_registered_tags=function(){var e=[];return t.forEach((function(n){return e.push(n)})),e},n.register_tag=function(e){t.add(e)},n.unregister_tag=function(e){t.delete(e)},n.clear_all_tags=function(){t.clear()}})),define("modules/core/exception",["require","exports","tslib","modules/shims/tracekit","modules/constants/page_load","modules/constants/request","modules/core/exception_tag_registry","modules/core/xhr"],(function(e,n,t,r,i,o,s,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.setEdisonExceptionExtras=n.reportStack=n.cleanup_stack_trace=n._reportException=n.reportException=n.unregisterOnFailedAssert=n.registerOnFailedAssert=n.SEVERITY=void 0,r=t.__importDefault(r),i=t.__importStar(i),o=t.__importStar(o);var c=0,l=[],u=void 0,f=void 0;function p(e,n){for(var t=function(e){if(!e)return!1;for(var t=0,r=n;t<r.length;t++){var i=r[t];if(-1!==e.search(i))return!0}return!1};e.length>0&&t(e[0].func);)e=e.slice(1);return e}n.SEVERITY={CRITICAL:"critical",NONCRITICAL:"non-critical",USER_ERROR:"user-error",UNCAUGHT:"uncaught",OPERATIONAL:"operational"},n.registerOnFailedAssert=function(e){l.push(e)},n.unregisterOnFailedAssert=function(e){var n=l.indexOf(e);n>=0&&l.splice(n,1)},n.reportException=function(e){var i=e.err,o=e.force,s=e.tags,a=e.severity,c=e.exc_extra;if(!i.reported){var u=r.default.computeStackTrace(i),f=null!=(u&&u.stack)?u.stack:[];if(i.isAssertion){var p=i;p.assertOptions&&p.assertOptions.tags&&(s=(s||[]).concat(p.assertOptions.tags)),p.assertOptions&&p.assertOptions.exc_extra&&(c=t.__assign(t.__assign({},null!=c?c:{}),p.assertOptions.exc_extra)),l.forEach((function(e){return e(u)}))}var d=i;d.excExtra&&(c=t.__assign(t.__assign({},null!=c?c:{}),d.excExtra)),d.tags&&(s=(null!=s?s:[]).concat(d.tags)),n._reportException({msg:i.message,stack:f,force:o,tags:s,severity:a,exc_extra:c}),i.reported=!0}},n._reportException=function(e){var l=e.msg,d=e.stack,m=e.force,g=e.tags,x=e.severity,v=e.exc_extra;if(!u||m){var _=["\\b_reportException\\b","\\breportException\\b","\\bassert\\b","\\breportStack\\b"],h=[];d=p(d,_);try{throw new Error}catch(e){var E=r.default.computeStackTrace(e);null!=E&&null!=E.stack&&(h=E.stack),h=p(h,_)}var k=d.length-h.length;k<=0&&(k=1);var w=d.slice(0,k),b=d.slice(k);g||(g=[]),g=g.concat(s.get_registered_tags());var S="";S=f&&"sessionId"in f?f.sessionId:i.SESSION_ID,g.push("session-id:"+S),v=v?t.__assign({},v):{},window.DB_FRAME_BUST&&(v.DB_FRAME_BUST=!0,x=n.SEVERITY.USER_ERROR),v.client_time=(new Date).toString(),v.client_utc_time=(new Date).toUTCString(),c+=1,v.exception_number=c,f?delete(v=t.__assign(t.__assign({},v),f)).sessionId:v=t.__assign(t.__assign({},v),{page_repo_rev:i.REPO_REV,page_load_timestamp:o.PAGE_LOAD_TIME,page_load_hostname:i.HOSTNAME,yaps_project:i.YAPS_PROJECT,yaps_deployment:i.YAPS_DEPLOYMENT,user_locale:i.USER_LOCALE});var y={};for(var O in window.requireContexts)if(window.requireContexts.hasOwnProperty(O)){var T={},C=window.requireContexts[O].firstUndefinedModule;C&&(T.first_undefined_module=C),y[O]=T}v.page_alameda_failures=y;var R=window.ensemble;null!=R&&(null!=R.getExceptionInfo&&(v.dws_page_info=R.getExceptionInfo()),null!=R.getPageletInfoForExceptionReporting&&(v.pagelet_info=R.getPageletInfoForExceptionReporting()));var A={e:l,loc:window.location.href,ref:document.referrer,stack:JSON.stringify(w.reverse()),context_tb:JSON.stringify(b.reverse()),tags:JSON.stringify(g),sev:x||"",exc_extra:JSON.stringify(v||{})};a.sendXhr("/jse",A),u=l}},n.cleanup_stack_trace=p,n.reportStack=function(e,t){void 0===t&&(t={}),t={severity:t.severity||n.SEVERITY.NONCRITICAL,tags:t.tags||[],exc_extra:t.exc_extra||{},silent:!!t.silent};var r=new Error(e);n.reportException({err:r,force:!0,tags:(t.tags||[]).concat("module:exception","reportStack"),severity:t.severity,exc_extra:t.exc_extra})},n.setEdisonExceptionExtras=function(e){f=e}})),define("modules/shims/tracekit",["require","exports","tslib","tracekit"],(function(e,n,t,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),(r=t.__importDefault(r)).default.linesOfContext=1,r.default.remoteFetching=!1,r.default.noConflict(),n.default=r.default})),define("modules/core/cookies",["require","exports","tslib"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Cookies=n._setCookie=void 0;var assert=function(e,n){if(!e)throw new Error(n)},r=/^([0-9]{1,3}\.){3}[0-9]{1,3}$/,i=["=",";"],o=function(e,n,t){void 0===t&&(t=!1),assert("string"==typeof e,n+" must be a string, but was "+typeof e),assert(t||e.length>0,n+" must not be empty"),assert(!(function(e){if(null==e)return!1;for(var n=0,t=i;n<t.length;n++){var r=t[n];if(-1!==e.indexOf(r))return!0}return!1})(e),n+" contains illegal characters")},s=function(e){return o(e,"Cookie name",!1)};n._setCookie=function(e,n,t){var r,i,a;void 0===t&&(t={}),s(e),(function(e){o(e,"Cookie value",!0)})(n),t.expires&&(r=t.expires,o(r,"Cookie expiration date",!1)),t.domain&&(i=t.domain,o(i,"Cookie domain",!1)),t.path&&(a=t.path,o(a,"Cookie path",!1));var c=[e+"="+n];t.expires&&c.push("expires="+t.expires),t.domain&&c.push("domain="+t.domain),t.path&&c.push("path="+t.path),t.samesite&&c.push("samesite="+t.samesite),c.push("secure"),document.cookie=c.join("; ")};var a=new Date(1).toUTCString();n.Cookies={create:function(e,t,r,i,o,s){var a;if(void 0===o&&(o="/"),void 0===s&&(s="lax"),null!=r){assert("number"==typeof r,"Cookie expiration must be a number");var c=new Date;c.setTime(c.getTime()+24*r*60*60*1e3),a=c.toUTCString()}n._setCookie(e,t,{expires:a,path:o,domain:i,samesite:s})},read:function(e){s(e);for(var t=[],r=0,i=document.cookie.split(";");r<i.length;r++){var o=i[r],a=o.split("=",1)[0];a.trim()===e&&t.push(o.substring(a.length+1,o.length).trim())}for(var c=!1,l=[],u=0,f=t;u<f.length;u++){var p=f[u];""===p?c=!0:l.push(p)}return 1===l.length?l[0]:l.length>1?(n.Cookies.delete(e),null):c?"":null},delete:function(e){for(var i=t.__spreadArrays([null],(function(e){if(e.match(r))return[e];for(var n=e.split("."),t=[],i=0;i<n.length;i++)t.push(n.slice(i).join("."));return t})(window.location.hostname)),o=t.__spreadArrays([null],(function(e){for(var n=e.split("/"),t=[],r=0;r<n.length;r++){var i=n.slice(0,n.length-r).join("/");""!==i&&t.push(i),t.push(i+"/")}return t})(window.location.pathname)),s=0,c=i;s<c.length;s++)for(var l=c[s],u=0,f=o;u<f.length;u++){var p=f[u];n._setCookie(e,"",{expires:a,domain:l,path:p,samesite:"lax"})}},are_enabled:function(){return navigator.cookieEnabled?navigator.cookieEnabled:(document.cookie="this_is_a_test_cookie",-1!==document.cookie.indexOf("this_is_a_test_cookie"))}}})),define("modules/core/xhr",["require","exports","modules/clean/csrf"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sendXhr=void 0;var r=function(e){};n.sendXhr=function(e,n,i){var o,s;void 0===i&&(i=r),t.assertDropboxDomain(e),o=n,s=t.readCsrfToken(),o.is_xhr=!0,o.t=s;var a=(function(e){var n=[];for(var t in e)e.hasOwnProperty(t)&&void 0!==e[t]&&n.push(encodeURIComponent(t)+"="+encodeURIComponent(String(e[t])));return n.join("&")})(n),c=new XMLHttpRequest;return c.onreadystatechange=function(){c.readyState===XMLHttpRequest.DONE&&i(c.status)},c.open("POST",e),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(a),c}})),define("modules/clean/csrf",["require","exports","modules/core/cookies"],(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.assertDropboxDomain=n.readCsrfToken=void 0,n.readCsrfToken=function(){return t.Cookies.read("__Host-js_csrf")},n.assertDropboxDomain=function(e){var n=document.createElement("a");n.href=e;var t=n.hostname||window.location.hostname;if(-1===t.indexOf(".dropbox.com",t.length-".dropbox.com".length))throw new Error("Cannot send the CSRF token to "+t)}})),define("prod_assets_web_modules/tracekit",["./common/_commonjsHelpers"],(function(e){"use strict";var n,t={exports:{}};return n=t,(function(e,t){if(e){var r={},i=e.TraceKit,o=[].slice,s="?";r.noConflict=function(){return e.TraceKit=i,r},r.wrap=function(e){return function(){try{return e.apply(this,arguments)}catch(e){throw r.report(e),e}}},r.report=(function(){var n,t,i=[],s=null,c=null,l=null;function u(e,n){var t=null;if(!n||r.collectWindowErrors){for(var s in i)if(a(i,s))try{i[s].apply(null,[e].concat(o.call(arguments,2)))}catch(e){t=e}if(t)throw t}}function f(e,t,i,o,s){if(l)r.computeStackTrace.augmentStackTraceWithInitialElement(l,t,i,e),p();else if(s)u(r.computeStackTrace(s),!0);else{var a={url:t,line:i,column:o};a.func=r.computeStackTrace.guessFunctionName(a.url,a.line),a.context=r.computeStackTrace.gatherContext(a.url,a.line),u({mode:"onerror",message:e,stack:[a]},!0)}return!!n&&n.apply(this,arguments)}function p(){var e=l,n=s;s=null,l=null,c=null,u.apply(null,[e,!1].concat(n))}function d(n){if(l){if(c===n)return;p()}var t=r.computeStackTrace(n);throw l=t,c=n,s=o.call(arguments,1),e.setTimeout((function(){c===n&&p()}),t.incomplete?2e3:0),n}return d.subscribe=function(r){!0!==t&&(n=e.onerror,e.onerror=f,t=!0),i.push(r)},d.unsubscribe=function(e){for(var n=i.length-1;n>=0;--n)i[n]===e&&i.splice(n,1)},d})(),r.computeStackTrace=(function(){var n={};function t(t){if("string"!=typeof t)return[];if(!a(n,t)){var i="",o="";try{o=e.document.domain}catch(e){}var s=/(.*)\:\/\/([^:\/]+)([:\d]*)\/{0,1}([\s\S]*)/.exec(t);s&&s[2]===o&&(i=(function(n){if(!r.remoteFetching)return"";try{var t=(function(){try{return new e.XMLHttpRequest}catch(n){return new e.ActiveXObject("Microsoft.XMLHTTP")}})();return t.open("GET",n,!1),t.send(""),t.responseText}catch(e){return""}})(t)),n[t]=i?i.split("\n"):[]}return n[t]}function i(e,n){var r,i=/function ([^(]*)\(([^)]*)\)/,o=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,a="",l=t(e);if(!l.length)return s;for(var u=0;u<10;++u)if(!c(a=l[n-u]+a)){if(r=o.exec(a))return r[1];if(r=i.exec(a))return r[1]}return s}function o(e,n){var i=t(e);if(!i.length)return null;var o=[],s=Math.floor(r.linesOfContext/2),a=s+r.linesOfContext%2,l=Math.max(0,n-s-1),u=Math.min(i.length,n+a-1);n-=1;for(var f=l;f<u;++f)c(i[f])||o.push(i[f]);return o.length>0?o:null}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function u(e){return l(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function f(e,n){for(var r,i,o=0,s=n.length;o<s;++o)if((r=t(n[o])).length&&(r=r.join("\n"),i=e.exec(r)))return{url:n[o],line:r.substring(0,i.index).split("\n").length,column:i.index-r.lastIndexOf("\n",i.index)-1};return null}function p(e,n,r){var i,o=t(n),s=new RegExp("\\b"+l(e)+"\\b");return r-=1,o&&o.length>r&&(i=s.exec(o[r]))?i.index:null}function d(n){if(!c(e&&e.document)){for(var t,r,i,o,s=[e.location.href],a=e.document.getElementsByTagName("script"),p=""+n,d=0;d<a.length;++d){var m=a[d];m.src&&s.push(m.src)}if(i=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var g=i[1]?"\\s+"+i[1]:"",x=i[2].split(",").join("\\s*,\\s*");t=l(i[3]).replace(/;$/,";?"),r=new RegExp("function"+g+"\\s*\\(\\s*"+x+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else r=new RegExp(l(p).replace(/\s+/g,"\\s+"));if(o=f(r,s))return o;if(i=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(p)){var v=i[1];if(t=u(i[2]),o=f(r=new RegExp("on"+v+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),s[0]))return o;if(o=f(r=new RegExp(t),s))return o}return null}}function m(e,n,t,r){var s={url:n,line:t};if(s.url&&s.line){e.incomplete=!1,s.func||(s.func=i(s.url,s.line)),s.context||(s.context=o(s.url,s.line));var a=/ '([^']+)' /.exec(r);if(a&&(s.column=p(a[1],s.url,s.line)),e.stack.length>0&&e.stack[0].url===s.url){if(e.stack[0].line===s.line)return!1;if(!e.stack[0].line&&e.stack[0].func===s.func)return e.stack[0].line=s.line,e.stack[0].context=s.context,!1}return e.stack.unshift(s),e.partial=!0,!0}return e.incomplete=!0,!1}function g(e,n){for(var t,o,a,c=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],u={},f=!1,v=g.caller;v&&!f;v=v.caller)if(v!==x&&v!==r.report){if(o={url:null,func:s,args:[],line:null,column:null},v.name?o.func=v.name:(t=c.exec(v.toString()))&&(o.func=t[1]),void 0===o.func)try{o.func=t.input.substring(0,t.input.indexOf("{"))}catch(e){}if(a=d(v)){o.url=a.url,o.line=a.line,o.func===s&&(o.func=i(o.url,o.line));var _=/ '([^']+)' /.exec(e.message||e.description);_&&(o.column=p(_[1],a.url,a.line))}u[""+v]?f=!0:u[""+v]=!0,l.push(o)}n&&l.splice(0,n);var h={mode:"callers",name:e.name,message:e.message,stack:l};return m(h,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),h}function x(n,r){var l=null;r=null==r?0:+r;try{if(l=(function(e){var n=e.stacktrace;if(n){for(var t,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,a=n.split("\n"),c=[],l=0;l<a.length;l+=2){var u=null;if((t=r.exec(a[l]))?u={url:t[2],line:+t[1],column:null,func:t[3],args:[]}:(t=s.exec(a[l]))&&(u={url:t[6],line:+t[1],column:+t[2],func:t[3]||t[4],args:t[5]?t[5].split(","):[]}),u){if(!u.func&&u.line&&(u.func=i(u.url,u.line)),u.line)try{u.context=o(u.url,u.line)}catch(e){}u.context||(u.context=[a[l+1]]),c.push(u)}}return c.length?{mode:"stacktrace",name:e.name,message:e.message,stack:c}:null}})(n))return l}catch(e){}try{if(l=(function(e){if(!e.stack)return null;for(var n,t,r=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|webpack|eval).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,a=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|webpack|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,u=e.stack.split("\n"),f=[],d=/^(.*) is undefined$/.exec(e.message),m=0,g=u.length;m<g;++m){if(n=r.exec(u[m])){var x=n[2]&&-1!==n[2].indexOf("native");t={url:x?null:n[2],func:n[1]||s,args:x?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=l.exec(u[m]))t={url:n[2],func:n[1]||s,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=a.exec(u[m])))continue;t={url:n[3],func:n[1]||s,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!t.func&&t.line&&(t.func=i(t.url,t.line)),t.line&&(t.context=o(t.url,t.line)),f.push(t)}return f.length?(f[0]&&f[0].line&&!f[0].column&&d?f[0].column=p(d[1],f[0].url,f[0].line):f[0].column||c(e.columnNumber)||(f[0].column=e.columnNumber+1),{mode:"stack",name:e.name,message:e.message,stack:f}):null})(n))return l}catch(e){}try{if(l=(function(n){var r=n.message.split("\n");if(r.length<4)return null;var s,c=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,p=/^\s*Line (\d+) of function script\s*$/i,d=[],m=e&&e.document&&e.document.getElementsByTagName("script"),g=[];for(var x in m)a(m,x)&&!m[x].src&&g.push(m[x]);for(var v=2;v<r.length;v+=2){var _=null;if(s=c.exec(r[v]))_={url:s[2],func:s[3],args:[],line:+s[1],column:null};else if(s=l.exec(r[v])){_={url:s[3],func:s[4],args:[],line:+s[1],column:null};var h=+s[1],E=g[s[2]-1];if(E){var k=t(_.url);if(k){var w=(k=k.join("\n")).indexOf(E.innerText);w>=0&&(_.line=h+k.substring(0,w).split("\n").length)}}}else if(s=p.exec(r[v])){var b=e.location.href.replace(/#.*$/,""),S=f(new RegExp(u(r[v+1])),[b]);_={url:b,func:"",args:[],line:S?S.line:s[1],column:null}}if(_){_.func||(_.func=i(_.url,_.line));var y=o(_.url,_.line),O=y?y[Math.floor(y.length/2)]:null;y&&O.replace(/^\s*/,"")===r[v+1].replace(/^\s*/,"")?_.context=y:_.context=[r[v+1]],d.push(_)}}return d.length?{mode:"multiline",name:n.name,message:r[0],stack:d}:null})(n))return l}catch(e){}try{if(l=g(n,r+1))return l}catch(e){}return{mode:"failed"}}return x.augmentStackTraceWithInitialElement=m,x.guessFunctionName=i,x.gatherContext=o,x.ofCaller=function(e){e=1+(null==e?0:+e);try{throw new Error}catch(n){return x(n,e+1)}},x.getSource=t,x})(),r.extendToAsynchronousCallbacks=function(){var n=function(n){var t=e[n];e[n]=function(){var e=o.call(arguments),n=e[0];return"function"==typeof n&&(e[0]=r.wrap(n)),t.apply?t.apply(this,e):t(e[0],e[1])}};n("setTimeout"),n("setInterval")},r.remoteFetching||(r.remoteFetching=!0),r.collectWindowErrors||(r.collectWindowErrors=!0),(!r.linesOfContext||r.linesOfContext<1)&&(r.linesOfContext=11),n.exports&&e.module!==n?n.exports=r:e.TraceKit=r}function a(e,n){return Object.prototype.hasOwnProperty.call(e,n)}function c(e){return void 0===e}})("undefined"!=typeof window?window:e.commonjsGlobal),t.exports}));
//# sourceMappingURL=pkg-exception-reporting.min.js-vflSsrlSL.map