define(["require","exports","tslib","react","dig-components/icons/src","dig-components/icons","modules/core/i18n","modules/clean/react/action_bar/file_actions/portable/utils","modules/clean/react/action_bar/file_actions/portable/delete/delete","modules/clean/react/action_bar/file_actions/portable/delete/snackbars","modules/clean/file_store/utils","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/react/action_bar/action_bar_strings"],(function(e,i,t,n,o,a,r,l,s,c,_,f,u){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeDeleteActionLoader=i.DELETE_ACTION_PLUGIN_ID=void 0,n=t.__importDefault(n),i.DELETE_ACTION_PLUGIN_ID="DELETE_ACTION",i.makeDeleteActionLoader=function(e,i){return function(){var t=(function(){function t(){var e=this;this.lifecycle={previewWillInitialize:function(){e.actionDefinitions.alwaysInOverflow=[e.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]}}return t.prototype.actionToDisplay=function(){var i=e().file;if(_.isSharedFile(i)||f.isPnmLinkNodeSelected(i)||!f.isLiveFile(i))return[];var t=this.deleteDefinition();return t?[t]:[]},t.prototype.deleteDefinition=function(){var t=e().file;if("fq_path"in t)return l.makePluginActionDefinition({label:r.intl.formatMessage(u.DELETE_ACTION_STRING),icon:n.default.createElement(a.UIIcon,{src:o.DeleteLine}),disabled:t.read_only?{disabled:!0,tooltipMessage:r.intl.formatMessage(u.ACTION_DISABLED_STRING)}:{disabled:!1},action:function(){var e={fq_path:t.fq_path,is_dir:t.is_dir};s.portableDelete({user:i,filesPath:[e],fq_path:t.fq_path},{onNetworkRequest:function(){return c.deleteSnackBarInProgress(f.PREVIEWS_SNACKBAR_ID)},onSuccess:function(){return c.deleteCompleteSnackBar(f.PREVIEWS_SNACKBAR_ID)},onError:function(e){return c.deleteFailedSnackBar(e,f.PREVIEWS_SNACKBAR_ID)}})}})},t})();return Promise.resolve(t)}}}));
//# sourceMappingURL=delete_plugin.min.js-vflmjdZSs.map