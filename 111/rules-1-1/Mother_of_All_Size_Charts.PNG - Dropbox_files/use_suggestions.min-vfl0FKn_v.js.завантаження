define(["require","exports","tslib","react","typescript/component_libraries/flows/src/components/contact-typeahead/index","modules/clean/contacts/data_v2","modules/clean/contacts/types","modules/clean/viewer"],(function(e,t,n,a,i,o,u,r){"use strict";function c(e,t,n,a,o){if(void 0===a&&(a=!1),void 0===o&&(o=!1),!n)return[];for(var r=new Set,c=0,s=t;c<s.length;c++){var d=s[c];r.add(i.getContactKey(d))}for(var l=[],f=0,_=n;f<_.length;f++){var p=_[f];if(p.email&&(p.type===u.default.DBX_ID||p.type===u.default.EMAIL)){if(o&&p.email===e.email)continue;if(a&&(!p.dbx_account_id||!p.dbx_team_id||p.dbx_team_id!==e.team_dbtid))continue;d={name:p.name,email:p.email,avatarUrl:p.photo_url,dbx_account_id:p.dbx_account_id};r.has(i.getContactKey(d))||l.push(d)}}return l}Object.defineProperty(t,"__esModule",{value:!0}),t.useSuggestions=void 0,u=n.__importDefault(u),t.useSuggestions=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=!1);var u=a.useState(""),s=u[0],d=u[1],l=a.useState([]),f=l[0],_=l[1],p=r.Viewer.get_viewer().get_user_by_id(e),v=new o.ContactsDataSourceV2(p);return a.useEffect((function(){var e=!1,a=[];if(s.length){return v.search(s,(function(e){var o=c(p,t,e,n,i);a.push.apply(a,o),_(a)}),(function(o){var u=c(p,t,o,n,i);!e&&u.length>0&&(a.push.apply(a,u),_(a))})),function(){e=!0}}_(a)}),[s,t]),{suggestions:f,onQueryChange:function(e){d(e)}}}}));
//# sourceMappingURL=use_suggestions.min.js-vflTr3eFw.map