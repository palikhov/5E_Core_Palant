define(["require","exports","tslib","react","react-redux","api_v2/redux/zoom","file-viewer/plugins/index","file-viewer/zoom/selectors","file-viewer/zoom/actions","file-viewer/zoom/plugin/components/ZoomPaneIds"],(function(e,t,n,i,o,r,a,s,l,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectedZoomCreateMeetingPane=t.ZoomCreateMeetingPane=void 0,i=n.__importStar(i);var c="createZoomMeetingContainer__3q6_jWLIle__zoom",g="zoomPaneContainer__1kZfYv8ckk__zoom",d=i.lazy((function(){return new Promise((function(t,n){e(["typescript/component_libraries/deep-integrations/src/zoom_extension/create_meeting_view"],t,n)})).then(n.__importStar).then((function(e){return{default:e.CreateMeetingView}}))}));t.ZoomCreateMeetingPane=function(e){var t=e.currentUser,o=e.dispatch,s=e.file,m=e.fileViewerId,f=e.intl,p=e.invitees,v=e.meetingCreationRequest,_=e.navigation,C=n.__rest(e,["currentUser","dispatch","file","fileViewerId","intl","invitees","meetingCreationRequest","navigation"]),I={id:s.fileId,name:s.name,icon:"icon"};i.useEffect((function(){if(v&&"fulfilled"===v.state){o(r.listZoomMeetingsForFileAction({arg:{file_id:I.id}})),o(l.resetMeetingCreationRequest({fileId:I.id})),o(l.viewMeetingDetail({fileViewerId:m,meetingId:v.value.meeting.uuid})),e.replacePane(u.ZoomMeetingDetailsPaneId);var t=v.value.meeting.start_url;t&&_.openUrl({url:t.client_url||t.http_url,fallbackUrl:t.http_url})}}));var M=p&&t?i.createElement(d,Object.assign({},C,{currentUserDisplayName:t.name.display_name,file:I,meetingCreationRequest:v,invitees:p,intl:f,updatePmiSetting:function(){_.openUrl({url:"https://www.zoom.com/profile/setting"}),_.closeSidebar("sidebar")},openConnectedAppSettings:function(){_.openUrl({url:"/account/connected_apps"}),_.closeSidebar("sidebar")}})):null;return i.createElement("div",{className:g},i.createElement(a.PaneTitle,{backButtonMessages:u.getZoomBackButtonMessages(f)}),i.createElement(i.Suspense,{fallback:e.intl.formatMessage({id:"sEukn4",defaultMessage:"Loading..."})},i.createElement("div",{className:c},M)))};var m=o.connect((function(e,t){return{invitees:s.getFileInviteesByFileId(e,t.file.fileId),currentUser:e.currentUser,meetingCreationRequest:s.getMeetingCreationRequestByFileId(e,t.file.fileId),isZoomConnected:s.isZoomConnected(e),addingInviteeSuggestions:e.addingInviteeSuggestions,zoomSettings:e.zoomSettings,updatePmiSettingRequest:e.updatePmiSettingRequest}}),(function(e,t){return{createMeeting:function(t){return e(r.createInstantZoomMeetingAction({arg:t}))},connectZoom:function(){return e(l.authService({serviceId:"zoom"}))},openHelpCenterArticle:function(e){return t.navigation.openUrl({url:"https://help.dropbox.com/"+e})},queryAddingInviteeSuggestions:function(t){return e(l.queryAddingInviteeSuggestions({query:t}))},logEvent:function(t){e(l.logZoomEvent({event:t}))}}}))(t.ZoomCreateMeetingPane);t.ConnectedZoomCreateMeetingPane=m}));
//# sourceMappingURL=ZoomCreateMeetingPane.min.js-vflz9KKIr.map