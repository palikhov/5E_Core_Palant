define(["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment_editor/draft_utils"],(function(e,t,n,r,a){"use strict";function i(e,t){void 0===t&&(t=100);var r=e.content.text;if(r.length<=t)return e;for(var i=r.split("\n").map(a.decodeUnicode),o=[],s=0,c=0;c<i.length&&s<t;c++){var d=i[c],m=t-s;m<d.length?(o=n.__spreadArrays(o,[d.slice(0,m)]),s=t):(o=n.__spreadArrays(o,[d]),s+=d.length)}var u=o.map(a.encodeUnicode).join("\n"),_=e.content.metadata;return n.__assign(n.__assign({},e),{content:{metadata:_.reduce((function(e,r){if("sticker"===r.type||"guest"===r.type||"reel"===r.type||"approval"===r.type)return n.__spreadArrays(e,[r]);var a=r.location;return a.start<t?n.__spreadArrays(e,[n.__assign(n.__assign({},r),{location:n.__assign(n.__assign({},a),{end:Math.min(a.end,t)})})]):e}),[]),text:u+"â€¦"}})}Object.defineProperty(t,"__esModule",{value:!0}),t.truncateComment=t.TruncatedComment=void 0,r=n.__importDefault(r),t.TruncatedComment=function(e){var t=e.comment,n=e.limit;return(0,e.children)(r.default.useMemo((function(){return i(t,n)}),[t,n]))},t.TruncatedComment.displayName="TruncatedComment",t.truncateComment=i}));
//# sourceMappingURL=comment_utils.min.js-vfl9b5Y2b.map