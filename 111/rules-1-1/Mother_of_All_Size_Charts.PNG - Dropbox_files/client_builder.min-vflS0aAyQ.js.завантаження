define(["require","exports","tslib","modules/clean/react/comments2/data/actions","modules/clean/react/comments2/data/mentions_api","modules/clean/react/flows/approval/approval_io_client"],(function(n,e,t,i,o,r){"use strict";function u(n){return{channelId:{appId:n.app_id,uniqueId:n.unique_id},revisionInfo:{revision:parseInt(n.revision,10),token:n.token}}}function a(n){var e=n.channelId,t=n.revisionInfo;return{app_id:e.appId,unique_id:e.uniqueId,revision:t.revision.toString(),token:t.token}}Object.defineProperty(e,"__esModule",{value:!0}),e.makeComments2Client=e.boltChannelClientToServer=e.boltChannelServerToClient=void 0,e.boltChannelServerToClient=u,e.boltChannelClientToServer=a,e.makeComments2Client=function(n){var e,s,l=n?o.mentionsApi(n):void 0;return{boltIOClient:(e=i.bolt,s=function(n){},{subscribe:function(n){return n.forEach((function(n){e.subscribe(a(n),s,s)})),Promise.resolve()},unsubscribe:function(){return Promise.resolve(e.unsubscribe())},onSignal:function(n){s=function(e){var t=e.map((function(n){return u(n)}));n({updatedChannels:t})}}}),mentionsIOClient:l?(function(n){return{search:function(e){return t.__awaiter(this,void 0,void 0,(function(){return t.__generator(this,(function(t){return 0===e.length?[2,n.getMatchesWithStarterSuggestions()]:[2,(function(e){return new Promise((function(t){n.query(e,(function(n){t(n)}))}))})(e)]}))}))}}})(l):void 0,approvalIOClient:n?r.approvalIOClient(n.id):void 0}}}));
//# sourceMappingURL=client_builder.min.js-vflD7_l3K.map