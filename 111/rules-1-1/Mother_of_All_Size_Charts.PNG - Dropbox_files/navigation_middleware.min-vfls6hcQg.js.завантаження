define(["require","exports","typescript/component_libraries/files_components/src/blades/comments/data/actions","typescript/component_libraries/files_components/src/blades/comments/data/types"],(function(e,t,n,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMiddleware=void 0,t.createMiddleware=function(e){return function(t){var a=t.getState,o=t.dispatch;return function(t){return function(r){var s;switch(t(r),r.type){case"@@comments/resolveNavigationToActiveThreadAnnotation":return;case"@@comments/activateInitialThread":case"@@comments/activateThread":case"@@apiv2_redux/comments2/list_comments_result":for(var c=a(),d=0,l=Object.getOwnPropertyNames(c.pendingNavigationToActiveThreadAnnotation);d<l.length;d++){var v=l[d];if(v===e.fileViewerId){var m=e.getPluginData(),u=m.file,p=m.navigation,f=m.sharedLinkInfo;if(null!=u){var g=i.createCommentFileIdentifier(u.fileId,null==f?void 0:f.url),h=c.activeThreadID[v],T=null===(s=c.threads[g])||void 0===s?void 0:s[h];if(T&&T.annotation){var y=T.annotation;"document"===y.type&&"navigateToPage"in p&&p.navigateToPage((y.regions[0].page||1)-1,"sidebar"),("audio"===y.type||"video"===y.type)&&"seek"in p&&p.seek(y.time),o(n.resolveNavigationToActiveThreadAnnotation(v))}}}return}}}}}}}));
//# sourceMappingURL=navigation_middleware.min.js-vflianBqt.map