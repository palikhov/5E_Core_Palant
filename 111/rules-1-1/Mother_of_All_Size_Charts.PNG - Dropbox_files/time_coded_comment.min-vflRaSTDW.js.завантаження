define(["require","exports","tslib","react","typescript/libraries/comments2/src/components/comment/annotation_label","typescript/libraries/comments2/src/components/comment/comment","typescript/libraries/comments2/src/components/annotation_utils","typescript/libraries/comments2/src/components/types/index","typescript/libraries/comments2/src/components/types/utils"],(function(t,e,o,n,r,a,i,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TimeCodedComment=e.calculateTimeCode=void 0,n=o.__importStar(n);function s(t){return(t<10?"0":"")+t}function l(t,e,o,n){var r;return r=t>0?t+":"+s(e)+":"+s(o):e+":"+s(o),void 0!==n&&(r=r+":"+s(n)),r}function f(t,e,o,n){var r=0;if(r=e||t/100,n&&o&&Math.round(100*o)%2997==0)return(function(t,e){var o,n,r,a=Math.round(100*e),i=Math.floor(t*a/100),c=2*a/2997,m=Math.floor(i/(36*a)),s=i%(36*a),f=Math.floor(s/(6*a)),u=s%(6*a);if(0===u||1===u)o=0,n=0,r=u;else{var d=60*Math.ceil(e)-c;o=Math.floor((u-c)/d);var h=(u-c)%1798+c;n=Math.floor(h/Math.ceil(e)),r=h%Math.ceil(e)}return l(m,o=10*f+o,n,r)})(r,o);if(n&&o&&o!==Math.round(o)){var a=Math.floor(r*o),i=Math.round(o);return l(c=Math.floor(a/(3600*i)),m=Math.floor(a/(60*i))%60,s=Math.floor(a/i)%60,f=Math.floor(a%i))}var c=Math.floor(r/3600),m=Math.floor(r/60)%60,s=Math.floor(r)%60,f=void 0;if(n&&o){var u=r-Math.floor(r),d=1/o;f=Math.floor(u/d)}return l(c,m,s,f)}e.calculateTimeCode=f,e.TimeCodedComment=function(t){var e,o=t.active,s=t.annotation,l=t.framePreciseCommentsEnabled,u=t.frameRate,d=t.playerIntegrationEnabled,h=void 0===d||d,M=n.useContext(c.CommentStreamContext).useV2Design;if(s&&m.isTimecodeAnnotation(s)){var p=s.time;if(0!==p){var v=void 0;i.isVideoAnnotation(s)&&(v=s.timeSec),e=n.createElement(r.AnnotationLabel,{disabled:!h,label:f(p,v,u,l),onClick:function(e){return t.actions.onClickAnnotation({annotationInfo:{type:"time",time:p},threadID:t.comment.threadId,e:e,active:o})},useV2Design:M})}}return n.createElement(a.Comment,Object.assign({},t),e)}}));
//# sourceMappingURL=time_coded_comment.min.js-vfl1Twu1G.map