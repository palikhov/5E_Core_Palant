define(["require","exports","file-viewer/preview_audio_video/helper/image_helpers"],(function(e,t,r){"use strict";function n(e){var t={},r=e.text.split(/#xywh=/i);if(t.imageUrl=r[0],2===r.length){var n=r[1].split(/[ ,]+/);4===n.length&&(t.imageX=+n[0],t.imageY=+n[1],t.imageWidth=+n[2],t.imageHeight=+n[3])}return t}function i(e){return new Promise((function(t,r){var n=[],i=new WebVTT.Parser(window,WebVTT.StringDecoder());i.oncue=function(e){n.push(e)},i.onparsingerror=function(e){r(e)},i.onflush=function(){t(n)},i.parse(e),i.flush()}))}Object.defineProperty(t,"__esModule",{value:!0}),t.loadVtt=t.preloadThumbImage=t.parseVttCue=void 0,t.parseVttCue=n,t.preloadThumbImage=function(e){var t=n(e);return t.imageUrl?r.preloadImage(t.imageUrl):Promise.reject("Unable to get imageUrl from vtt cue")},t.loadVtt=function(e){return(t=e,new Promise((function(e,r){var n=new XMLHttpRequest;n.withCredentials=!0,n.open("GET",t),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&(200===n.status?e(n.responseText):r(new Error("Failed to retrieve vtt file")))},n.send()}))).then(i);var t}}));
//# sourceMappingURL=thumbnails_helper.min.js-vflGuj1iD.map