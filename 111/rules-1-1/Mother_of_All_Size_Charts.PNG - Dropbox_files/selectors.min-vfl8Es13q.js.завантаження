define(["require","exports","typescript/component_libraries/deep-integrations/src/async","file-viewer/core/data/selectors"],(function(e,t,i,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZoomConnected=t.isZoomEnabled=t.getCurrentlyViewedMeeting=t.getMeeting=t.getMeetingInBuffer=t.getMeetingsByFileId=t.getMeetings=t.getMeetingCreationRequest=t.getMeetingCreationRequestByFileId=t.getFileInvitees=t.getFileInviteesByFileId=t.getFileInfo=t.getFileId=void 0,t.getFileId=function(e,t){var i=n.getCurrentFile(e,t);if(!i)throw Error("failed to get current file info for fileViewerId "+t);return i.file_id},t.getFileInfo=function(e,i){var n=t.getFileId(e,i),r=e.fileMetadata[n];if(!r)throw Error("failed to get file metadata for fileId "+n);return{id:r.file_id,name:r.file_name,icon:"icon"}},t.getFileInviteesByFileId=function(e,t){var n=e.fileMembersForZoom[t];if(n){var r=function(t){var i=t.user.account_id,n=e.users[i];if(n&&(!e.currentUser||n.account_id!==e.currentUser.account_id))return{userInfo:n,active:!0}};return i.applyAndFlatten(n,(function(e){return e.users.map(r).filter(Boolean)}))}},t.getFileInvitees=function(e,i){var n=t.getFileId(e,i);return t.getFileInviteesByFileId(e,n)},t.getMeetingCreationRequestByFileId=function(e,t){return e.instantZoomMeetingCreationRequests[t]},t.getMeetingCreationRequest=function(e,i){var n=t.getFileId(e,i);return t.getMeetingCreationRequestByFileId(e,n)},t.getMeetings=function(e,i){var n=t.getFileId(e,i);return e.instantZoomMeetings[n]},t.getMeetingsByFileId=function(e,t){return e.instantZoomMeetings[t]};var r=function(e,t){return e.instantZoomMeetingsBuffer[t]};t.getMeetingInBuffer=function(e,i){var n=t.getFileId(e,i);return r(e,n)},t.getMeeting=function(e,i){var n=e.viewingInstantZoomMeetingId[i];if(n){var r=t.getMeetings(e,i);if(r&&"fulfilled"===r.state)for(var o=0,u=r.value;o<u.length;o++){var f=u[o];if(f.meeting.uuid===n)return f}return t.getMeetingInBuffer(e,i)}},t.getCurrentlyViewedMeeting=function(e,i,n){var o=e.viewingInstantZoomMeetingId[i];if(o){var u=t.getMeetingsByFileId(e,n);if(u&&"fulfilled"===u.state)for(var f=0,a=u.value;f<a.length;f++){var l=a[f];if(l.meeting.uuid===o)return l}return r(e,n)}},t.isZoomEnabled=function(e){return!(!e.serviceInfo||"fulfilled"!==e.serviceInfo.state)&&"enabled"===e.serviceInfo.value.service_availability[".tag"]},t.isZoomConnected=function(e){return!(!e.serviceInfo||"fulfilled"!==e.serviceInfo.state)&&"is_connected"===e.serviceInfo.value.connection_state[".tag"]}}));
//# sourceMappingURL=selectors.min.js-vflTX2fiv.map