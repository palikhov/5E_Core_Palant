define("modules/clean/react/app_actions/app_actions_menu",["require","exports","tslib","modules/clean/react/async/loadable","modules/clean/web_timing_logger"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnconnectedExtensionsMenu=t.ExtensionsMenu=void 0,t.ExtensionsMenu=n.Loadable({loader:function(){return r.__awaiter(void 0,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return[4,s.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,r){e(["modules/clean/react/extensions/extensions_menu_component_wrapper"],t,r)})).then(r.__importStar)];case 2:return[2,t.sent().ExtensionsMenu]}}))}))}}),t.UnconnectedExtensionsMenu=n.Loadable({loader:function(){return new Promise((function(t,r){e(["modules/clean/react/app_actions/unconnected_menu_wrapper"],t,r)})).then(r.__importStar).then((function(e){return e.UnconnectedMenu}))}})})),define("file-viewer/libraries/frame_messenger/index",["require","exports","file-viewer/libraries/frame_messenger/frame_messenger_client","file-viewer/libraries/frame_messenger/frame_messenger_host","file-viewer/libraries/frame_messenger/frame_messenger_logger"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFrameMessage=t.FrameMessengerHost=t.FrameMessengerClient=void 0,Object.defineProperty(t,"FrameMessengerClient",{enumerable:!0,get:function(){return r.FrameMessengerClient}}),Object.defineProperty(t,"FrameMessengerHost",{enumerable:!0,get:function(){return n.FrameMessengerHost}}),Object.defineProperty(t,"logFrameMessage",{enumerable:!0,get:function(){return s.logFrameMessage}})})),define("file-viewer/libraries/frame_messenger/frame_messenger_base",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameMessengerBase=void 0;var r=(function(){function e(e,t,r){var n=this;void 0===t&&(t=function(e){return JSON.parse(e.data)}),void 0===r&&(r=function(e){return JSON.stringify(e)}),this._window=window,this.handleUntrustedMessage=function(e){if(n.isOriginAllowed(e.origin)){var t;try{t=n.receiveMessageConverter(e)}catch(e){return}null!=t.action&&n.handleTrustedMessage(e,t)}},this.allowedOrigins=e,this.receiveMessageConverter=t,this.sendMessageConverter=r}return e.prototype.getWindow=function(){return this._window},e.prototype.setWindow=function(e){this._window=e},e.prototype.startListening=function(){this.getWindow().addEventListener("message",this.handleUntrustedMessage)},e.prototype.stopListening=function(){this.getWindow().removeEventListener("message",this.handleUntrustedMessage)},e.prototype.regexIn=function(e,t){for(var r=0,n=t;r<n.length;r++){var s=n[r];if(s instanceof RegExp&&e.match(s))return!0;if("string"==typeof s&&s===e)return!0}return!1},e.stripStandardPort=function(e){return"http://"===e.substr(0,7)?e.replace(/:80$/,""):"https://"===e.substr(0,8)?e.replace(/:443$/,""):e},e.prototype.isOriginAllowed=function(t){return this.regexIn(e.stripStandardPort(t),this.allowedOrigins)},e.prototype.packagePostMessage=function(e,t){var r={action:e,parameters:t};return this.sendMessageConverter(r)},e})();t.FrameMessengerBase=r})),define("file-viewer/libraries/frame_messenger/frame_messenger_client",["require","exports","tslib","file-viewer/libraries/frame_messenger/frame_messenger_base","file-viewer/libraries/frame_messenger/frame_messenger_logger"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameMessengerClient=void 0;var i=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.trustedOriginForPosting=null,t.validActions=[],t.trustedMessageHandler=null,t.parentMessageQueue=[],t.onParentReady=null,t}return r.__extends(t,e),t.prototype.configureParentMessaging=function(e,t,r){void 0===r&&(r=null),this.resetOriginsForPosting(),this.validActions=t,this.trustedMessageHandler=e,this.onParentReady=r},t.prototype.startListening=function(){e.prototype.startListening.call(this),this.requestParentOrigin()},t.prototype.postMessageToParent=function(e,t){void 0===t&&(t={});var r=this.packagePostMessage(e,t);null===this.trustedOriginForPosting?this.parentMessageQueue.push(r):this.getWindow().parent.postMessage(r,this.trustedOriginForPosting)},t.prototype.handleTrustedMessage=function(e,t){s.logFrameMessage&&s.logFrameMessage("frame_messenger_client",{event:e,message:t}),"parent-ready"===t.action&&this.updateParentOrigin(e.origin),-1!==this.validActions.indexOf(t.action)&&null!==this.trustedMessageHandler&&this.trustedMessageHandler(t)},t.prototype.resetOriginsForPosting=function(){this.trustedOriginForPosting=null},t.prototype.updateParentOrigin=function(e){var t=this,r=this.trustedOriginForPosting;return!!this.isOriginAllowed(e)&&(this.trustedOriginForPosting=e,this.parentMessageQueue.length>0&&(this.parentMessageQueue.forEach((function(e){var r=JSON.parse(e);t.postMessageToParent(r.action,r.parameters)})),this.parentMessageQueue=[]),null!=this.trustedOriginForPosting&&null==r&&null!=this.onParentReady&&this.onParentReady(),!0)},t.prototype.requestParentOrigin=function(){var e=this;this.getWindow().parent.postMessage('{"action": "child-requesting-parent-origin"}',"*");this.getWindow().setTimeout((function(){null==e.trustedOriginForPosting&&e.requestParentOrigin()}),t._REQUEST_PARENT_ORIGIN_POLL_DELAY)},t})(n.FrameMessengerBase);t.FrameMessengerClient=i,i._REQUEST_PARENT_ORIGIN_POLL_DELAY=100})),define("file-viewer/libraries/frame_messenger/frame_messenger_host",["require","exports","tslib","file-viewer/libraries/frame_messenger/frame_messenger_base","file-viewer/libraries/frame_messenger/frame_messenger_logger"],(function(e,t,r,n,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FrameMessengerHost=void 0;var i=(function(e){function t(){var t=e.apply(this,arguments)||this;return t.trustedChildOriginForPosting=null,t.validActionsFromChild=[],t.trustedMessageFromChildHandler=null,t.getChildIframes=function(){return[]},t}return r.__extends(t,e),t.prototype.configureChildMessaging=function(e,t,r){if("string"==typeof e){var n=e;this.getChildIframes=function(){return[].slice.call(document.querySelectorAll(n),0)}}else this.getChildIframes=e;this.trustedChildOriginForPosting=null,this.validActionsFromChild=r,this.trustedMessageFromChildHandler=t},t.prototype.startListening=function(){e.prototype.startListening.call(this),this.postMessageToChildren("parent-ready")},t.prototype.getTrustedChildOriginForPosting=function(){if(null!=this.trustedChildOriginForPosting)return this.trustedChildOriginForPosting;for(var e=0,t=this.getChildIframes();e<t.length;e++){var r=""+t[e].getAttribute("src"),n=this.getOriginFromUrl(r);if(this.isOriginAllowed(n))return this.updateChildOrigin(n),this.trustedChildOriginForPosting}return this.trustedChildOriginForPosting},t.prototype.childIsValidated=function(){return null!=this.trustedChildOriginForPosting},t.prototype.isNumber=function(e){return!isNaN(parseInt(e,10))},t.prototype.getOriginFromUrl=function(e){var t=document.createElement("a");t.href=e;var r=t.origin;if(r)return"null"===r?"*":r;var n=this.isNumber(t.port)?":"+t.port:"";return t.protocol+"//"+t.hostname+n},t.prototype.postMessageToChildren=function(e,t){void 0===t&&(t={});var r=this.getChildIframes();this.postMessageToChildElements(r,e,t)},t.prototype.resetOriginsForPosting=function(){this.trustedChildOriginForPosting=null},t.prototype.updateChildOrigin=function(e){"null"===e&&(e="*"),this.trustedChildOriginForPosting=e},t.prototype.handleTrustedMessage=function(e,t){s.logFrameMessage&&s.logFrameMessage("frame_messenger_host",{event:e,message:t}),this.updateChildOrigin(e.origin),"child-requesting-parent-origin"===t.action&&this.postMessageToChildren("parent-ready"),-1!==this.validActionsFromChild.indexOf(t.action)&&null!=this.trustedMessageFromChildHandler&&this.trustedMessageFromChildHandler(t)},t.prototype.postMessageToChildElements=function(e,t,r){void 0===r&&(r={});var n=this.getTrustedChildOriginForPosting();if(null!=n){var s=this.packagePostMessage(t,r);e.forEach((function(e){e.contentWindow&&e.contentWindow.postMessage(s,n)}))}},t})(n.FrameMessengerBase);t.FrameMessengerHost=i})),define("file-viewer/libraries/frame_messenger/frame_messenger_logger",["require","exports","lodash"],(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logFrameMessage=void 0;var n=[];r.debounce((function(){console.groupCollapsed("Frame Messenger Events"),console.table(n),console.groupEnd()}),1e3);t.logFrameMessage=function(e,t){t.eventName,t.message,t.event,t.data}}));
//# sourceMappingURL=pkg-frame_messenger.min.js-vfl0qrywX.map