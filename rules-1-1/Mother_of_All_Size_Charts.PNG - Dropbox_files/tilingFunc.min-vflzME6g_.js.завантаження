define(["require","exports","file-viewer/watermarking/plugin/utils/drawTextTile","file-viewer/watermarking/plugin/utils/drawImageTile","file-viewer/watermarking/plugin/utils/toRadAngle"],(function(t,e,a,i,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tilingFunc=void 0,e.tilingFunc=function(t){var e=t.scale,n=t.mode,l=t.imageWatermarkOptions,o=t.textWatermarkOptions,s=o;"image"===n&&(s=l);var c,g,h,d=s.angle,u=r.toRadAngle(d)%(Math.PI/2);if("text"===n){var w=o.text,f=o.size,m=o.fontFamily,v=o.color,p=o.opacity,x=a.drawTextTile({text:w,size:f*e,fontFamily:m,color:v,opacity:p,angle:d});c=x.canvas,g=x.actualUnrotatedHeight,h=x.actualUnrotatedWidth}else{var M=l.image;f=l.size,p=l.opacity;if(!M)throw new Error("NO_TILE_INPUT");var T=i.drawImageTile({image:M,scale:f*e,opacity:p,angle:d});c=T.canvas,g=T.actualUnrotatedHeight,h=T.actualUnrotatedWidth}var y=Math.max(g,h),k=y/2,I=y/2;"text"===n&&(k=2*g,I=o.lineHeight*g);var P=h+k,U=g+I,F=0,O=0,W=0;return d%180==0?(F=P,O=U,W=k/-1.2):d%180==90?(F=U,O=P):d>0&&d<90||d>180&&d<270?(F=U/Math.sin(u),O=P*Math.sin(u),W=-P*Math.cos(u)):(d>90&&d<180||d>270&&d<360)&&(F=U/Math.cos(u),O=P*Math.cos(u),W=P*Math.sin(u)),{canvas:c,width:c.width,height:c.height,distanceX:F,distanceY:O,startX:-c.width/2,startY:-c.height/2,offsetXPerRow:W,offsetYPerCol:0}}}));
//# sourceMappingURL=tilingFunc.min.js-vflgZE9HI.map