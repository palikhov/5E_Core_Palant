define(["require","exports","tslib","@reduxjs/toolkit","modules/clean/react/integrations/pdf_editor/redux/features/save_modal_actions/save_modal_actions_slice","modules/core/browser"],(function(e,t,i,n,o,c){"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.reducer=t.setFileId=t.setAPIV2ClientBase=t.documentActionsSlice=t.extractAndSaveCopy=t.saveAsReplaceWithExtractDocumentReply=t.extractAndReplace=t.downloadAndRenderFile=void 0,c=i.__importStar(c);var d={fileid:"",apiClient:void 0};function s(e,t,i,n){var o=String.fromCharCode.apply(null,new Uint8Array(n)),c={path:t,mode:e?{".tag":"overwrite"}:{".tag":"add"},autorename:!0};return i.ns("files").upload("upload",c,o,{})}t.downloadAndRenderFile=n.createAsyncThunk("documentActions/downloadAndRenderFile",(function(e,t){var i=t.getState();if(i.documentActions.fileid&&i.documentActions.apiClient){var n={path:""+i.documentActions.fileid};return i.documentActions.apiClient.ns("files").download("download",n,{},{dangerouslyFetchUserContent:!0}).then((function(e){var i={documentData:e};t.dispatch({type:"message_bus_action/load_document_action",payload:i})}))}return Promise.reject(new Error("Fileid or ApiClient is missing. fileid: "+i.documentActions.fileid+" apiClient: "+i.documentActions.apiClient))})),t.extractAndReplace=n.createAsyncThunk("documentActions/extractAndReplace",(function(e,t){t.dispatch({type:"message_bus_action/extract_document_action",payload:{}})})),t.saveAsReplaceWithExtractDocumentReply=n.createAsyncThunk("documentActions/saveAsReplaceWithExtractDocumentReply",(function(e,t){var i=t.getState();return i.documentActions.fileid&&i.documentActions.apiClient?s(!0,i.documentActions.fileid,i.documentActions.apiClient,e).then((function(e){t.dispatch(o.closeSaveOriginalModal()),c.reload()})):Promise.reject(new Error("Fileid or ApiClient is missing. fileid: "+i.documentActions.fileid+" apiClient: "+i.documentActions.apiClient))})),t.extractAndSaveCopy=n.createAsyncThunk("documentActions/extractAndSaveCopy",(function(e,t){var i=t.getState();t.dispatch({type:"message_bus_action/extract_document_action",payload:{}});var n={documentData:new ArrayBuffer(1)};return i.documentActions.fileid&&i.documentActions.apiClient?s(!1,e,i.documentActions.apiClient,n.documentData):Promise.reject(new Error("Fileid or ApiClient is missing. fileid: "+i.documentActions.fileid+" apiClient: "+i.documentActions.apiClient))})),t.documentActionsSlice=n.createSlice({name:"documentActions",initialState:d,reducers:{setFileId:function(e,t){e.fileid=t.payload},setAPIV2ClientBase:function(e,t){e.apiClient=t.payload}}}),t.setAPIV2ClientBase=(a=t.documentActionsSlice.actions).setAPIV2ClientBase,t.setFileId=a.setFileId,t.reducer=t.documentActionsSlice.reducer}));
//# sourceMappingURL=document_actions_slice.min.js-vflv69lvC.map