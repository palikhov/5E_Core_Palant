define(["require","exports","api_v2/redux/comments2","typescript/component_libraries/files_components/src/blades/comments/data/transform"],(function(e,r,a,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.middleware=void 0;function d(e){var r=e.event,t=e.stream,d=e.thread_id,o=e.comment_id,m=e.is_third_party,i=e.error;return a.logEventAction({arg:{event:i?{".tag":"comment_error"}:r,stream:t,thread_id:d,comment_id:o,is_third_party:m,oref:"dfv",product_surface:{".tag":"file_preview"},product_surface_context:{".tag":"file_preview"},error_message:i?i.message:void 0}})}r.middleware=function(e){var r=e.dispatch;return function(e){return function(a){var o=e(a);if("@@apiv2_redux/comments2/add_comment_result"===a.type)r(d({event:a.payload.arg.thread_id?{".tag":"reply_to_comment"}:{".tag":"new_comment"},stream:a.payload.arg.stream,thread_id:a.payload.arg.thread_id,error:a.error}));else if("@@apiv2_redux/comments2/mark_thread_read_result"===a.type)r(d({event:{".tag":"mark_thread_as_read"},stream:a.payload.arg.stream,thread_id:a.payload.arg.id,error:a.error}));else if("@@apiv2_redux/comments2/mark_thread_unread_result"===a.type)r(d({event:{".tag":"mark_thread_as_unread"},stream:a.payload.arg.stream,thread_id:a.payload.arg.id,error:a.error}));else if("@@apiv2_redux/comments2/resolve_thread_result"===a.type)r(d({event:{".tag":"resolve_thread"},stream:a.payload.arg.stream,thread_id:a.payload.arg.id,error:a.error}));else if("@@apiv2_redux/comments2/unresolve_thread_result"===a.type)r(d({event:{".tag":"unresolve_thread"},stream:a.payload.arg.stream,thread_id:a.payload.arg.id,error:a.error}));else if("@@apiv2_redux/comments2/delete_comment_result"===a.type)r(d({event:{".tag":"delete_comment"},stream:a.payload.arg.stream,thread_id:a.meta?a.meta.threadId:void 0,comment_id:a.payload.arg.id,error:a.error}));else if("@@apiv2_redux/comments2/edit_comment_result"===a.type)r(d({event:{".tag":"edit_comment"},stream:a.payload.arg.stream,thread_id:a.meta?a.meta.threadId:void 0,comment_id:a.payload.arg.id,error:a.error}));else if("@@comments/activateThread"===a.type){var m=a.payload,i=m.fileId,_=m.isThirdParty,s=m.threadId,n=t.createStreamFromFileId(i);r(d({event:{".tag":"activate_thread"},stream:n,thread_id:s,is_third_party:_}))}return o}}}}));
//# sourceMappingURL=logging_middleware.min.js-vflTTgT8L.map