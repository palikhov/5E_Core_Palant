define(["require","exports","tslib","react","react-redux","file-viewer/comments2/plugin/layer/conductor","file-viewer/comments2/plugin/layer/highlights","typescript/component_libraries/files_components/src/blades/comments/data/types"],(function(e,n,t,r,a,i,o,c){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationHighlights=n.ImageAnnotationLayer=n.DocAnnotationLayer=n.AnnotationLayer=n.fileViewerPageToComments2Page=void 0,r=t.__importStar(r);var l="layer__12-vN5QMU___layer";function d(e){return e+1}Object.defineProperty(n,"AnnotationHighlights",{enumerable:!0,get:function(){return o.AnnotationHighlights}}),n.fileViewerPageToComments2Page=d;var u=function(e){var n=e.children,a=t.__rest(e,["children"]);return r.createElement("div",{className:l},r.createElement(o.AnnotationHighlights,Object.assign({},a)),r.createElement(i.AnnnotationConductor,Object.assign({},a),n))};function s(e){return null!=e.annotation&&"image"==e.annotation.type}var f=a.connect((function(e,n){var t=n.file.fileId,r=n.context.fileViewerId,a=n.sharedLinkInfo,i=e.threads[c.createCommentFileIdentifier(t,null==a?void 0:a.url)]||{},o=Object.values(i).filter(s),l=e.draftAnnotation[r],d=null==l||"image"!==l.type?null:{type:"rnd",regions:[l.region]};return{threads:o,activeThreadId:e.activeThreadID[r],draftAnnotation:d,focusedThreadId:e.focusedThreadID[r],hoverThreadId:e.hoverThreadID[r],annotationState:e.annotationState}}))(u);function g(e){return null!=e.annotation&&"document"==e.annotation.type}function h(e,n){var t=d(n);return e.regions.some((function(e){return e.page===t}))}n.ImageAnnotationLayer=f;var m=a.connect((function(e,n){var t=n.file.fileId,r=n.context.fileViewerId,a=n.layer.pageIndex,i=n.sharedLinkInfo,o=e.threads[c.createCommentFileIdentifier(t,null==i?void 0:i.url)]||{},l=Object.values(o).filter(g).filter((function(e){return h(e.annotation,a)})),d=e.draftAnnotation[r],u=null!=d&&"document"===d.type&&h(d,a)?{type:"rectangle"===d.regionType?"rnd":"highlight",regions:d.regions}:null;return{threads:l,activeThreadId:e.activeThreadID[r],draftAnnotation:u,focusedThreadId:e.focusedThreadID[r],hoverThreadId:e.hoverThreadID[r],annotationState:e.annotationState}}))(u);n.DocAnnotationLayer=m;n.AnnotationLayer=function(e){if("image"===e.previewType)return r.createElement(f,Object.assign({},e,{isActive:!0}));if("ssr_doc"===e.previewType||"cloud_doc"===e.previewType){var n=e.ui,t=e.layer,a=n.currentPageIndex,i=t.pageIndex;return r.createElement(m,Object.assign({},e,{isActive:i===a}))}return r.createElement(r.Fragment,null,e.children)}}));
//# sourceMappingURL=index.min.js-vflFbajCN.map