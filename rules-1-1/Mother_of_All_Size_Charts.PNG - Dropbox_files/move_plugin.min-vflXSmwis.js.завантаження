define(["require","exports","tslib","react","modules/core/i18n","modules/clean/react/action_bar/file_actions/portable/utils","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/portable/move","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons"],(function(e,i,t,o,n,a,r,s,l,c,u,f){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeMoveActionLoader=i.MOVE_ACTION_PLUGIN_ID=void 0,o=t.__importDefault(o),i.MOVE_ACTION_PLUGIN_ID="MOVE_ACTION",i.makeMoveActionLoader=function(e,i,t,d){return function(){var _=(function(){function _(e){var i=this;this.lifecycle={previewWillInitialize:function(){i.actionDefinitions.alwaysInOverflow=[i.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}return _.prototype.actionToDisplay=function(){var i=e().file;if(!l.isLiveFile(i)||c.isSharedFile(i)||l.isInsideVaultFolder(i)||l.isPnmLinkNodeSelected(i)||l.isPnmSuppressMoveSelected(i))return[];var t=this.moveDefinition();return t?[t]:[]},_.prototype.moveDefinition=function(){var l=this,c=e().file;if("fq_path"in c)return a.makePluginActionDefinition({label:n.intl.formatMessage(r.MOVE_ACTION_STRING),icon:o.default.createElement(f.UIIcon,{src:u.MoveLine}),disabled:c.read_only?{disabled:!0,tooltipMessage:n.intl.formatMessage(r.ACTION_DISABLED_STRING)}:{disabled:!1},action:function(){var e={fq_path:c.fq_path,is_dir:c.is_dir};l.context.logUserAction({action:"move",context:"overflow_menu"}),s.portableMove({user:i,source:"preview",filesPath:[e],exceptions:d||{isOverFreeQuota:!1,hasExcludedNsIds:!1},currentFQPath:t,createNewFolderInMoveDialog:!0},{})}})},_})();return Promise.resolve(_)}}}));
//# sourceMappingURL=move_plugin.min.js-vflEOgREE.map