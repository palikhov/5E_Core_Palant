define("modules/clean/react/action_bar/action_bar_upload_menu",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/core/browser_detection","modules/core/i18n"],(function(e,t,n,o,i,r,a,c,s){"use strict";var l;function d(e){if(c.is_input_webkitdirectory_supported())return{menuItems:[{value:{type:a.ActionBarActionTypes.UPLOAD,menuItem:l.UPLOAD_FILES},description:(null==e?void 0:e.isInConsolidatedMenu)?s.intl.formatMessage({id:"qERWX+",defaultMessage:"Upload files"}):s.intl.formatMessage({id:"LNFEFg",defaultMessage:"Files"}),icon:o.default.createElement(i.UIIcon,{src:r.UploadFileLine})},{value:{type:a.ActionBarActionTypes.UPLOAD,menuItem:l.UPLOAD_FOLDER},description:(null==e?void 0:e.isInConsolidatedMenu)?s.intl.formatMessage({id:"ZYcSxL",defaultMessage:"Upload folder"}):s.intl.formatMessage({id:"kMDxiK",defaultMessage:"Folder"}),icon:o.default.createElement(i.UIIcon,{src:r.UploadFolderLine})}]}}Object.defineProperty(t,"__esModule",{value:!0}),t.getUploadMenu=t.getUploadMenuSection=t.UploadAction=void 0,o=n.__importDefault(o),c=n.__importStar(c),(function(e){e.UPLOAD_FILES="upload-files",e.UPLOAD_FOLDER="upload-folder"})(l=t.UploadAction||(t.UploadAction={})),t.getUploadMenuSection=d,t.getUploadMenu=function(e){var t=d(e);if(t)return{type:a.ActionBarMenuType.DROPDOWN,menuSections:[t]}}})),define("modules/clean/react/action_bar/action_bar_create_menu",["require","exports","tslib","classnames","react","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/cloud_docs/constants","modules/clean/react/new_file_menu/new_file_icon","modules/clean/react/new_file_menu/new_file_util","modules/clean/react/onboarding_survey/lib/oa_pulsar_campaigns","modules/core/i18n","modules/clean/react/flows/browse_actions/create_automated_folder_action"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_){"use strict";var A,p,S;Object.defineProperty(t,"__esModule",{value:!0}),t.getCreateMenu=t.getCreateSectionWithSubmenus=void 0,o=n.__importDefault(o),i=n.__importDefault(i),(function(e){e[e.FOLDER=0]="FOLDER",e[e.SHARED_FOLDER=1]="SHARED_FOLDER",e[e.TEAM_FOLDER=2]="TEAM_FOLDER",e[e.AUTOMATED_FOLDER=3]="AUTOMATED_FOLDER",e[e.PAPER=4]="PAPER",e[e.PAPER_TEMPLATE=5]="PAPER_TEMPLATE",e[e.PAPER_BINDER=6]="PAPER_BINDER",e[e.SIMPLE_POINTER=7]="SIMPLE_POINTER",e[e.MICROSOFT_WORD=8]="MICROSOFT_WORD",e[e.MICROSOFT_EXCEL=9]="MICROSOFT_EXCEL",e[e.MICROSOFT_POWERPOINT=10]="MICROSOFT_POWERPOINT",e[e.GOOGLE_DOC=11]="GOOGLE_DOC",e[e.GOOGLE_SHEET=12]="GOOGLE_SHEET",e[e.GOOGLE_SLIDE=13]="GOOGLE_SLIDE"})(S||(S={}));var T=((A={})[S.FOLDER]={description:u.intl.formatMessage({id:"0BBLF2",defaultMessage:"Create folder"})},A[S.SHARED_FOLDER]={description:u.intl.formatMessage({id:"XAZ1S7",defaultMessage:"Create shared folder"})},A[S.TEAM_FOLDER]={description:u.intl.formatMessage({id:"AW6z8T",defaultMessage:"Create team folder"})},A[S.AUTOMATED_FOLDER]={description:u.intl.formatMessage({id:"n4wpHJ",defaultMessage:"Create automated folder"})},A),f=((p={})[S.FOLDER]={menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:a.FolderCreationAction.FOLDER},description:u.intl.formatMessage({id:"RW4ijB",defaultMessage:"Folder"}),icon:r.FolderLine}},p[S.SHARED_FOLDER]={condition:function(e){return e.showSharedFolderCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:a.FolderCreationAction.SHARED_FOLDER},className:o.default(d.OA_PULSAR_CLASS,d.OAPulsarAction.SHARED_FOLDER),description:u.intl.formatMessage({id:"7nnCz9",defaultMessage:"Shared folder"}),icon:r.AddFolderLine}},p[S.TEAM_FOLDER]={condition:function(e){return e.showTeamFolderCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:a.FolderCreationAction.TEAM_FOLDER},description:u.intl.formatMessage({id:"mfWC8r",defaultMessage:"New team folder"}),icon:r.TeamLine}},p[S.AUTOMATED_FOLDER]={condition:function(e){return e.showAutomatedFolderCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:a.FolderCreationAction.AUTOMATED_FOLDER},description:u.intl.formatMessage(_.CREATE_AUTOMATED_FOLDER_STRING),icon:r.AutomationLine,menuItem:i.default.createElement(_.CreateAutomatedFolderAction,null)}},p[S.PAPER]={condition:function(e){return e.showPaperCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.PaperNewFileTypes.PAPER},description:l.NewPaperDocLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewPaperDocLabel,iconName:"dropbox_paper"})}},p[S.PAPER_TEMPLATE]={condition:function(e){return e.showPaperCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.PaperNewFileTypes.PAPER_TEMPLATE},description:l.NewPaperTemplateLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewPaperTemplateLabel,iconName:"dropbox_paper_template"})}},p[S.PAPER_BINDER]={condition:function(e){return e.showBinderCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.PaperNewFileTypes.PAPER_BINDER},description:l.NewPaperBinderDocLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewPaperBinderDocLabel,iconName:"dropbox_paper_binder"})}},p[S.SIMPLE_POINTER]={menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.PointerFileTypes.SIMPLE_POINTER},description:l.NewSimplePointerLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewSimplePointerLabel,iconName:"shortcut"})}},p[S.MICROSOFT_WORD]={menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.MicrosoftFileTypes.WORD},description:l.NewMicrosoftWordDocLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewMicrosoftWordDocLabel,iconName:"microsoft_docx"})}},p[S.MICROSOFT_EXCEL]={menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.MicrosoftFileTypes.EXCEL},description:l.NewMicrosoftExcelWorkbookLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewMicrosoftExcelWorkbookLabel,iconName:"microsoft_xlsx"})}},p[S.MICROSOFT_POWERPOINT]={menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.MicrosoftFileTypes.POWERPOINT},description:l.NewMicrosoftPowerPointPresentationLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewMicrosoftPowerPointPresentationLabel,iconName:"microsoft_pptx"})}},p[S.GOOGLE_DOC]={condition:function(e){return e.showGoogleCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.GoogleFileTypes.GOOGLE_DSS_DOC},description:l.NewGoogleDocsLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewGoogleDocsLabel,iconName:"google_gdoc"})}},p[S.GOOGLE_SHEET]={condition:function(e){return e.showGoogleCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.GoogleFileTypes.GOOGLE_DSS_SHEET},description:l.NewGoogleSheetsLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewGoogleSheetsLabel,iconName:"google_gsheet"})}},p[S.GOOGLE_SLIDE]={condition:function(e){return e.showGoogleCreate},menuItem:{value:{type:a.ActionBarActionTypes.CREATE,menuItem:c.GoogleFileTypes.GOOGLE_DSS_SLIDES},description:l.NewGoogleSlidesLabel,icon:i.default.createElement(s.NewFileIcon,{displayName:l.NewGoogleSlidesLabel,iconName:"google_gslides"})}},p),E=function(e,t){return e.map((function(e){var o,i=f[e],r=i.menuItem,a=t.showCreateFileSubmenu&&(null===(o=T[e])||void 0===o?void 0:o.description)||r.description;return n.__assign(n.__assign({},i),{menuItem:n.__assign(n.__assign({},r),{description:a})})})).filter((function(e){var n=e.condition;return!n||n(t)})).map((function(e){return e.menuItem}))};t.getCreateSectionWithSubmenus=function(e){var t=e.showCreateFileSubmenu,n=e.showOnlyFolderCreation,o=(function(e){return{menuItems:E([S.FOLDER,S.SHARED_FOLDER,S.TEAM_FOLDER,S.AUTOMATED_FOLDER],e)}})(e).menuItems;if(!n){if(t){var i=[];e.showPaperCreate&&i.push({menuItems:E([S.PAPER],e)}),e.showGoogleCreate&&i.push({menuItems:E([S.GOOGLE_DOC,S.GOOGLE_SLIDE,S.GOOGLE_SHEET],e)}),i.push({menuItems:E([S.MICROSOFT_WORD,S.MICROSOFT_POWERPOINT,S.MICROSOFT_EXCEL],e)}),o.unshift({description:u.intl.formatMessage({id:"gyCTcZ",defaultMessage:"Create file"}),icon:r.FileLine,submenuSections:i})}else o.push({description:u.intl.formatMessage({id:"oKv5aq",defaultMessage:"Document"}),submenuSections:[{menuItems:E([S.PAPER,S.MICROSOFT_WORD,S.GOOGLE_DOC],e)}]},{description:u.intl.formatMessage({id:"/JpyiR",defaultMessage:"Presentation"}),submenuSections:[{menuItems:E([S.MICROSOFT_POWERPOINT,S.GOOGLE_SLIDE],e)}]},{description:u.intl.formatMessage({id:"9xjlyh",defaultMessage:"Spreadsheet"}),submenuSections:[{menuItems:E([S.MICROSOFT_EXCEL,S.GOOGLE_SHEET],e)}]});o.push({description:u.intl.formatMessage({id:"rSeA97",defaultMessage:"More"}),submenuSections:[{menuItems:E([S.PAPER_TEMPLATE,S.PAPER_BINDER,S.SIMPLE_POINTER],e)}]})}return{label:void 0,menuItems:o}},t.getCreateMenu=function(e){var n=[t.getCreateSectionWithSubmenus(e)];return{type:a.ActionBarMenuType.DROPDOWN,menuSections:n}}})),define("modules/clean/react/action_bar/file_actions/archive_action",["require","exports","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/action_bar/action_bar_strings"],(function(e,t,n,o,i,r,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createArchiveActionSelector=t.archiveActionHandler=void 0,t.archiveActionHandler=function(e,t){a.handleArchive(r.getActionHandlerArgs(e,t))};var s={actionType:i.ActionBarActionTypes.ARCHIVE,isEnabled:!0,text:c.ARCHIVE_ACTION_STRING,icon:o.ArchiveLine},l=function(e,t){return r.hasContentManagerAndSuperAdmin(e,t)&&r.isSingleSelectionFolder(e,t)&&r.isLiveFilesOnly(e,t)&&r.isTeamSharedFolderSelected(e,t)};t.createArchiveActionSelector=function(){return n.createSelector(l,(function(e){return e?s:void 0}))}})),define("modules/clean/react/action_bar/file_actions/comment_action",["require","exports","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/action_bar/action_bar_strings"],(function(e,t,n,o,i,r,a,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCommentActionSelector=t.commentActionHandler=void 0,t.commentActionHandler=function(e,t){a.handleComment(r.getActionHandlerArgs(e,t))};var s=function(e,t){return r.isSingleSelectionFile(e,t)&&r.isLiveFilesOnly(e,t)&&!r.isCloudDocSelected(e,t)&&!r.isPnmLinkNodeSelected(e,t)};t.createCommentActionSelector=function(){return n.createSelector(s,(function(e){return e?{actionType:i.ActionBarActionTypes.COMMENT,isEnabled:!0,text:c.COMMENT_ACTION_STRING,icon:o.CommentLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/copy_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/action_bar/file_actions/copy","modules/clean/react/browse/models"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCopyActionSelector=t.copyActionHandler=void 0,t.copyActionHandler=function(e,t){var o,i,r=c.context(e,t),a=c.overQuotaData(e,t),l=a.isOverFreeQuota,d=a.hasExcludedNsIds;s.handleCopy(n.__assign(n.__assign({},c.getActionHandlerArgs(e,t)),{synchronousSingleFileActions:Boolean(null===(i=null===(o=t.browsePostTTIExperiments)||void 0===o?void 0:o.call(t,e))||void 0===i?void 0:i.expSynchronousSingleFileActions)}),r,{isOverFreeQuota:l,hasExcludedNsIds:d})};var d=function(e,t){return c.isLiveFilesOnly(e,t)&&!c.isFileSharedWithMeSelected(e,t)&&!c.isTeamSharedFolderSelected(e,t)&&!c.isTeamMemberFolderSelected(e,t)&&!c.isPnmLinkNodeSelected(e,t)&&!c.isFamilySharedFolderSelected(e,t)&&!c.isVaultFolderSelected(e,t)};t.createCopyActionSelector=function(){return o.createSelector(c.selectedFiles,d,(function(e,t){return t?{actionType:r.ActionBarActionTypes.COPY,isEnabled:e.some((function(e){return!l.File.isNoAccessSharedFolder(e)})),text:a.COPY_ACTION_STRING,icon:i.CopyLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/delete_action",["require","exports","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/pnm/constants","modules/clean/pnm/utils","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRemoveActionSelector=t.createDeleteActionSelector=t.deleteActionHandler=void 0,t.deleteActionHandler=function(e,t){var n=s.context(e,t);l.handleDelete(s.getActionHandlerArgs(e,t),n)};var d=function(e,t){var n=t.selectedFilesSelector(e);return 1===n.count()&&a.getLinkNodeAction(n.first().per_node_metadata)===r.PASSWORDS_POST_SETUP_ACTION},u=function(e,t){return!d(e,t)&&s.isLiveFilesOnly(e,t)&&!s.isFileSharedWithMeSelected(e,t)&&!s.isTeamSharedFolderSelected(e,t)&&!s.isTeamMemberFolderSelected(e,t)&&!s.isPnmSuppressDeleteSelected(e,t)&&!s.isVaultFolderSelected(e,t)};t.createDeleteActionSelector=function(){return n.createSelector(s.context,s.selectedFiles,u,(function(e,t,n){return n?{actionType:i.ActionBarActionTypes.DELETE,isEnabled:e.isCurrentPathWriteable()&&!t.some((function(e){return e.read_only})),text:c.DELETE_ACTION_STRING,icon:o.DeleteLine}:void 0}))},t.createRemoveActionSelector=function(){return n.createSelector(s.context,s.selectedFiles,d,(function(e,t,n){return n?{actionType:i.ActionBarActionTypes.REMOVE,isEnabled:e.isCurrentPathWriteable()&&!t.some((function(e){return e.read_only})),text:c.REMOVE_ACTIION_STRING,icon:o.DeleteLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/download_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/browse/models"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDownloadActionSelector=t.downloadActionHandler=void 0,s=n.__importStar(s),t.downloadActionHandler=function(e,t){var n=c.context(e,t);s.handleDownload(c.getActionHandlerArgs(e,t),n)};var d=function(e,t){return c.isLiveFilesOnly(e,t)&&!c.isPnmLinkNodeSelected(e,t)&&(c.isSingleSelection(e,t)?!c.isCloudDocSelected(e,t):!c.isFileSharedWithMeSelected(e,t)&&!c.isCloudDocFileSharedWithMeSelected(e,t))};t.createDownloadActionSelector=function(){return o.createSelector(c.selectedFiles,d,(function(e,t){return t?{actionType:r.ActionBarActionTypes.DOWNLOAD,isEnabled:e.some((function(e){return!l.File.isNoAccessSharedFolder(e)})),text:a.DOWNLOAD_ACTION_STRING,icon:i.DownloadLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/events_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/filetypes","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/browse/models"],(function(e,t,n,o,i,r,a,c,s,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createEventsActionSelector=t.eventsActionHandler=void 0,l=n.__importStar(l),t.eventsActionHandler=function(e,t){l.handleEvents(s.getActionHandlerArgs(e,t))};var u=function(e,t){var n=s.selectedFiles(e,t).first();return s.isSingleSelection(e,t)&&s.isLiveFilesOnly(e,t)&&(n.type===a.FileTypes.SHARED_FOLDER||n.type===a.FileTypes.TEAM_SHARED_FOLDER)};t.createEventsActionSelector=function(){return o.createSelector(s.context,s.selectedFiles,u,(function(e,t,n){return n?{actionType:r.ActionBarActionTypes.EVENTS,isEnabled:t.every((function(t){return d.File.canViewFileMembers(t,e)})),text:c.EVENTS_ACTION_STRING,icon:i.ActivityLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/file_actions",["require","exports","tslib","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/memoize","modules/clean/react/action_bar/file_actions/archive_action","modules/clean/react/action_bar/file_actions/automated_folder_action","modules/clean/react/action_bar/file_actions/comment_action","modules/clean/react/action_bar/file_actions/convert_to_pdf_action","modules/clean/react/action_bar/file_actions/copy_action","modules/clean/react/action_bar/file_actions/delete_action","modules/clean/react/action_bar/file_actions/download_action","modules/clean/react/action_bar/file_actions/events_action","modules/clean/react/action_bar/file_actions/file_conversion_action","modules/clean/react/action_bar/file_actions/go_to_folder_action","modules/clean/react/action_bar/file_actions/manage_as_admin_action","modules/clean/react/action_bar/file_actions/move_action","modules/clean/react/action_bar/file_actions/open_action","modules/clean/react/action_bar/file_actions/convert_to_archive_action","modules/clean/react/action_bar/file_actions/open_desktop_action","modules/clean/react/action_bar/file_actions/permanent_delete_action","modules/clean/react/action_bar/file_actions/rename_action","modules/clean/react/action_bar/file_actions/request_files_action","modules/clean/react/action_bar/file_actions/restore_action","modules/clean/react/action_bar/file_actions/share_action","modules/clean/react/action_bar/file_actions/share_copy_link_action","modules/clean/react/action_bar/file_actions/share_modal_action","modules/clean/react/action_bar/file_actions/star_action","modules/clean/react/action_bar/file_actions/unstar_action","modules/clean/react/action_bar/file_actions/version_history_action","modules/clean/react/action_bar/file_actions/send_for_signature_action","modules/clean/react/action_bar/file_actions/activity_action","modules/clean/react/browse/browse_actions/browse_spaces_dropdown_action","modules/clean/shallow_equal","modules/clean/web_user_action_events","modules/clean/react/action_bar/file_actions/request_approval_action"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A,p,S,T,f,E,m,O,I,N,R,y,g,M,v,F,C,b,h,L,D,w,B){"use strict";var P,G,H;Object.defineProperty(t,"__esModule",{value:!0}),t.createActionBarActionSelector=t.actionMenuToggleHandler=t.actionHandler=t.ActionMenuToggleHandlersMap=t.FileActionsHandlersMap=t.getTabletSidebarFileActionSelectors=t.getSidebarFileActionSelectors=t.getMobileFileActionsSelectors=t.getTabletFileActionsSelectors=t.getInlineFileActionsSelectors=t.getFileActionsSelectorsMap=void 0,t.getFileActionsSelectorsMap=function(){var e;return(e={})[o.ActionBarActionTypes.RENAME]=I.createRenameActionSelector(),e[o.ActionBarActionTypes.DOWNLOAD]=u.createDownloadActionSelector(),e[o.ActionBarActionTypes.COMMENT]=c.createCommentActionSelector(),e[o.ActionBarActionTypes.EVENTS]=_.createEventsActionSelector(),e[o.ActionBarActionTypes.VERSION_HISTORY]=C.createVersionHistoryActionSelector(),e[o.ActionBarActionTypes.COPY]=l.createCopyActionSelector(),e[o.ActionBarActionTypes.MOVE]=T.createMoveActionSelector(),e[o.ActionBarActionTypes.DELETE]=d.createDeleteActionSelector(),e[o.ActionBarActionTypes.REMOVE]=d.createRemoveActionSelector(),e[o.ActionBarActionTypes.RESTORE]=R.createRestoreActionSelector(),e[o.ActionBarActionTypes.PERMANENT_DELETE]=O.createPermanentDeleteActionSelector(),e[o.ActionBarActionTypes.STAR]=v.createStarActionSelector(),e[o.ActionBarActionTypes.UNSTAR]=F.createUnstarActionSelector(),e[o.ActionBarActionTypes.OPEN]=f.createOpenActionSelector(),e[o.ActionBarActionTypes.ARCHIVE]=r.createArchiveActionSelector(),e[o.ActionBarActionTypes.GO_TO_FOLDER]=p.createGoToFolderActionSelector(),e[o.ActionBarActionTypes.MANAGE_AS_ADMIN]=S.createManageAsAdminActionSelector(),e[o.ActionBarActionTypes.REQUEST_FILES]=N.createRequestFilesActionSelector(),e[o.ActionBarActionTypes.OPEN_MAC_DESKTOP]=m.createOpenMacDesktopActionSelector(),e[o.ActionBarActionTypes.OPEN_WINDOWS_DESKTOP]=m.createOpenWindowsDesktopActionSelector(),e[o.ActionBarActionTypes.CONVERT_TO_PDF]=s.createConvertToPdfActionSelector(),e[o.ActionBarActionTypes.SAVE_AS]=A.createFileConversionActionSelector(),e[o.ActionBarActionTypes.EDIT_FOLDER_AUTOMATION]=a.createAutomationFolderActionSelector("edit"),e[o.ActionBarActionTypes.ADD_FOLDER_AUTOMATION]=a.createAutomationFolderActionSelector("add"),e[o.ActionBarActionTypes.CONVERT_TO_ARCHIVE]=E.createConvertToArchiveActionSelector(),e[o.ActionBarActionTypes.SHARE]=y.createShareActionSelector(!0,!1),e[o.ActionBarActionTypes.SHARE_COPY_LINK]=g.createShareCopyLinkActionSelector(!1),e[o.ActionBarActionTypes.REQUEST_APPROVAL]=B.createRequestApprovalActionSelector(),e[o.ActionBarActionTypes.ACTIVITY]=h.createActivityActionSelector(),e},t.getInlineFileActionsSelectors=function(){var e;return n.__assign(n.__assign({},t.getFileActionsSelectorsMap()),((e={})[o.ActionBarActionTypes.SHARE_MODAL]=M.createShareModalActionSelector(),e[o.ActionBarActionTypes.SHARE_COPY_LINK]=g.createShareCopyLinkActionSelector(),e[o.ActionBarActionTypes.SEND_FOR_SIGNATURE]=b.createSendForSignatureActionSelector(),e))},t.getTabletFileActionsSelectors=function(){var e;return n.__assign(n.__assign({},t.getFileActionsSelectorsMap()),((e={})[o.ActionBarActionTypes.SHARE_MODAL]=M.createShareModalActionSelectorForTabletView(),e))},t.getMobileFileActionsSelectors=function(){var e;return n.__assign(n.__assign({},t.getFileActionsSelectorsMap()),((e={})[o.ActionBarActionTypes.SHARE_MODAL]=M.createShareModalActionSelector(),e))},t.getSidebarFileActionSelectors=function(){var e;return(e={})[o.ActionBarActionTypes.SHARE]=y.createShareActionSelector(),e},t.getTabletSidebarFileActionSelectors=function(){var e;return(e={})[o.ActionBarActionTypes.SHARE_MODAL]=M.createShareModalActionSelector(),e},t.FileActionsHandlersMap=((P={})[o.ActionBarActionTypes.RENAME]=I.renameActionHandler,P[o.ActionBarActionTypes.DOWNLOAD]=u.downloadActionHandler,P[o.ActionBarActionTypes.COMMENT]=c.commentActionHandler,P[o.ActionBarActionTypes.EVENTS]=_.eventsActionHandler,P[o.ActionBarActionTypes.VERSION_HISTORY]=C.versionHistoryActionHandler,P[o.ActionBarActionTypes.COPY]=l.copyActionHandler,P[o.ActionBarActionTypes.MOVE]=T.moveActionHandler,P[o.ActionBarActionTypes.DELETE]=d.deleteActionHandler,P[o.ActionBarActionTypes.REMOVE]=d.deleteActionHandler,P[o.ActionBarActionTypes.RESTORE]=R.restoreActionHandler,P[o.ActionBarActionTypes.PERMANENT_DELETE]=O.permanentDeleteActionHandler,P[o.ActionBarActionTypes.STAR]=v.starActionHandler,P[o.ActionBarActionTypes.UNSTAR]=F.unstarActionHandler,P[o.ActionBarActionTypes.OPEN]=f.openActionHandler,P[o.ActionBarActionTypes.SHARE_MODAL]=M.shareModalActionHandler,P[o.ActionBarActionTypes.ARCHIVE]=r.archiveActionHandler,P[o.ActionBarActionTypes.GO_TO_FOLDER]=p.goToFolderActionHandler,P[o.ActionBarActionTypes.MANAGE_AS_ADMIN]=S.manageAsAdminActionHandler,P[o.ActionBarActionTypes.REQUEST_FILES]=N.requestFilesActionHandler,P[o.ActionBarActionTypes.OPEN_MAC_DESKTOP]=m.openDesktopActionHandler,P[o.ActionBarActionTypes.OPEN_WINDOWS_DESKTOP]=m.openDesktopActionHandler,P[o.ActionBarActionTypes.SHARE_COPY_LINK]=g.shareCopyLinkActionHandler,P[o.ActionBarActionTypes.CONVERT_TO_PDF]=s.convertToPdfActionHandler,P[o.ActionBarActionTypes.SAVE_AS]=A.fileConversionActionHandler,P[o.ActionBarActionTypes.EDIT_FOLDER_AUTOMATION]=a.editAutomationFolderActionHandler,P[o.ActionBarActionTypes.ADD_FOLDER_AUTOMATION]=a.addAutomationFolderActionHandler,P[o.ActionBarActionTypes.CONVERT_TO_ARCHIVE]=E.convertToArchiveActionHandler,P[o.ActionBarActionTypes.SEND_FOR_SIGNATURE]=b.sendForSignatureActionHandler,P[o.ActionBarActionTypes.REQUEST_APPROVAL]=B.requestApprovalActionHandler,P),t.ActionMenuToggleHandlersMap=((G={})[o.ActionBarActionTypes.OPEN]=f.openActionMenuToggleHandler,G[o.ActionBarActionTypes.SPACES_DROPDOWN]=L.spacesDropdownActionMenuToggleHandler,G[o.ActionBarActionTypes.ACTIVITY]=h.openActivityMenuToggleHandler,G);var x=((H={})[o.ActionBarActionEventSource.BUTTON]=w.ActionSourceValue.BUTTON,H[o.ActionBarActionEventSource.BUTTON_MENU]=w.ActionSourceValue.BUTTON_MENU,H[o.ActionBarActionEventSource.OVERFLOW_MENU]=w.ActionSourceValue.OVERFLOW_MENU,H);t.actionHandler=function(e,t,o,i){return function(r,a){var c=o[e.type];c&&c(a(),n.__assign(n.__assign({},t),{actionSource:x[e.source]}),{menuValue:e.menuItem,anchorRef:e.anchorRef,onHoverLocked:null==i?void 0:i.onHoverLocked,onActionFlowComplete:e.onActionFlowComplete})}},t.actionMenuToggleHandler=function(e,t,n){var o=e.type,i=e.isOpen;return function(e,r){var a=n[o];a&&a(r(),t,i)}},t.createActionBarActionSelector=function(){return i.dedupe(U,(function(e,t,n,o){var i={},r=o(e,t),a=r.alwaysAtTopLevel,c=r.atTopLevelIfSpace,s=r.alwaysInOverflow;return i.alwaysAtTopLevel=a?V(e,t,n,a):[],i.atTopLevelIfSpace=c?V(e,t,n,c):[],i.alwaysInOverflow=s?s.map((function(o){return V(e,t,n,o)})):[[]],i}))};var U=function(e,t){var n;return D.shallowEqualArray(e.alwaysAtTopLevel,t.alwaysAtTopLevel)&&D.shallowEqualArray(e.atTopLevelIfSpace,t.atTopLevelIfSpace)&&!!(null===(n=e.alwaysInOverflow)||void 0===n?void 0:n.every((function(e,n){return D.shallowEqualArray(e,t.alwaysInOverflow?t.alwaysInOverflow[n]:[])})))},V=function(e,t,n,o){var i=[];return o.forEach((function(o){var r=n[o],a=r&&r(e,t);a&&i.push(a)})),i}})),define("modules/clean/react/action_bar/file_actions/file_actions_selectors",["require","exports","tslib","reselect","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/filepath/filepath","modules/clean/filetypes","modules/clean/react/action_bar/file_actions/file_actions_types","modules/clean/react/browse/constants","modules/clean/react/browse/data/selectors","modules/clean/react/browse/models","modules/clean/react/files_view/data/selectors/instance_selectors","modules/clean/react/files_view/util","modules/clean/search/constants","modules/clean/sharing/gating_util","modules/clean/unity/check_file_cache","modules/clean/unity/features","modules/clean/react/browse/data/selectors","modules/clean/react/flows/types"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A,p,S,T,f,E){"use strict";var m,O,I;Object.defineProperty(t,"__esModule",{value:!0}),t.getAutoFolderEligibility=t.swapFollowAndTidy=t.isFolderTidyable=t.showTransferInShareDropdown=t.searchSidebarActionsMap=t.expSearchActionsMap=t.searchActionsMap=t.createSearchActionBarAccessibilityConfigSelector=t.copyActionBarActions=t.getSearchSidebarScenarioActions=t.getSearchInlineOverflowMenuActions=t.getSearchInlineScenarioActions=t.getInlineScenarioActions=t.getSearchScenarioActions=t.getActionHandlerArgs=t.expMultiObjectSharingRedesignIsOn=t.expActionBarRedesignIsOn=t.isRightRailCollapsed=t.accessibilityConfig=t.hasLinkedMobile=t.browsePostTTIData=t.isSameDirectory=t.isCdmRoot=t.getFlowsFolderRuleConfig=t.getFlowsFolderRule=t.flowsFolderRule=t.isVaultFolderSelected=t.isUnityOpenAvailable=t.isTeamSharedFolderSelected=t.isTeamMemberFolderSelected=t.isSingleSelectionFolder=t.isSingleSelectionFile=t.isSingleSelection=t.isSelectionWritable=t.isSelectionFoldersOnly=t.isSelectionFilesOnly=t.isSelectionFetchFolderSizeStatusOnly=t.isRestrictedPathSelected=t.isPnmSuppressShareSelected=t.isPnmSuppressMoveSelected=t.isPnmSuppressDeleteSelected=t.isPnmLinkNodeSelected=t.isPermanentDeleteDisabled=t.isNothingSelected=t.isLiveFilesOnly=t.isFileSharedWithMeSelected=t.isFamilySharedFolderSelected=t.isDeletedFilesOnly=t.isCloudDocSelected=t.isCloudDocFileSharedWithMeSelected=t.isAppFolderSelected=t.isNoAccessSharedFolderSelected=t.hasUnmountedOrMultipleNamespaces=t.hasNewOwnershipModel=t.hasContentManagerAndSuperAdmin=t.actionBarSelectionType=t.isSelectedBackupFolder=t.isInsideBackupFolder=t.isCreatingSharedLink=t.experiments=t.overQuotaData=t.isGridView=t.viewType=t.currentFolderInfo=t.context=t.selectedFiles=t.user=t.actionSource=t.actionSurface=t.isSearchMode=t.defaultExperiments=t.defaultOverQuotaData=void 0,S=n.__importDefault(S),t.defaultOverQuotaData={isOverFreeQuota:!1,hasExcludedNsIds:!1},t.defaultExperiments={expVaultEnableViewOnlySharing:!1,expSpacesFssDropdown:!1,expManualPdfConversion:!1,expShowTransferInShare:!1,expTidyUpBrowse:!1,expTidyUpSmartPocEnabled:!1,expTidyUpIATester:!1,expFlowsAutomatedFolderUI:!1,expFlowsFileConversionUI:!1,expActionBarRedesign:"OFF",expFlowsManualArchive:!1,expFlowsManualVideoRemuxUi:!1,expFlowsManualVideoGifUi:!1,expFssEntryPointForSpaces:!1,expPgEsignDiscoveryFileHover:!1,expFlowsApprovalFlow:!1,expSynchronousSingleFileActions:!1,expBrowseBoostSharing:"OFF",expEnableSharingNSF:!1,expIsTransferEnabled:!1,expMultiObjectSharingRedesign:"OFF",expFlowsAudioConversionUi:!1},t.isSearchMode=function(e,t){return t.isSearchMode},t.actionSurface=function(e,t){return t.actionSurface},t.actionSource=function(e,t){return t.actionSource},t.user=function(e,t){return t.userSelector(e)},t.selectedFiles=function(e,t){return t.selectedFilesSelector(e)},t.context=function(e,t){return t.contextSelector(e)},t.currentFolderInfo=function(e,t){return t.currentFolderInfo(e)},t.viewType=function(e,t){return u.selectViewType(e,{instanceId:t.isSearchMode?A.SEARCH_FILES_VIEW_ID:s.BROWSE_FILES_VIEW_ID})},t.isGridView=function(e,t){var n=t.isSearchMode?A.SEARCH_FILES_VIEW_ID:s.BROWSE_FILES_VIEW_ID;return u.selectIsGridView(e,{instanceId:n})},t.overQuotaData=function(e,t){return t.overQuotaDataSelector(e)},t.experiments=function(e,t){return t.experimentSelector(e)},t.isCreatingSharedLink=function(e,t){return Boolean(t.isCreatingSharedLinkSelector)},t.isInsideBackupFolder=function(e,t){return t.isInsideBackupFolder(e)},t.isSelectedBackupFolder=function(e,t){return t.isSelectedBackupFolder(e)},t.actionBarSelectionType=o.createSelector(t.selectedFiles,t.isInsideBackupFolder,t.isSelectedBackupFolder,(function(e,t,n){return t?c.ActionBarSelectionType.BACKUP_CONTENT:n?c.ActionBarSelectionType.BACKUP_FOLDER:0===e.count()?c.ActionBarSelectionType.NONE:e.some((function(e){return e.type===a.FileTypes.VAULT_FOLDER}))?c.ActionBarSelectionType.VAULT:1===e.count()?e.first().is_dir?c.ActionBarSelectionType.FOLDER:c.ActionBarSelectionType.FILE:c.ActionBarSelectionType.MULTIPLE})),t.hasContentManagerAndSuperAdmin=o.createSelector(t.user,(function(e){return p.GoldenGate.hasContentManagerAndSuperAdmin(e.id)})),t.hasNewOwnershipModel=o.createSelector(t.user,(function(e){return p.GoldenGate.hasNewOwnershipModel(e.id)})),t.hasUnmountedOrMultipleNamespaces=o.createSelector(t.selectedFiles,(function(e){var t=e.first();return e.some((function(e){return e.is_unmounted||e.ns_id!==t.ns_id}))})),t.isNoAccessSharedFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return d.File.isNoAccessSharedFolder(e)}))})),t.isAppFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.type===a.FileTypes.SANDBOX}))})),t.isCloudDocFileSharedWithMeSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.is_cloud_doc&&e instanceof d.FileSharedWithMe}))})),t.isCloudDocSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.is_cloud_doc}))})),t.isDeletedFilesOnly=o.createSelector(t.selectedFiles,(function(e){return e.every((function(e){return e.isDeleted||e.is_unmounted}))})),t.isFamilySharedFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.type===a.FileTypes.FAMILY_SHARED_FOLDER}))})),t.isFileSharedWithMeSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e instanceof d.FileSharedWithMe}))})),t.isLiveFilesOnly=o.createSelector(t.selectedFiles,(function(e){return e.every((function(e){return!e.isDeleted&&!e.is_unmounted}))})),t.isNothingSelected=o.createSelector(t.selectedFiles,(function(e){return 0===e.count()})),t.isPermanentDeleteDisabled=o.createSelector(t.selectedFiles,t.context,(function(e,t){return t.permanentDeletionDisabledStateByNSID[t.currentNSID]||!1})),t.isPnmLinkNodeSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){var t;return!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.link_node)}))})),t.isPnmSuppressDeleteSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){var t;return!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.suppress_delete)}))})),t.isPnmSuppressMoveSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){var t;return!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.suppress_move)}))})),t.isPnmSuppressShareSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){var t,n;return!!(null===(t=e.per_node_metadata)||void 0===t?void 0:t.suppress_ns_partition)||!!(null===(n=e.per_node_metadata)||void 0===n?void 0:n.suppress_shared_link)}))})),t.isRestrictedPathSelected=o.createSelector(t.selectedFiles,t.context,(function(e,t){return e.some((function(e){return!d.File.canViewFileMembers(e,t)}))})),t.isSelectionFetchFolderSizeStatusOnly=o.createSelector(t.selectedFiles,(function(e){return e.every((function(e){return null==e.fetchFolderSizesStatus}))})),t.isSelectionFilesOnly=o.createSelector(t.selectedFiles,(function(e){return e.every((function(e){return e.type===a.FileTypes.FILE}))})),t.isSelectionFoldersOnly=o.createSelector(t.selectedFiles,(function(e){return e.every((function(e){return e.is_dir}))})),t.isSelectionWritable=o.createSelector(t.selectedFiles,t.context,(function(e,t){return t.isCurrentPathWriteable()&&!e.some((function(e){return e.read_only}))})),t.isSingleSelection=o.createSelector(t.selectedFiles,(function(e){return 1===e.count()})),t.isSingleSelectionFile=o.createSelector(t.selectedFiles,(function(e){return 1===e.count()&&!e.first().is_dir})),t.isSingleSelectionFolder=o.createSelector(t.selectedFiles,(function(e){return 1===e.count()&&e.first().is_dir})),t.isTeamMemberFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.type===a.FileTypes.TEAM_MEMBER_FOLDER}))})),t.isTeamSharedFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.type===a.FileTypes.TEAM_SHARED_FOLDER}))})),t.isUnityOpenAvailable=function(e,n){var o=t.selectedFiles(e,n).first();return t.isSingleSelection(e,n)&&!t.isFileSharedWithMeSelected(e,n)&&T.UnityFeatures.isUnitySupported()&&(null===S.default||void 0===S.default?void 0:S.default.is_cached_and_locally_available(o.ns_id,o.ns_path))},t.isVaultFolderSelected=o.createSelector(t.selectedFiles,(function(e){return e.some((function(e){return e.type===a.FileTypes.VAULT_FOLDER}))})),t.flowsFolderRule=function(e,t,n){return t.flowsFolderRule(e,n)},t.getFlowsFolderRule=function(e,n){var o=t.selectedFiles(e,n).first(),i=t.currentFolderInfo(e,n);return o&&t.flowsFolderRule(e,n,o.fq_path)||!o&&i&&t.flowsFolderRule(e,n,i.fq_path)||E.FlowsRuleType.None},t.getFlowsFolderRuleConfig=function(e,t){return t.flowsFolderRulesConfig(e)},t.isCdmRoot=o.createSelector(t.user,t.context,(function(e,t){return e.is_cdm_member&&"/"===t.currentFQPath})),t.isSameDirectory=o.createSelector(t.selectedFiles,(function(e){var t=e.toArray().map((function(e){return e.fq_path}));return r.inSameDirectory(t)})),t.browsePostTTIData=function(e,t){if(t.browsePostTTIData)return t.browsePostTTIData(e)},t.hasLinkedMobile=function(e,t){if(t.hasLinkedMobile)return t.hasLinkedMobile(e)},t.accessibilityConfig=function(e,t){if(t.accessibilityConfig)return t.accessibilityConfig(e)},t.isRightRailCollapsed=function(e,t){return t.rightRailCollapsedState(e)},t.expActionBarRedesignIsOn=o.createSelector(t.experiments,(function(e){return"OFF"!==e.expActionBarRedesign&&"CONTROL"!==e.expActionBarRedesign})),t.expMultiObjectSharingRedesignIsOn=o.createSelector(t.experiments,(function(e){return"ON"===e.expMultiObjectSharingRedesign})),t.getActionHandlerArgs=o.createSelector(t.user,t.selectedFiles,t.viewType,t.isSearchMode,t.actionSurface,t.actionSource,t.context,t.isRightRailCollapsed,(function(e,t,n,o,i,r,a,c){return{user:e,files:t,isSearchMode:o,viewType:n,actionSurface:i,actionSource:r,context:a,rightRailState:c?"collapsed":"opened"}})),t.getSearchScenarioActions=o.createSelector(t.actionBarSelectionType,t.expActionBarRedesignIsOn,(function(e,n){return n?t.expSearchActionsMap[e]:t.searchActionsMap[e]})),t.getInlineScenarioActions=function(e,t,n,o){void 0===n&&(n=!1),void 0===o&&(o=!1);var r={};if(o)r.alwaysInOverflow=e.alwaysInOverflow;else{var a=(e.alwaysAtTopLevel||[]).concat(e.atTopLevelIfSpace||[]).concat([].concat.apply([],e.alwaysInOverflow)).filter((function(e){return e!==i.ActionBarActionTypes.CREATE}));r.alwaysInOverflow=[a]}if(!t){var c=[];n?c.push.apply(c,[i.ActionBarActionTypes.SHARE_COPY_LINK,i.ActionBarActionTypes.MANAGE_FOLDER_RULES,i.ActionBarActionTypes.SHARE_MODAL]):c.push.apply(c,[i.ActionBarActionTypes.MANAGE_FOLDER_RULES,i.ActionBarActionTypes.SHARE_MODAL,i.ActionBarActionTypes.SHARE_COPY_LINK]),r.alwaysAtTopLevel=c}return r},t.getSearchInlineScenarioActions=o.createSelector(t.actionBarSelectionType,l.browseBoostSharing,t.expActionBarRedesignIsOn,(function(e,n,o){return t.getInlineScenarioActions(o?t.expSearchActionsMap[e]:t.searchActionsMap[e],!1,"TEXT_BUTTON"===n,o)})),t.getSearchInlineOverflowMenuActions=o.createSelector(t.actionBarSelectionType,t.expActionBarRedesignIsOn,(function(e,n){return t.getInlineScenarioActions(n?t.expSearchActionsMap[e]:t.searchActionsMap[e],!0,!1,n)})),t.getSearchSidebarScenarioActions=o.createSelector(t.actionBarSelectionType,(function(e){return t.searchSidebarActionsMap[e]})),t.copyActionBarActions=function(e){var t=e.alwaysAtTopLevel,n=e.atTopLevelIfSpace,o=e.alwaysInOverflow,i={};return i.alwaysAtTopLevel=null==t?void 0:t.slice(),i.atTopLevelIfSpace=null==n?void 0:n.slice(),i.alwaysInOverflow=null==o?void 0:o.map((function(e){return e.slice()})),i},t.createSearchActionBarAccessibilityConfigSelector=function(){return o.createSelector(t.selectedFiles,(function(e){if(0!==e.size)return{primaryActionContext:void 0,secondaryActionsContext:{firstEntryAccessibilityHint:_.getFilename(e.first()),noOfEntries:e.size}}}))},t.searchActionsMap=((m={})[c.ActionBarSelectionType.NONE]={},m[c.ActionBarSelectionType.FILE]={atTopLevelIfSpace:[i.ActionBarActionTypes.SHARE,i.ActionBarActionTypes.SHARE_MODAL,i.ActionBarActionTypes.SHARE_COPY_LINK,i.ActionBarActionTypes.OPEN,i.ActionBarActionTypes.SEND_FOR_SIGNATURE,i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.GO_TO_FOLDER,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY,i.ActionBarActionTypes.RENAME,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE],alwaysInOverflow:[[i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.REMOVE,i.ActionBarActionTypes.COMMENT,i.ActionBarActionTypes.STAR,i.ActionBarActionTypes.UNSTAR,i.ActionBarActionTypes.REQUEST_APPROVAL,i.ActionBarActionTypes.CONVERT_TO_PDF,i.ActionBarActionTypes.VERSION_HISTORY,i.ActionBarActionTypes.OPEN_MAC_DESKTOP,i.ActionBarActionTypes.OPEN_WINDOWS_DESKTOP,i.ActionBarActionTypes.MANAGE_AS_ADMIN]]},m[c.ActionBarSelectionType.FOLDER]={atTopLevelIfSpace:[i.ActionBarActionTypes.SHARE,i.ActionBarActionTypes.SHARE_MODAL,i.ActionBarActionTypes.SHARE_COPY_LINK,i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.GO_TO_FOLDER,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY,i.ActionBarActionTypes.RENAME,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE],alwaysInOverflow:[[i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.REQUEST_FILES,i.ActionBarActionTypes.STAR,i.ActionBarActionTypes.UNSTAR,i.ActionBarActionTypes.EVENTS,i.ActionBarActionTypes.OPEN_MAC_DESKTOP,i.ActionBarActionTypes.OPEN_WINDOWS_DESKTOP,i.ActionBarActionTypes.MANAGE_AS_ADMIN]]},m[c.ActionBarSelectionType.MULTIPLE]={atTopLevelIfSpace:[i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.GO_TO_FOLDER,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY,i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE],alwaysInOverflow:[[i.ActionBarActionTypes.MANAGE_AS_ADMIN]]},m[c.ActionBarSelectionType.VAULT]={},m[c.ActionBarSelectionType.BACKUP_CONTENT]={alwaysAtTopLevel:[i.ActionBarActionTypes.DOWNLOAD],atTopLevelIfSpace:[i.ActionBarActionTypes.REWIND,i.ActionBarActionTypes.VERSION_HISTORY]},m[c.ActionBarSelectionType.BACKUP_FOLDER]={alwaysAtTopLevel:[i.ActionBarActionTypes.DOWNLOAD],atTopLevelIfSpace:[i.ActionBarActionTypes.REWIND,i.ActionBarActionTypes.DELETE]},m),t.expSearchActionsMap=((O={})[c.ActionBarSelectionType.NONE]={},O[c.ActionBarSelectionType.FILE]={atTopLevelIfSpace:[i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.OPEN,i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE,i.ActionBarActionTypes.VAULT_LOCK,i.ActionBarActionTypes.VAULT_UNLOCK,i.ActionBarActionTypes.CONVERT_TO_ARCHIVE],alwaysInOverflow:[[i.ActionBarActionTypes.SHARE,i.ActionBarActionTypes.SHARE_COPY_LINK,i.ActionBarActionTypes.OPEN,i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.REQUEST_APPROVAL,i.ActionBarActionTypes.CONVERT_TO_PDF,i.ActionBarActionTypes.SAVE_AS],[i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE,i.ActionBarActionTypes.REMOVE,i.ActionBarActionTypes.RENAME,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY],[i.ActionBarActionTypes.STAR,i.ActionBarActionTypes.UNSTAR,i.ActionBarActionTypes.PIN_TO,i.ActionBarActionTypes.PIN_TO_ROOT,i.ActionBarActionTypes.UNPIN],[i.ActionBarActionTypes.VERSION_HISTORY,i.ActionBarActionTypes.FILE_LOCK,i.ActionBarActionTypes.FILE_UNLOCK,i.ActionBarActionTypes.FILE_REQUEST_UNLOCK]]},O[c.ActionBarSelectionType.FOLDER]={atTopLevelIfSpace:[i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.OPEN,i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE,i.ActionBarActionTypes.CONVERT_TO_ARCHIVE],alwaysInOverflow:[[i.ActionBarActionTypes.SHARE,i.ActionBarActionTypes.SHARE_COPY_LINK,i.ActionBarActionTypes.OPEN,i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.CHANGE_TO_PDF_FOLDER,i.ActionBarActionTypes.CHANGE_TO_UNZIP_FOLDER,i.ActionBarActionTypes.MANAGE_FOLDER_RULES,i.ActionBarActionTypes.EDIT_FOLDER_AUTOMATION,i.ActionBarActionTypes.ADD_FOLDER_AUTOMATION],[i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RENAME,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY],[i.ActionBarActionTypes.STAR,i.ActionBarActionTypes.UNSTAR,i.ActionBarActionTypes.UNPIN,i.ActionBarActionTypes.PIN_TO,i.ActionBarActionTypes.PIN_TO_ROOT],[i.ActionBarActionTypes.SPACES_REDIRECT,i.ActionBarActionTypes.FOLLOW,i.ActionBarActionTypes.FOLLOWING,i.ActionBarActionTypes.TIDY_UP,i.ActionBarActionTypes.REQUEST_FILES,i.ActionBarActionTypes.REWIND]]},O[c.ActionBarSelectionType.MULTIPLE]={atTopLevelIfSpace:[i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE,i.ActionBarActionTypes.CONVERT_TO_ARCHIVE],alwaysInOverflow:[[i.ActionBarActionTypes.SHARE,i.ActionBarActionTypes.DOWNLOAD,i.ActionBarActionTypes.DELETE,i.ActionBarActionTypes.RESTORE,i.ActionBarActionTypes.PERMANENT_DELETE,i.ActionBarActionTypes.MOVE,i.ActionBarActionTypes.COPY]]},O[c.ActionBarSelectionType.VAULT]={},O),t.searchSidebarActionsMap=((I={})[c.ActionBarSelectionType.NONE]={},I[c.ActionBarSelectionType.FILE]={atTopLevelIfSpace:[i.ActionBarActionTypes.SHARE]},I[c.ActionBarSelectionType.FOLDER]={atTopLevelIfSpace:[i.ActionBarActionTypes.SHARE]},I[c.ActionBarSelectionType.MULTIPLE]={atTopLevelIfSpace:[i.ActionBarActionTypes.SHARE]},I[c.ActionBarSelectionType.VAULT]={},I),t.showTransferInShareDropdown=function(e,n){return t.experiments(e,n).expShowTransferInShare},t.isFolderTidyable=o.createSelector(t.isNothingSelected,f.unsortedFiles,(function(e,t){if(e){var n=t,o=0===n.count(),i=n.every((function(e){return e.is_dir}));return!o&&!i}return!1})),t.swapFollowAndTidy=o.createSelector(t.isFolderTidyable,t.experiments,(function(e,t){return!!t.expTidyUpBrowse&&e})),t.getAutoFolderEligibility=o.createSelector(t.context,t.currentFolderInfo,(function(e,t){return{isCurrentFolderEligibleForAutomation:t&&e.isInFolderMode&&!e.isCurrentlyInRoot&&!e.isInsideTeamFolderRoot&&!e.isInsideVaultFolder&&t.type!==a.FileTypes.TEAM_MEMBER_FOLDER&&!d.File.isReadOnlySharedFolder(t),isSubfolderEligibleForAutomation:t&&!e.isInsideVaultFolder&&!d.File.isReadOnlySharedFolder(t)}}))})),define("modules/clean/react/action_bar/file_actions/move_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/action_bar/file_actions/move"],(function(e,t,n,o,i,r,a,c,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMoveActionSelector=t.moveActionHandler=void 0,t.moveActionHandler=function(e,t){var o,i,r=c.context(e,t),a=c.overQuotaData(e,t),l=a.isOverFreeQuota,d=a.hasExcludedNsIds,u=c.experiments(e,t).expEnableSharingNSF;s.handleMove(n.__assign(n.__assign({},c.getActionHandlerArgs(e,t)),{synchronousSingleFileActions:Boolean(null===(i=null===(o=t.browsePostTTIExperiments)||void 0===o?void 0:o.call(t,e))||void 0===i?void 0:i.expSynchronousSingleFileActions)}),r,{isOverFreeQuota:l,hasExcludedNsIds:d,expEnableSharingNSF:u})};var l=function(e,t){return c.isLiveFilesOnly(e,t)&&!c.isFileSharedWithMeSelected(e,t)&&!c.isTeamSharedFolderSelected(e,t)&&!c.isTeamMemberFolderSelected(e,t)&&!c.isPnmLinkNodeSelected(e,t)&&!c.isPnmSuppressMoveSelected(e,t)&&!c.isVaultFolderSelected(e,t)};t.createMoveActionSelector=function(){return o.createSelector(c.context,c.selectedFiles,l,(function(e,t,n){return n?{actionType:r.ActionBarActionTypes.MOVE,isEnabled:e.isCurrentPathWriteable()&&!t.some((function(e){return e.read_only})),text:a.MOVE_ACTION_STRING,icon:i.MoveLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/open_action",["require","exports","tslib","react","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/file_store/utils","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/extensions/extensions_menu_component_v2","modules/clean/react/file_viewer/unity/with_unity","modules/clean/web_user_action_events","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/action_bar/file_actions/open_desktop_action","modules/clean/react/action_bar/file_actions/go_to_folder_action","modules/clean/reel/lib/utils"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A,p,S,T,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openActionMenuToggleHandler=t.createOpenActionSelector=t.openActionHandler=void 0,o=n.__importDefault(o),d=n.__importStar(d);var E={surface:"action-bar"};t.openActionHandler=function(e,t,n){var o=null==n?void 0:n.menuValue;d.handleExtensionClick(l.getActionHandlerArgs(e,t),t.actionSurface,(null==o?void 0:o.actionName)||(null==o?void 0:o.userAction)),null==o||o.handler()};var m=i.createSelector(l.getActionHandlerArgs,(function(e){return function(){d.handlePreview(e,A.ActionSourceValue.OVERFLOW_MENU)}})),O=i.createSelector(l.getActionHandlerArgs,(function(e){return function(){d.handleReplay(e)}})),I=i.createSelector(l.getActionHandlerArgs,(function(e){return function(){p.handleOpenInDesktop(e)}})),N=function(e,t){return function(){T.goToFolderActionHandler(e,t)}},R=function(e,t){return l.isSingleSelection(e,t)&&l.isLiveFilesOnly(e,t)&&!l.isFileSharedWithMeSelected(e,t)&&!l.isTeamSharedFolderSelected(e,t)&&!l.isTeamMemberFolderSelected(e,t)&&!l.isPnmLinkNodeSelected(e,t)&&!l.context(e,t).isInsideVaultFolder},y=[".3gp",".3gpp",".3gpp2",".asf",".avi",".dv",".flv",".m2t",".m2ts",".m4v",".mkv",".mov",".mp4",".mpeg",".mpg",".mts",".mxf",".oggtheora",".ogv",".rm",".ts",".vob",".webm",".wmv"];t.createOpenActionSelector=function(){return i.createSelector(l.user,l.selectedFiles,R,S.showOpenDesktopAction,m,O,I,N,l.expActionBarRedesignIsOn,T.goToFolderAction,l.isSearchMode,l.getAutoFolderEligibility,(function(e,t,n,i,c,l,d,u,_,A,p,S){var T=t.first(),m=n&&!T.is_dir?c:void 0,O=f.reelOpenWithEnabled()&&n&&y.includes(T.ext)?l:void 0,I=_&&n&&i?d:void 0,N=_&&n&&A&&p?u:void 0;return n?{actionType:a.ActionBarActionTypes.OPEN,isEnabled:!0,text:_?p?s.EXP_OPEN_ACTION_STRING:s.EXP_OPEN_IN_ACTION_STRING:s.OPEN_ACTION_STRING,icon:r.OpenLine,menu:{type:a.ActionBarMenuType.CUSTOM_DROPDOWN,menuContent:o.default.createElement(g,{user:e,file:T,telemetryContext:E,isInActionBar:!0,previewActionHandler:m,replayActionHandler:O,openDesktopActionHandler:I,goToFolderActionHandler:N,isCurrentFolderEligibleForAutomation:S.isCurrentFolderEligibleForAutomation,isSubfolderEligibleForAutomation:S.isSubfolderEligibleForAutomation})}}:void 0}))};var g=function(e){return c.isBrowseFile(e.file)?o.default.createElement(_.WithUnity,{file:e.file,user:e.user,render:function(t){return o.default.createElement(u.ExtensionsPopoverContent,n.__assign({},e,{unityInfo:t}))}}):o.default.createElement(u.ExtensionsPopoverContent,n.__assign({},e))};g.displayName="OpenMenuContent",t.openActionMenuToggleHandler=function(e,t,n){n&&d.handleExtensionDropdownOpen(l.getActionHandlerArgs(e,t),t.actionSurface)}})),define("modules/clean/react/action_bar/file_actions/permanent_delete_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers"],(function(e,t,n,o,i,r,a,c,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createPermanentDeleteActionSelector=t.permanentDeleteActionHandler=void 0,s=n.__importStar(s),t.permanentDeleteActionHandler=function(e,t){var n=c.context(e,t);s.handlePermanentDelete(c.getActionHandlerArgs(e,t),n)};var l=function(e,t){return c.isDeletedFilesOnly(e,t)&&!c.hasUnmountedOrMultipleNamespaces(e,t)&&!c.isPermanentDeleteDisabled(e,t)},d={actionType:r.ActionBarActionTypes.PERMANENT_DELETE,isEnabled:!0,text:a.PERMANENT_DELETE_ACTION_STRING,icon:i.DeleteForeverLine};t.createPermanentDeleteActionSelector=function(){return o.createSelector(l,(function(e){return e?d:void 0}))}})),define("modules/clean/react/action_bar/file_actions/rename_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/filetypes","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRenameActionSelector=t.renameActionHandler=void 0,l=n.__importStar(l),t.renameActionHandler=function(e,t){s.selectedFiles(e,t).first().type===a.FileTypes.TEAM_SHARED_FOLDER?l.handleRenameTeamFolder(s.getActionHandlerArgs(e,t)):l.handleRename(s.getActionHandlerArgs(e,t))};var d=function(e,t){return s.isSingleSelection(e,t)&&s.isLiveFilesOnly(e,t)&&(s.isTeamSharedFolderSelected(e,t)?s.hasContentManagerAndSuperAdmin(e,t):!(s.isPnmSuppressMoveSelected(e,t)||s.isPnmLinkNodeSelected(e,t)||s.isVaultFolderSelected(e,t)||s.isFileSharedWithMeSelected(e,t)))};t.createRenameActionSelector=function(){return o.createSelector(d,s.context,s.selectedFiles,(function(e,t,n){return e?{actionType:r.ActionBarActionTypes.RENAME,isEnabled:t.isCurrentPathWriteable()&&!n.some((function(e){return e.read_only})),text:c.RENAME_ACTION_STRING,icon:i.EditLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/restore_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers"],(function(e,t,n,o,i,r,a,c,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createRestoreActionSelector=t.showRestoreAction=t.restoreActionHandler=void 0,s=n.__importStar(s),t.restoreActionHandler=function(e,t){var n=c.context(e,t);s.handleRestore(c.getActionHandlerArgs(e,t),n)},t.showRestoreAction=function(e,t){if(c.isNothingSelected(e,t)||!c.isDeletedFilesOnly(e,t)||c.hasUnmountedOrMultipleNamespaces(e,t))return!1;var n=c.selectedFiles(e,t).first().target_ns;return!(c.isSingleSelectionFolder(e,t)&&n&&0!==n)||c.context(e,t).currentNSAllowsNesting},t.createRestoreActionSelector=function(){return o.createSelector(t.showRestoreAction,c.context,c.selectedFiles,(function(e,t,n){return e?{actionType:r.ActionBarActionTypes.RESTORE,isEnabled:t.isCurrentPathWriteable()&&!n.some((function(e){return e.read_only})),text:a.RESTORE_ACTION_STRING,icon:i.RestoreLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/share_action",["require","exports","tslib","react","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/action_bar/file_actions/share","modules/clean/react/browse/global_actions/browse_global_actions_handlers","modules/clean/react/browse/global_actions/browse_global_actions_helpers","modules/clean/react/browse/models","modules/clean/react/extensions/data/types","modules/clean/react/extensions/split_share_button","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/browse/browse_actions/browse_add_to_transfer_action","modules/clean/web_user_action_events"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A,p,S,T,f){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createShareActionSelector=t.shouldShowShareAction=t.isFssShareEnabled=void 0,o=n.__importDefault(o),d=n.__importStar(d);var E={surface:"action-bar"};t.isFssShareEnabled=function(e,t){return m(e,t)},t.shouldShowShareAction=function(e,t){var n=s.experiments(e,t).expMultiObjectSharingRedesign;return m(e,t,"ON"===n)};var m=function(e,t,n){void 0===n&&(n=!1);var o=s.context(e,t),i=s.experiments(e,t).expVaultEnableViewOnlySharing;return s.isNothingSelected(e,t)?!(s.isCdmRoot(e,t)||o.isCurrentlyInRoot||o.isInsideSandboxFolder||o.isInsideVaultFolder||o.isInFamilySharedFolder):(n||s.isSingleSelection(e,t))&&s.isLiveFilesOnly(e,t)&&!s.isPnmSuppressShareSelected(e,t)&&!s.isPnmLinkNodeSelected(e,t)&&!s.isVaultFolderSelected(e,t)&&!s.isFileSharedWithMeSelected(e,t)&&(!o.isInsideVaultFolder||i)&&!s.isTeamMemberFolderSelected(e,t)&&!s.isAppFolderSelected(e,t)};t.createShareActionSelector=function(e,m){return void 0===e&&(e=!1),void 0===m&&(m=!0),i.createSelector(t.shouldShowShareAction,s.user,s.selectedFiles,s.context,s.getActionHandlerArgs,s.showTransferInShareDropdown,T.showAddToTransferAction,s.currentFolderInfo,s.isRightRailCollapsed,s.expActionBarRedesignIsOn,s.expMultiObjectSharingRedesignIsOn,(function(t,i,s,T,O,I,N,R,y,g,M){if(t&&(g||m)&&(0!==s.count()||R)){var v=0===s.count()?{files:R?[R]:[],logShareButtonClick:u.getLogSplitShareButtonFunction(i,y),onShowShare:function(){d.handleSharedFolderClick(i,T)},onDropdownOpen:u.getLogOpenSplitShareFunction(i,y)}:{files:s.toArray(),onShowShare:l.handleSplitShareClick(O,T),onDropdownOpen:l.handleSplitShareOpen(O),logShareButtonClick:l.handleSplitShareLogging(O),onPresentInZoom:l.handlePresentInZoom(O)},F={files:v.files,user:i,variant:"opacity",triggerType:A.TriggerType.SidebarPrimaryButton,onShowShare:v.onShowShare,onDropdownOpen:v.onDropdownOpen,logShareButtonClick:v.logShareButtonClick,onPresentInZoom:v.onPresentInZoom,context:E,shouldUsePortalPopover:!0,showLeftDigIcon:!0,showTransferButton:I&&!!N,onAddToTransfer:function(){return S.handleAddToTransfer(O)},retrievalSource:O.isSearchMode?f.RetrievalSourceValue.SEARCH:f.RetrievalSourceValue.BROWSE,actionSurface:O.actionSurface},C=e&&s.count()>1&&M;return{actionType:a.ActionBarActionTypes.SHARE,isEnabled:0===s.count()||s.every((function(e){return _.File.canViewFileMembers(e,T)})),text:C?c.SHARE_ALL_SELECTED_ACTION_STRING:c.SHARE_ACTION_STRING,icon:r.ShareArrowLine,button:e?void 0:o.default.createElement(p.SplitShareButton,n.__assign({},F,{renderMenuOnly:!1,expActionBarRedesignEnabled:g})),menu:e?{type:a.ActionBarMenuType.CUSTOM_DROPDOWN,menuContent:o.default.createElement(p.SplitShareButton,n.__assign({},F,{renderMenuOnly:!0}))}:void 0}}}))}})),define("modules/clean/react/action_bar/file_actions/star_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/starred/browse_exports","modules/clean/react/browse/models"],(function(e,t,n,o,i,r,a,c,s,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createStarActionSelector=t.starActionHandler=void 0,s=n.__importStar(s),t.starActionHandler=function(e,t){s.handleStar(c.getActionHandlerArgs(e,t))};var u=function(e,t){return c.isSingleSelection(e,t)&&c.isLiveFilesOnly(e,t)&&!c.isFileSharedWithMeSelected(e,t)&&!c.context(e,t).isInsideVaultFolder&&!l.StarredStore.getIsStarred({id:c.selectedFiles(e,t).first().file_id,type:l.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID})};t.createStarActionSelector=function(){return o.createSelector(u,c.selectedFiles,(function(e,t){return e?{actionType:r.ActionBarActionTypes.STAR,isEnabled:!d.File.isNoAccessSharedFolder(t.first()),text:a.STAR_ACTION_STRING,icon:i.StarLine}:void 0}))}})),define("modules/clean/react/action_bar/file_actions/unstar_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/clean/react/starred/browse_exports"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUnstarActionSelector=t.unstarActionHandler=void 0,s=n.__importStar(s),t.unstarActionHandler=function(e,t){s.handleUnstar(c.getActionHandlerArgs(e,t))};var d={actionType:r.ActionBarActionTypes.UNSTAR,isEnabled:!0,text:a.UNSTAR_ACTION_STRING,icon:i.StarFill},u=function(e,t){return c.isSingleSelection(e,t)&&c.isLiveFilesOnly(e,t)&&!c.isFileSharedWithMeSelected(e,t)&&!c.context(e,t).isInsideVaultFolder&&l.StarredStore.getIsStarred({id:c.selectedFiles(e,t).first().file_id,type:l.HOME_RESOURCE_ID_TYPE.ENCODED_FILE_OBJ_ID})};t.createUnstarActionSelector=function(){return o.createSelector(u,(function(e){return e?d:void 0}))}})),define("modules/clean/react/action_bar/file_actions/version_history_action",["require","exports","tslib","reselect","dig-components/icons/src","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/cloud_docs/constants","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/file_actions_selectors","modules/clean/react/browse/file_actions/action_handlers","modules/core/i18n","modules/clean/react/action_bar/action_bar_activity_menu"],(function(e,t,n,o,i,r,a,c,s,l,d,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createVersionHistoryActionMenuItem=t.createVersionHistoryActionSelector=t.showVersionHistoryAction=t.versionHistoryActionHandler=void 0,l=n.__importStar(l),t.versionHistoryActionHandler=function(e,t){l.handleVersions(s.getActionHandlerArgs(e,t))};var _={actionType:r.ActionBarActionTypes.VERSION_HISTORY,isEnabled:!0,text:c.VERSION_HISTORY_ACTION_STRING,icon:i.ClockLine};t.showVersionHistoryAction=function(e,t){var n=s.selectedFiles(e,t).first();return s.isSingleSelectionFile(e,t)&&s.isLiveFilesOnly(e,t)&&!s.isFileSharedWithMeSelected(e,t)&&(!s.isCloudDocSelected(e,t)||!a.isPointerByExtension(n.ns_path))&&!s.isPnmLinkNodeSelected(e,t)},t.createVersionHistoryActionSelector=function(){return o.createSelector(t.showVersionHistoryAction,(function(e){return e?_:void 0}))},t.createVersionHistoryActionMenuItem=function(e,n){return t.showVersionHistoryAction(e,n)?{value:{type:r.ActionBarActionTypes.VERSION_HISTORY,menuItem:u.ActivityAction.VERSION_HISTORY},description:d.intl.formatMessage(c.VERSION_HISTORY_ACTION_STRING),icon:i.ClockLine,isEnabled:!0}:void 0}})),define("modules/clean/react/action_bar/action_bar_strings",["require","exports","react-intl"],(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTION_DISABLED_STRING=t.ACTIVITY_ACTION_STRING=t.REQUEST_APPROVAL_STRING=t.SEND_FOR_SIGNATURE_ACTION_STRING=t.APPLY_NAMING_CONVENTION_ACTION_STRING=t.EDIT_FOLDER_AUTOMATION_STRING=t.ADD_FOLDER_AUTOMATION_STRING=t.FOLDER_RULES_SETTINGS=t.TIDY_UP_ACTION_STRING=t.CHANGE_TO_UNZIP_FOLDER_STRING=t.ADD_AUTOMATED_STRING=t.CHANGE_TO_PDF_FOLDER_STRING=t.CONVERT_TO_PDF_ACTION_STRING=t.CONVERT_TO_ARCHIVE_ACTION_STRING=t.FILE_CONVERSION_STRING=t.FOLLOWING_ACTION_STRING=t.FOLLOW_ACTION_STRING=t.SHARE_COPY_LINK_ACTION_TOOLTIP=t.SHARE_COPY_LINK_ACTION_STRING=t.EXP_OPEN_IN_APP_ACTION_STRING=t.OPEN_IN_APP_ACTION_STRING=t.OPEN_WINDOWS_DESKTOP_ACTION_STRING=t.OPEN_MAC_DESKTOP_ACTION_STRING=t.PREVIEW_ACTION_STRING=t.ADD_CONTENT_ACTION_STRING=t.GO_TO_FOLDER_ACTION_STRING=t.SHARE_ALL_SELECTED_ACTION_STRING=t.SHARE_ACTION_STRING=t.SPACES_PROJECTS_RENAME_DROPDOWN_ACTION_STRING=t.ADD_TO_TRANSFER_ACTION_STRING=t.HIDE_DELETED_FILES_ACTION_STRING=t.SHOW_DELETED_FILES_ACTION_STRING=t.RE_ADD_SHARED_FOLDER_ACTION_STRING=t.UNSTAR_ACTION_STRING=t.STAR_ACTION_STRING=t.PERMANENT_DELETE_ACTION_STRING=t.RESTORE_ACTION_STRING=t.PIN_TO_ROOT_ACTION_STRING=t.PIN_TO_ACTION_STRING=t.UNPIN_ACTION_STRING=t.VERSION_HISTORY_ACTION_STRING=t.MANAGE_AS_ADMIN_ACTION_STRING=t.CALCULATE_FOLDER_SIZE_ACTION_STRING=t.EVENTS_ACTION_STRING=t.FILE_REQUEST_UNLOCK_ACTION_STRING=t.FILE_UNLOCK_ACTION_STRING=t.FILE_LOCK_ACTION_STRING=t.VAULT_LOCK_STRING=t.VAULT_UNLOCK_STRING=t.COMMENT_ACTION_STRING=t.ARCHIVE_ACTION_STRING=t.REWIND_ACTION_STRING=t.FOLDER_HISTORY_ACTION_STRING=t.COPY_ACTION_STRING=t.REMOVE_ACTIION_STRING=t.DELETE_ACTION_STRING=t.RENAME_ACTION_STRING=t.MOVE_ACTION_STRING=t.PASTE_ACTION_STRING=t.EXP_OPEN_IN_ACTION_STRING=t.EXP_OPEN_ACTION_STRING=t.OPEN_ACTION_STRING=t.REQUEST_FILES_ACTION_STRING=t.DOWNLOAD_ACTION_STRING=t.UPLOAD_ACTION_STRING=t.NEW_ACTION_STRING=t.ADD_ACTION_STRING=t.CREATE_ACTION_STRING=void 0,t.CREATE_ACTION_STRING=n.defineMessage({id:"nMBhV+",defaultMessage:"Create"}),t.ADD_ACTION_STRING=n.defineMessage({id:"/6ordy",defaultMessage:"Add"}),t.NEW_ACTION_STRING=n.defineMessage({id:"5o4J9F",defaultMessage:"New"}),t.UPLOAD_ACTION_STRING=n.defineMessage({id:"yZqpE+",defaultMessage:"Upload"}),t.DOWNLOAD_ACTION_STRING=n.defineMessage({id:"3xAi9D",defaultMessage:"Download"}),t.REQUEST_FILES_ACTION_STRING=n.defineMessage({id:"67epwi",defaultMessage:"Request files"}),t.OPEN_ACTION_STRING=n.defineMessage({id:"alhtiG",defaultMessage:"Open"}),t.EXP_OPEN_ACTION_STRING=n.defineMessage({id:"alhtiG",defaultMessage:"Open"}),t.EXP_OPEN_IN_ACTION_STRING=n.defineMessage({id:"MysX8v",defaultMessage:"Open in"}),t.PASTE_ACTION_STRING=n.defineMessage({id:"eF4sif",defaultMessage:"Paste"}),t.MOVE_ACTION_STRING=n.defineMessage({id:"GtD4wV",defaultMessage:"Move"}),t.RENAME_ACTION_STRING=n.defineMessage({id:"DyrBQI",defaultMessage:"Rename"}),t.DELETE_ACTION_STRING=n.defineMessage({id:"nOBhEP",defaultMessage:"Delete"}),t.REMOVE_ACTIION_STRING=n.defineMessage({id:"efT3qC",defaultMessage:"Remove"}),t.COPY_ACTION_STRING=n.defineMessage({id:"6MJeaA",defaultMessage:"Copy"}),t.FOLDER_HISTORY_ACTION_STRING=n.defineMessage({id:"hunQnq",defaultMessage:"Folder history"}),t.REWIND_ACTION_STRING=n.defineMessage({id:"e3V4bo",defaultMessage:"Rewind this folder"}),t.ARCHIVE_ACTION_STRING=n.defineMessage({id:"uH1oiy",defaultMessage:"Archive"}),t.COMMENT_ACTION_STRING=n.defineMessage({id:"XAo7sk",defaultMessage:"Add comment"}),t.VAULT_UNLOCK_STRING=n.defineMessage({id:"7KlMwN",defaultMessage:"Unlock vault"}),t.VAULT_LOCK_STRING=n.defineMessage({id:"LQt5WS",defaultMessage:"Lock vault"}),t.FILE_LOCK_ACTION_STRING=n.defineMessage({id:"ljfv4E",defaultMessage:"Lock editing"}),t.FILE_UNLOCK_ACTION_STRING=n.defineMessage({id:"lIUM0e",defaultMessage:"Unlock editing"}),t.FILE_REQUEST_UNLOCK_ACTION_STRING=n.defineMessage({id:"lIkHQt",defaultMessage:"Ask to unlock"}),t.EVENTS_ACTION_STRING=n.defineMessage({id:"kLiPVQ",defaultMessage:"Events"}),t.CALCULATE_FOLDER_SIZE_ACTION_STRING=n.defineMessage({id:"W7oflT",defaultMessage:"Calculate size"}),t.MANAGE_AS_ADMIN_ACTION_STRING=n.defineMessage({id:"vECsXs",defaultMessage:"View in admin console"}),t.VERSION_HISTORY_ACTION_STRING=n.defineMessage({id:"T/KgJj",defaultMessage:"Version history"}),t.UNPIN_ACTION_STRING=n.defineMessage({id:"UPrzRq",defaultMessage:"Unpin"}),t.PIN_TO_ACTION_STRING=n.defineMessage({id:"BgBbVR",defaultMessage:"Pin to..."}),t.PIN_TO_ROOT_ACTION_STRING=n.defineMessage({id:"XGL6ZT",defaultMessage:"Pin"}),t.RESTORE_ACTION_STRING=n.defineMessage({id:"GQqYaL",defaultMessage:"Restore"}),t.PERMANENT_DELETE_ACTION_STRING=n.defineMessage({id:"KkjU0R",defaultMessage:"Permanently delete"}),t.STAR_ACTION_STRING=n.defineMessage({id:"0BUrj7",defaultMessage:"Star"}),t.UNSTAR_ACTION_STRING=n.defineMessage({id:"5e94v2",defaultMessage:"Unstar"}),t.RE_ADD_SHARED_FOLDER_ACTION_STRING=n.defineMessage({id:"O0cs6d",defaultMessage:"Re-add shared folder"}),t.SHOW_DELETED_FILES_ACTION_STRING=n.defineMessage({id:"SH7HST",defaultMessage:"Show deleted files"}),t.HIDE_DELETED_FILES_ACTION_STRING=n.defineMessage({id:"3H2+TZ",defaultMessage:"Hide deleted files"}),t.ADD_TO_TRANSFER_ACTION_STRING=n.defineMessage({id:"mjG96z",defaultMessage:"Transfer"}),t.SPACES_PROJECTS_RENAME_DROPDOWN_ACTION_STRING=n.defineMessage({id:"0tQPtN",defaultMessage:"Add to project"}),t.SHARE_ACTION_STRING=n.defineMessage({id:"Wi4w+P",defaultMessage:"Share"}),t.SHARE_ALL_SELECTED_ACTION_STRING=n.defineMessage({id:"M9tYme",defaultMessage:"Share all selected"}),t.GO_TO_FOLDER_ACTION_STRING=n.defineMessage({id:"mppZEu",defaultMessage:"Go to folder"}),t.ADD_CONTENT_ACTION_STRING=n.defineMessage({id:"SzVUpr",defaultMessage:"Add"}),t.PREVIEW_ACTION_STRING=n.defineMessage({id:"L+ww/y",defaultMessage:"Preview"}),t.OPEN_MAC_DESKTOP_ACTION_STRING=n.defineMessage({id:"x31E2S",defaultMessage:"Show in Finder"}),t.OPEN_WINDOWS_DESKTOP_ACTION_STRING=n.defineMessage({id:"knPNIT",defaultMessage:"Show in File Explorer"}),t.OPEN_IN_APP_ACTION_STRING=n.defineMessage({id:"dvphCf",defaultMessage:"Open"}),t.EXP_OPEN_IN_APP_ACTION_STRING=n.defineMessage({id:"iJWsRK",defaultMessage:"Open in"}),t.SHARE_COPY_LINK_ACTION_STRING=n.defineMessage({id:"pIM+Sj",defaultMessage:"Copy link"}),t.SHARE_COPY_LINK_ACTION_TOOLTIP=n.defineMessage({id:"z1g0V5",defaultMessage:"Copy shared link"}),t.FOLLOW_ACTION_STRING=n.defineMessage({id:"GNolQQ",defaultMessage:"Follow"}),t.FOLLOWING_ACTION_STRING=n.defineMessage({id:"spCwO+",defaultMessage:"Following"}),t.FILE_CONVERSION_STRING=n.defineMessage({id:"MhWh/C",defaultMessage:"Save as..."}),t.CONVERT_TO_ARCHIVE_ACTION_STRING=n.defineMessage({id:"vruy3+",defaultMessage:"Zip"}),t.CONVERT_TO_PDF_ACTION_STRING=n.defineMessage({id:"hUmw6N",defaultMessage:"Save as PDF"}),t.CHANGE_TO_PDF_FOLDER_STRING=n.defineMessage({id:"EZalFg",defaultMessage:"Change to Auto-PDF folder"}),t.ADD_AUTOMATED_STRING=n.defineMessage({id:"ixEpII",defaultMessage:"Add automation"}),t.CHANGE_TO_UNZIP_FOLDER_STRING=n.defineMessage({id:"slr5SC",defaultMessage:"Change to auto-unzip folder"}),t.TIDY_UP_ACTION_STRING=n.defineMessage({id:"x1f5gL",defaultMessage:"Multi-file organize"}),t.FOLDER_RULES_SETTINGS=n.defineMessage({id:"+ou8Af",defaultMessage:"Folder settings"}),t.ADD_FOLDER_AUTOMATION_STRING=n.defineMessage({id:"0gE6qt",defaultMessage:"Add automation"}),t.EDIT_FOLDER_AUTOMATION_STRING=n.defineMessage({id:"Xrep7o",defaultMessage:"Edit automation"}),t.APPLY_NAMING_CONVENTION_ACTION_STRING=n.defineMessage({id:"zlxWBG",defaultMessage:"Set naming convention"}),t.SEND_FOR_SIGNATURE_ACTION_STRING=n.defineMessage({id:"L7z983",defaultMessage:"Send for signature"}),t.REQUEST_APPROVAL_STRING=n.defineMessage({id:"TF0lEa",defaultMessage:"Request approval"}),t.ACTIVITY_ACTION_STRING=n.defineMessage({id:"hkINWZ",defaultMessage:"Activity"}),t.ACTION_DISABLED_STRING=n.defineMessage({id:"0IftsN",defaultMessage:"You don't have permission to make changes to this file"})})),define("modules/clean/react/action_bar/file_actions/portable/copy",["require","exports","tslib","apex-metrics/index","lodash","modules/clean/file_actions/metrics","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/metrics/index","modules/clean/react/async_fileops_modals","modules/clean/react/async_overquota_modal_controller","modules/clean/react/fileops_actions","modules/clean/react/folder_dialog/api","modules/clean/react/folder_dialog/constants","modules/clean/viewer"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.portableCopy=void 0,i=n.__importStar(i),s=n.__importStar(s),l=n.__importStar(l),d=n.__importStar(d),t.portableCopy=function(e,t){var p=e.currentFQPath,S=e.exceptions,T=e.filesPath,f=e.source,E=e.user,m=e.synchronousSingleFileActions,O=e.createNewFolderInMoveDialog;return void 0===t&&(t={}),n.__awaiter(void 0,void 0,void 0,(function(){var e,I,N,R,y,g,M,v,F;return n.__generator(this,(function(n){return S.isOverFreeQuota&&!S.hasExcludedNsIds?(l.showOverquota("wb_oq_mv_cp"),[2]):(e=c.getMetricsReporter(),I={surface:f,batchSizeBucket:r.bucketForBatchSize(T.length),contentType:r.batchContentType(T),synchronousSingleFileActions:Boolean(m).toString()},N={totalLatency:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"copy/batch/latency_total_ms"},I),averageLatency:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"copy/batch/latency_average_ms"},I),completed:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"copy/batch/completed"},I)},R=0,y=function(e,n){var i;null===(i=t.onSuccess)||void 0===i||i.call(t,e,n),N.totalLatency.recordDuration(Date.now()-R,o.TimeUnit.MILLISECONDS),N.averageLatency.recordDuration((Date.now()-R)/T.length,o.TimeUnit.MILLISECONDS),N.completed.record(1)},g=function(){var e;null===(e=t.onError)||void 0===e||e.call(t),N.totalLatency.recordDuration(Date.now()-R,o.TimeUnit.MILLISECONDS),N.averageLatency.recordDuration((Date.now()-R)/T.length,o.TimeUnit.MILLISECONDS),N.completed.record(0)},M=function(){var e;return null===(e=t.onRequestNotSent)||void 0===e?void 0:e.call(t)},v=function(){var e;return null===(e=t.onUndo)||void 0===e?void 0:e.call(t)},F=function(e,t,n){return R=Date.now(),d.copyFiles({user:E,files:T,onSuccess:y,onRequestNotSent:M,onUndo:v,onError:g,newPath:e,checkFSWs:!0,useApiV2:!0,isLockedVaultFolder:n,synchronousSingleFileActions:m}),Promise.resolve()},s.showMoveDialog({operation:_.Operation.COPY,modalName:a.ModalName.COPY,user:E,apiClient:{moveToFolder:F,getFolderContents:A.Viewer.get_viewer().is_team_assume_user_session?u.getFolderContents:u.getFolderContentsAPIv2,getFolderSuggestion:u.getFolderSuggestion},entries:T,initialFolderSelection:p,onSuccess:i.noop,onCancel:i.noop,showFolderSuggestion:!0,createNewFolderInMoveDialog:O}),[2])}))}))}})),define("modules/clean/react/action_bar/file_actions/portable/delete/delete",["require","exports","tslib","modules/clean/react/action_bar/file_actions/portable/delete/delete_modal","modules/clean/react/files_view/file_actions/api_v2"],(function(e,t,n,o,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.portableDelete=void 0,t.portableDelete=function(e,t){var r=e.user,a=e.filesPath,c=e.fq_path,s=t.onSuccess,l=t.onError,d=t.onNetworkRequest;o.showDeleteFileModal({onConfirm:function(){return n.__awaiter(void 0,void 0,void 0,(function(){var e;return n.__generator(this,(function(t){switch(t.label){case 0:return null==d||d(),[4,i.deleteFiles(a,r.id,!0)];case 1:return(e=t.sent()).isError||"success"!==e.result.entries[0][".tag"]?(null==l||l(e.isError?e:i.createUndefinedRpcResult()),[2]):(null==s||s(),[2])}}))}))},fq_path:c,totalFilesCount:a.length,user:r})}})),define("modules/clean/react/action_bar/file_actions/portable/delete/delete_modal",["require","exports","tslib","dig-components/modal","modules/clean/react/components/modal","react","modules/core/i18n","dig-components/typography","dig-components/buttons","modules/clean/filepath/filepath","modules/clean/react/action_bar/action_bar_strings"],(function(e,t,n,o,i,r,a,c,s,l,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showDeleteFileModal=t.DeleteFileModal=void 0,r=n.__importDefault(r),l=n.__importStar(l),t.DeleteFileModal=function(e){var t,n=e.user,i=e.fq_path,u=e.totalFilesCount,_=e.onConfirm,A=r.default.useState(!0),p=A[0],S=A[1],T=function(){return S(!1)},f=n.is_cdm_member,E=a.intl.formatMessage({id:"FMtrmh",defaultMessage:"{fileCount, plural, one {# file} few {# files} many {# files} other {# files}}"},{fileCount:u}),m=1===u?l.filename(i):E,O=a.intl.formatMessage({id:"yDuoGW",defaultMessage:"Cancel"}),I=a.intl.formatMessage(d.DELETE_ACTION_STRING);return r.default.createElement(o.Modal,{open:p,isCentered:!0,onRequestClose:T},r.default.createElement(o.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},r.default.createElement(c.Title,null,a.intl.formatMessage(d.DELETE_ACTION_STRING))),r.default.createElement(o.Modal.Body,{hasVerticalSpacing:!1,className:"uxa-modal",id:"delete-file-modal"},r.default.createElement(c.Text,null,(t={filename:m,b:function(e){return r.default.createElement(c.Text,{isBold:!0},e)}},f?a.intl.formatMessage({id:"emsobI",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your team member folder?"},t):a.intl.formatMessage({id:"8TOnv7",defaultMessage:"Are you sure you want to delete <b>{filename}</b> from your Dropbox?"},t)))),r.default.createElement(o.Modal.Footer,null,r.default.createElement(s.Button,{variant:"opacity",onClick:T},O),r.default.createElement(s.Button,{variant:"primary",onClick:function(){_(),T()}},I)))},t.showDeleteFileModal=function(e){i.Modal.showInstance(r.default.createElement(t.DeleteFileModal,n.__assign({},e)))}})),define("modules/clean/react/action_bar/file_actions/portable/delete/snackbars",["require","exports","modules/clean/react/files_view/file_actions/snackbars","modules/clean/react/snackbar"],(function(e,t,n,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteFailedSnackBar=t.deleteCompleteSnackBar=t.deleteSnackBarInProgress=void 0,t.deleteSnackBarInProgress=function(e,t){return void 0===t&&(t=1),o.Snackbar.sync(n.deleteInProgress(t),!1,e,!0)},t.deleteCompleteSnackBar=function(e,t){return void 0===t&&(t=1),o.Snackbar.complete(n.deleteCompleteSuccess(t,t),e,!0)},t.deleteFailedSnackBar=function(e,t,i){void 0===i&&(i=1),e.error&&o.Snackbar.fail(n.deleteError(i,e.error),t,!0)}})),define("modules/clean/react/action_bar/file_actions/portable/move",["require","exports","tslib","apex-metrics/index","lodash","modules/clean/file_actions/metrics","modules/clean/logging/hive/schemas/web-modal-activity","modules/clean/metrics/index","modules/clean/react/async_fileops_modals","modules/clean/react/async_overquota_modal_controller","modules/clean/react/fileops_actions","modules/clean/react/folder_dialog/api","modules/clean/react/folder_dialog/constants","modules/clean/viewer"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.portableMove=void 0,i=n.__importStar(i),s=n.__importStar(s),l=n.__importStar(l),d=n.__importStar(d),t.portableMove=function(e,t){var p=e.currentFQPath,S=e.exceptions,T=e.filesPath,f=e.source,E=e.user,m=e.synchronousSingleFileActions,O=e.createNewFolderInMoveDialog,I=e.expEnableSharingNSF;return void 0===t&&(t={}),n.__awaiter(void 0,void 0,void 0,(function(){var e,N,R,y,g,M,v,F,C;return n.__generator(this,(function(n){return S.isOverFreeQuota&&!S.hasExcludedNsIds?(l.showOverquota("wb_oq_mv_cp"),[2]):(e=c.getMetricsReporter(),N={surface:f,batchSizeBucket:r.bucketForBatchSize(T.length),contentType:r.batchContentType(T),synchronousSingleFileActions:Boolean(m).toString()},R={totalLatency:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"move/batch/latency_total_ms"},N),averageLatency:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"move/batch/latency_average_ms"},N),completed:e.createStats({ns:r.FILE_ACTIONS_AMP_NAMESPACE,name:"move/batch/completed"},N)},y=0,g=function(e,n){var i;null===(i=t.onSuccess)||void 0===i||i.call(t,e,n),R.totalLatency.recordDuration(Date.now()-y,o.TimeUnit.MILLISECONDS),R.averageLatency.recordDuration((Date.now()-y)/T.length,o.TimeUnit.MILLISECONDS),R.completed.record(1)},M=function(){var e;null===(e=t.onError)||void 0===e||e.call(t),R.totalLatency.recordDuration(Date.now()-y,o.TimeUnit.MILLISECONDS),R.averageLatency.recordDuration((Date.now()-y)/T.length,o.TimeUnit.MILLISECONDS),R.completed.record(0)},v=function(){var e;return null===(e=t.onRequestNotSent)||void 0===e?void 0:e.call(t)},F=function(){var e;return null===(e=t.onUndo)||void 0===e?void 0:e.call(t)},C=function(e,t,n){return y=Date.now(),d.moveFiles({user:E,files:T,path:"browse"===f?p:void 0,onSuccess:g,onRequestNotSent:v,onUndo:F,onError:M,newPath:e,checkFSWs:!0,isLockedVaultFolder:n,synchronousSingleFileActions:m,expEnableSharingNSF:I}),Promise.resolve()},s.showMoveDialog({operation:_.Operation.MOVE,modalName:a.ModalName.MOVE,user:E,apiClient:{moveToFolder:C,getFolderContents:A.Viewer.get_viewer().is_team_assume_user_session?u.getFolderContents:u.getFolderContentsAPIv2,getFolderSuggestion:u.getFolderSuggestion},entries:T,initialFolderSelection:p,onSuccess:i.noop,onCancel:i.noop,showFolderSuggestion:!0,createNewFolderInMoveDialog:O}),[2])}))}))}})),define("modules/clean/react/browse/browse_action_toolbar_v2",["require","exports","tslib","react","classnames","react-redux","typescript/component_libraries/retrieval-components/src/simple-action-bar/index","typescript/component_libraries/retrieval-components/src/simple-action-bar/action_bar_types","modules/clean/react/action_bar/file_actions/file_actions","modules/clean/react/browse/action_logger","modules/clean/react/browse/browse_actions/browse_actions","modules/clean/react/browse/browse_upload_controller","modules/clean/react/browse/data/selectors","modules/clean/react/browse/logger_util","modules/clean/web_user_action_events","modules/core/i18n","modules/clean/react/folder_subscriptions/data/folder_subscription_controller","modules/clean/react/browse/browse_view_mode_toggle","modules/clean/react/browse/browse_sharing_view","modules/clean/react/growth/open_in_mobile_modal_controller","modules/clean/react/file_info/utils","modules/clean/react/browse/selection_indicator","modules/clean/react/browse/data/action_creators/index","modules/constants/global_file_upload"],(function(e,t,n,o,i,r,a,c,s,l,d,u,_,A,p,S,T,f,E,m,O,I,N,R){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BrowseActionToolbarV2=t.getActionBarActions=void 0,o=n.__importDefault(o),i=n.__importDefault(i),l=n.__importStar(l),_=n.__importStar(_);var y=d.createBrowseActionBarAccessibilityConfigSelector(),g={selectedFilesSelector:_.selectedFiles,userSelector:_.user,contextSelector:_.context,overQuotaDataSelector:d.overQuotaDataSelector,experimentSelector:d.experimentSelector,isSearchMode:!1,actionSurface:p.ActionSurfaceLogValue.ACTION_BAR,currentFolderInfo:_.getCurrentFolderInfo,flowsFolderRule:_.flowsFolderRule,browsePostTTIData:_.browsePostTTIData,browsePostTTIExperiments:_.browsePostTTIExperiments,hasLinkedMobile:_.hasLinkedMobile,accessibilityConfig:function(e){return y(e,g)},rightRailCollapsedState:_.isRightRailCollapsed,flowsFolderRulesConfig:_.getFlowsFolderRulesConfig,isInsideBackupFolder:_.isInsideBackupFolder,isSelectedBackupFolder:_.isSelectedBackupFolder},M=d.getBrowseFileActionSelectors();t.getActionBarActions=s.createActionBarActionSelector();var v={handleAction:s.actionHandler,handleActionMenuToggle:s.actionMenuToggleHandler,setOverflowMenuCoordinates:N.setOverflowMenuCoordinates,setOverflowMenuOpenRequest:N.setOverflowMenuOpenRequest,setOverflowMenuCloseRequest:N.setOverflowMenuCloseRequest,setCreateMenuOpenRequest:N.setCreateMenuOpenRequest},F=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={overflowMenuOpenRequest:void 0},t.actionHandler={handleAction:function(e,n){e.event.stopPropagation(),g.actionSurface=n?p.ActionSurfaceLogValue.RIGHT_CLICK_MENU:p.ActionSurfaceLogValue.OVERFLOW_MENU,t.props.handleAction(e,g,d.BrowseFileActionHandlers)},handleMenuToggle:function(e){var n=e.type,o=e.isOpen;t.props.handleActionMenuToggle({type:n,isOpen:o},g,d.BrowseActionMenuToggleHandlers)}},t.onOverflowMenuToggle=function(e){if(e.isOpen){var n=A.countFilesAndFolders(t.props.selectedFiles),o=n.num_files_selected,i=n.num_folders_selected;l.logBrowseAction({uid:t.props.user.id,action:p.WebUserActionLogEvent.OPEN_OVERFLOW_MENU,num_files_selected:o,num_folders_selected:i,action_surface:t.props.overflowMenuCoordinates?p.ActionSurfaceLogValue.RIGHT_CLICK_MENU:p.ActionSurfaceLogValue.ACTION_BAR}),t.props.setOverflowMenuCloseRequest()}else t.props.setOverflowMenuCoordinates(),t.props.setOverflowMenuCloseRequest()},t.resetOverflowMenuCoordinates=function(e){t.props.overflowMenuCoordinates&&(t.props.setOverflowMenuCoordinates(),t.props.setOverflowMenuCloseRequest({autoFocus:!1}))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.browseActionBarActions,r=t.uploadAjaxInterceptor,s=t.accessibilityConfig,l=t.responsive,d=t.path,_=t.selectedFiles,A=t.user,p=t.showSharingView,O=t.withoutFolderOverviewAbove,N=t.selectedOrCurrentFolder,y=t.showBrowseViewToggle,g=t.overflowMenuTitle,M=t.expActionBarRedesignVariant,v=t.canShowSelectionIndicatorInToolbar,F=t.isRightRailCollapsed,C=t.overflowMenuOpenRequest,b=t.overflowMenuCloseRequest,h=t.overflowMenuCoordinates,L=t.createMenuOpenRequest,D=t.setCreateMenuOpenRequest,w=l.isResponsive?l.isMatchedLarge?c.ResponsiveSize.DESKTOP:l.isMatchedMedium?c.ResponsiveSize.TABLET:c.ResponsiveSize.MOBILE:c.ResponsiveSize.DESKTOP,B=v?o.default.createElement("div",{className:"family-brws-selection-view-mode-container"},o.default.createElement(I.SelectionIndicator,{responsive:l,selectedFilesCount:_.size,rightRailCollapsed:F}),o.default.createElement(f.BrowseViewModeToggle,{user:A,className:"brws-action-toolbar-view-mode-toggle"})):o.default.createElement(f.BrowseViewModeToggle,{user:A,className:"brws-action-toolbar-view-mode-toggle"}),P="OFF"!==R.FILE_UPLOAD_VARIANT&&"CONTROL"!==R.FILE_UPLOAD_VARIANT,G=w===c.ResponsiveSize.MOBILE,H=!P||G;return o.default.createElement("div",{className:i.default("brws-action-toolbar",{"brws-action-toolbar--without-folder-overview":O}),style:{width:this.props.fixedWidth},onClick:this.resetOverflowMenuCoordinates},H&&o.default.createElement(u.BrowseUploadController,{uploadAjaxInterceptor:r}),o.default.createElement(T.FolderSubscriptionController,{path:d,selectedFiles:_}),o.default.createElement(a.ActionBar,{className:"brws-action-toolbar-actionbar",actionHandler:this.actionHandler,actions:n,intl:S.intl,responsive:!0,responsiveSize:w,accessibilityConfig:s,handleOverflowMenuToggle:this.onOverflowMenuToggle,overflowMenuOpenRequest:C,overflowMenuCloseRequest:b,overflowMenuTitle:g,expActionBarRedesignVariant:M,overflowMenuCoordinates:h,hideOverflowMenuHeader:!1,resolveOverflowMenuOpenRequest:function(){e.props.setOverflowMenuOpenRequest(void 0)},canShowSelectionIndicatorInToolbar:v,createMenuOpenRequest:L,resolveCreateMenuOpenRequest:function(){D()}}),p&&o.default.createElement("div",{className:"brws-action-toolbar-sharing-view-container"},o.default.createElement(E.BrowseSharingView,{useCompactMode:w!==c.ResponsiveSize.DESKTOP})),y&&B,o.default.createElement(m.OpenInMobileModalController,{folder:N}))},t.displayName="BrowseActionToolbarController",t})(o.default.Component),C=r.connect((function(e,n){var o=_.user(e),i=_.context(e),r=_.selectedFiles(e).toList(),a=O.getTitle(r,o,i,S.intl),c=n.responsive.isResponsive&&!n.responsive.isMatchedLarge&&!n.responsive.isMatchedMedium,s=n.responsive.isResponsive&&!n.responsive.isMatchedLarge&&n.responsive.isMatchedMedium,l=c?d.BrowseMobileFileActionSelectors:s?d.BrowseTabletFileActionSelectors:M,u=g.accessibilityConfig?g.accessibilityConfig(e):void 0,A=g.selectedFilesSelector(e),p=1===A.count()&&A.first().is_dir?A.first():g.currentFolderInfo(e);return{browseActionBarActions:t.getActionBarActions(e,g,l,d.getBrowseScenarioActions),user:o,accessibilityConfig:u,selectedFiles:_.selectedFiles(e),path:_.path(e),showBrowseViewToggle:_.showBrowseViewToggleInToolbar(e),showSharingView:_.showShareViewInToolbar(e,n.responsive),fileActionsExperiments:g.experimentSelector(e),selectedOrCurrentFolder:p,overflowMenuTitle:a,expActionBarRedesignVariant:_.expActionBarRedesignVariant(e),canShowSelectionIndicatorInToolbar:_.showSelectionIndicatorInToolbar(e),isRightRailCollapsed:_.isRightRailCollapsed(e),overflowMenuOpenRequest:_.overflowMenuOpenRequest(e),overflowMenuCloseRequest:_.overflowMenuCloseRequest(e),overflowMenuCoordinates:_.overflowMenuCoordinates(e),createMenuOpenRequest:_.createMenuOpenRequest(e)}}),v);t.BrowseActionToolbarV2=C(F)})),define("modules/clean/react/maestro_nav/files_nav/nav_with_upload_provider",["require","exports","tslib","react","modules/clean/flux/dispatcher","modules/clean/react/file_uploader/constants","modules/clean/react/file_uploader/upload_controller","modules/clean/react/file_uploader/upload_kit_provider","modules/clean/react/maestro_nav/files_nav/nav_action_bar","modules/clean/web_timing_logger"],(function(e,t,n,o,i,r,a,c,s,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavWithUploadProvider=void 0,o=n.__importDefault(o);t.NavWithUploadProvider=function(t){(function(e){void 0===e&&(e=function(){});var t=o.default.useState(!1),n=t[0],i=t[1];n||(e(),i(!0))})((function(){i.Dispatcher.dispatch({type:r.UploaderActionType.SET_USER,data:{user:t.user}})}));var d=o.default.useState(!1),u=d[0],_=d[1],A=o.default.useState(void 0),p=A[0],S=A[1],T=o.default.useState(""),f=T[0],E=T[1];return o.default.useEffect((function(){n.__awaiter(void 0,void 0,void 0,(function(){var t,o,i;return n.__generator(this,(function(r){switch(r.label){case 0:return[4,l.waitForTTI()];case 1:return r.sent(),[4,new Promise((function(t,n){e(["modules/clean/react/maestro_nav/post_tti/interface"],t,n)})).then(n.__importStar)];case 2:return[4,r.sent().getPostTTIProps()];case 3:return t=r.sent(),o=t.uploaderPostTTIExperiments,i=t.permissionsAtUploadModalProps,_(!0),S(o),E(i.autoTeamGroupId),[2]}}))}))}),[]),o.default.createElement(c.UploadKitProvider,{user:t.user,chooseDestination:!0},o.default.createElement(a.UploadController,{autoTeamGroupId:f,isPostTTI:u,uploaderPostTTIExperiments:p,user:t.user}),o.default.createElement("div",{className:"maestro-nav__action-bar"},o.default.createElement(s.NavActionBar,{isEnabled:!0,showAutomatedFolderCreate:!0,showOnlyFolderCreation:!1,showSharedFolderCreate:!0,showTeamFolderCreate:!1,user:t.user})),t.navElement)}}));
//# sourceMappingURL=pkg-action-bar.min.js-vfltEmD5u.map