define(["require","exports","tslib","react","modules/core/i18n","dig-components/menu","dig-components/icons/src","dig-components/icons","file-viewer/core/logging/constants","file-viewer/comments2/plugin/index","typescript/component_libraries/flows/src/components/approval-forms/index","modules/clean/react/browse/action_logger","modules/clean/web_user_action_events","modules/clean/filepath/filepath"],(function(e,t,i,o,n,r,s,l,a,c,f,u,p,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeRequestApprovalLoader=t.getOverflowItem=t.REQUEST_APPROVAL_ACTION_PLUGIN_ID=void 0,o=i.__importDefault(o),t.REQUEST_APPROVAL_ACTION_PLUGIN_ID="REQUEST_APPROVAL_ACTION",t.getOverflowItem=function(e,t,i,a){return o.default.createElement(r.Menu.ActionItem,{key:"request-approval-action",withLeftAccessory:o.default.createElement(l.UIIcon,{src:s.ThumbsUpLine}),withTitle:n.intl.formatMessage({id:"o2BfZf",defaultMessage:"Request approval"}),onClick:function(){f.setRequestApproval(),a(),i({action:"request-approval-action",context:"preview_workflows_button"}),u.logApprovalActions({user_id:t.id,event_name:p.WebUserActionLogEvent.REQUEST_APPROVAL_CLICK,action_surface:"previews_workflow_dropdown",file_sjid:e.sjid,file_nsid:e.ns_id,file_id:e.file_id,file_extension:"ext"in e?e.ext:_.file_extension_for_logging(e.filename),file_path:"fq_path"in e?e.fq_path:void 0})}})},t.makeRequestApprovalLoader=function(e,i){return function(){var o=(function(){function o(t){var i=this;this.lifecycle={previewDidRender:function(){i.actionDefinitions=i.requestApprovalDefinition(e())}},this.actionDefinitions=this.requestApprovalDefinition(e()),this.context=t}return o.prototype.requestApprovalDefinition=function(e){var o=this;return{categories:{workflows:[{overflowItem:t.getOverflowItem(e.file,i,(function(e){return o.context.logUserAction(e)}),(function(){o.context.getPluginData().navigation.openRightRailPlugin(a.UserActionContext.Toolbar,c.COMMENTS_PLUGIN_ID)}))}]}}},o})();return Promise.resolve(o)}}}));
//# sourceMappingURL=request_approval_plugin.min.js-vflmhDF_k.map