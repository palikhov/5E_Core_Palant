define(["require","exports","tslib","dig-components/modal","modules/clean/react/components/modal","react","modules/core/i18n","ts-key-enum","dig-components/typography","dig-components/buttons","dig-components/text_fields","dig-components/icons/src","dig-components/icons","modules/clean/file_actions/strings","modules/clean/react/action_bar/action_bar_strings"],(function(e,t,n,a,l,o,r,i,u,d,c,s,m,f,g){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showRenameFileModal=t.RenameFileModal=void 0,o=n.__importDefault(o),t.RenameFileModal=function(e){var t=e.currentName,n=e.onConfirm,l=o.default.useRef(null),p=o.default.useState(!0),E=p[0],M=p[1],_=o.default.useState(t),v=_[0],y=_[1];o.default.useEffect((function(){window.requestAnimationFrame((function(){if(l.current){l.current.focus();var e=t,n=e.lastIndexOf(".");n<0&&(n=e.length),l.current.setSelectionRange(0,n)}}))}),[]);var R=function(){return M(!1)},h=function(e){return-1===e.indexOf("/")},I=h(v),F=function(){n(v),R()};return o.default.createElement(o.default.Fragment,null,o.default.createElement(a.Modal,{open:E,isCentered:!0,onRequestClose:R},o.default.createElement(a.Modal.Header,{hasBottomSpacing:"title-standard",className:"naming-conventions__header"},o.default.createElement(u.Title,null,r.intl.formatMessage(g.RENAME_ACTION_STRING))),o.default.createElement(a.Modal.Body,null,o.default.createElement("div",{style:{height:"80px"}},o.default.createElement(c.FormRow,null,o.default.createElement(c.TextInput,{ref:l,type:"text",id:"create-rename-modal-input",value:v,isInvalid:!I,onChange:function(e){y(e.currentTarget.value),h(e.currentTarget.value)},"aria-describedby":"rename-modal-input-helper",onKeyDown:function(e){e.key===i.Key.Enter&&F()}}),!I&&o.default.createElement(c.FormHelperText,{id:"rename-modal-input-helper",isInvalid:!0},o.default.createElement(m.UIIcon,{src:s.WarningLine,size:"small"})," ",r.intl.formatMessage(f.renameErrorInvalidName))))),o.default.createElement(a.Modal.Footer,null,o.default.createElement(d.Button,{variant:"opacity",onClick:R},r.intl.formatMessage({id:"OHzWOE",defaultMessage:"Cancel"})),o.default.createElement(d.Button,{variant:"primary",disabled:!I,onClick:F},r.intl.formatMessage(g.RENAME_ACTION_STRING)))))},t.showRenameFileModal=function(e){l.Modal.showInstance(o.default.createElement(t.RenameFileModal,n.__assign({},e)))}}));
//# sourceMappingURL=rename_modal.min.js-vflO8C8vx.map