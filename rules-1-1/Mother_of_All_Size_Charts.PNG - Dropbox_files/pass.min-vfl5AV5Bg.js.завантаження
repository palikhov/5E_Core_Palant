define(["require","exports","tslib","modules/clean/react/pass/beacon_presence_helpers","file-viewer/pass/types","modules/clean/react/pass/types"],(function(e,n,i,a,s,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getPresenceBeaconIOClient=void 0;var r=function(e,n){return Object.keys(e).map((function(e){return{agent:{userId:e},info:{status:n?s.PresenceStatus.viewer:s.PresenceStatus.offline}}}))};n.getPresenceBeaconIOClient=function(e,n){var s=function(){};return{subscribe:function(i,r){var t,l=n(),c=(null==l?void 0:l.file.file_id)===i?null===(t=null==l?void 0:l.sharedLinkInfo)||void 0===t?void 0:t.url:void 0,u=new o.BeaconFileData(i,c);a.BeaconPresenceHelpers.receiveBeaconData({beaconFileData:u,onUpdate:s,previewSessionId:r,user:e}),a.BeaconPresenceHelpers.transmitBeaconData({prevBeaconFileData:null,beaconFileData:new o.BeaconFileData(i,c),previewSessionId:r,user:e})},unsubscribe:function(i){var s,r=n(),t=(null==r?void 0:r.file.file_id)===i?null===(s=null==r?void 0:r.sharedLinkInfo)||void 0===s?void 0:s.url:void 0;a.BeaconPresenceHelpers.shutdown({beaconFileData:new o.BeaconFileData(i,t),user:e,async:!0})},onBeacon:function(e){s=function(n,a,s){var o={events:i.__spreadArrays(r(n.onlineUniqueUsers,!0),r(n.offlineUniqueUsers,!1)),fileId:s.fileId};e(o,"snapshot"===n.type)}}}}}));
//# sourceMappingURL=pass.min.js-vflkzcFE4.map