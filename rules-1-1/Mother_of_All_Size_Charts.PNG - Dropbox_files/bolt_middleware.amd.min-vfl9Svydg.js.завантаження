define(["require","exports","typescript/component_libraries/files_components/src/blades/comments/data/actions","api_v2/redux/comments2"],(function(n,e,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.middleware=void 0;e.middleware=function(n){return function(e){var o=e.dispatch,r=e.getState;return n.onSignal((function(n){n.updatedChannels.filter((function(n){return"comments2"===n.channelId.appId})).map((function(n){var e=r().boltInfo.boltUniqueIdToStream[n.channelId.uniqueId];e&&o(t.listCommentsAction({arg:{include_permissions:!0,stream:e}}))}))})),function(e){return function(t){switch(t.type){case i.Action.BoltSubscribe:n.subscribe(t.payload.map((function(n){return{channelId:{appId:n.app_id,uniqueId:n.unique_id},revisionInfo:{revision:+n.revision,token:n.token}}})));break;case i.Action.BoltUnsubscribe:n.unsubscribe(t.payload.map((function(n){return{channelId:{appId:n.app_id,uniqueId:n.unique_id},revisionInfo:{revision:+n.revision,token:n.token}}})))}return e(t)}}}}}));
//# sourceMappingURL=bolt_middleware.amd.min.js-vfl5_R8QI.map