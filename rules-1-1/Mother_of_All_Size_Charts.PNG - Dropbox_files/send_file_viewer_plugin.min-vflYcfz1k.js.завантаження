define(["require","exports","tslib","react","modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons","dig-components/menu","modules/clean/integrations/hellosign_deep_integration/launcher","modules/core/i18n"],(function(e,n,t,i,r,o,u,s,c,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeSendForSignatureLoader=n.getOverflowItem=n.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID=void 0,i=t.__importDefault(i),n.SEND_FOR_SIGNATURE_ACTION_PLUGIN_ID="SEND_FOR_SIGNATURE_ACTION",n.getOverflowItem=function(e,n,f){if(c.HELLOSIGN_SUPPORTED_EXTENSIONS.includes("."+r.getExtension(e))){var l=function(e){f({action:"send_for_signature_"+e,context:"preview_workflows_button"})},_=function(e){f({action:"send_for_signature_failure",context:"preview_workflows_button",reason:e})};return i.default.createElement(s.Menu.ActionItem,{key:"send-for-signature-action",withLeftAccessory:i.default.createElement(u.UIIcon,{src:o.SignatureLine}),withTitle:a.intl.formatMessage({id:"X1C5SI",defaultMessage:"Send for signature"}),onClick:function(){return t.__awaiter(void 0,void 0,void 0,(function(){var i;return t.__generator(this,(function(t){if(l("click"),!n)return _("invalid_user"),[2];if(!e||!r.isBrowseFile(e))return _("invalid_file"),[2];try{(i=c.getLauncher()).init({entryPoint:"file_preview_workflows_tab",file:e,user:n}),i.launch(),l("launched")}catch(e){_("launcher_error")}return[2]}))}))}})}},n.makeSendForSignatureLoader=function(e,t){return function(){var i=(function(){function i(n){var t=this;this.lifecycle={previewDidRender:function(){t.actionDefinitions=t.sendForSignatureDefinition(e())}},this.actionDefinitions=this.sendForSignatureDefinition(e()),this.context=n}return i.prototype.sendForSignatureDefinition=function(e){var i=this;return{categories:{workflows:[{overflowItem:n.getOverflowItem(e.file,t,(function(e){return i.context.logUserAction(e)}))}]}}},i})();return Promise.resolve(i)}}}));
//# sourceMappingURL=send_file_viewer_plugin.min.js-vflbykZ3E.map