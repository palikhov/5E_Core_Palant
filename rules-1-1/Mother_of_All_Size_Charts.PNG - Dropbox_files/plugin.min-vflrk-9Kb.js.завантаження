define(["require","exports","tslib","react","react-redux","file-viewer/watermarking/plugin/selectors","file-viewer/watermarking/plugin/components/index","file-viewer/watermarking/plugin/redux/index","file-viewer/core/index"],(function(e,t,i,r,n,a,l,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WatermarkingPlugin=t.WATER_MARKING_PLUGIN_ID=void 0,r=i.__importDefault(r),t.WATER_MARKING_PLUGIN_ID="water_marking";var c=function(e,t,i){var c=this;this.layerUI={Layer:function(e){return"image"===e.previewType||"ssr_doc"===e.previewType||"cloud_doc"===e.previewType?r.default.createElement(n.Provider,{store:c.store},r.default.createElement(l.WatermarkingLayer,Object.assign({context:c.context},e))):null}},this.editUI={Sidebar:function(e){return r.default.createElement(n.Provider,{store:c.store},r.default.createElement(l.WatermarkingPane,Object.assign({intl:c.platform.intl,context:c.context},e)))}},this.lifecycle={previewDidInitialize:function(){var e=(0,c.context.getPluginData)().file;e&&a.isSupportedPreviewType(s.getFileExtension(null==e?void 0:e.name))?c.context.enableSelf():c.context.disableSelf()},pluginDidActivate:function(){var e=c.context,t=e.fileViewerId,i=e.getFilePreviewSessionId,r=(0,e.getPluginData)(),n=r.previewType,a=r.file;c.store.dispatch(o.initializeWatermarkPlugin({file:a,fileViewerId:t,filePreviewSessionId:i(),previewType:n})),c.store.dispatch(o.logEvent({fileViewerId:t,eventName:"watermark_enable"}))}},this.mode={type:"edit",titlePrefix:"Watermarking"},this.platform=e,this.context=t,this.store=i,this.context.disableSelf()};t.WatermarkingPlugin=c}));
//# sourceMappingURL=plugin.min.js-vflQlKRCl.map