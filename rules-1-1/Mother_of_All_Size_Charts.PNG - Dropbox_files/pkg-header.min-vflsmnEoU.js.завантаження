define("modules/clean/react/maestro/layout/pagelet_top_menu_container",["require","exports","tslib","react","modules/clean/react/maestro/components/header_portal","modules/clean/react/maestro/layout/header_conditions","modules/clean/viewer","modules/clean/react/maestro/layout/global_header/header"],(function(e,t,a,r,o,n,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootComponent=t.PageletTopMenuContainer=void 0,r=a.__importDefault(r),t.PageletTopMenuContainer=function(e){var t=e.userId,i=l.Viewer.get_viewer(),u=i.get_user_by_id(t),d=n.showAccountMenu(i,u);return r.default.createElement(o.MaestroPortal,{element:o.MaestroPortalElement.GLOBAL_HEADER},r.default.createElement(s.DigHeader,a.__assign({},e,{user:u,isLoggedInUser:d})))},t.PageletTopMenuContainer.displayName="PageletTopMenuContainer",t.PageletTopMenuContainer.displayName="PageletTopMenuContainer",t.RootComponent=function(e){return r.default.createElement(t.PageletTopMenuContainer,a.__assign({},e))}})),define("modules/clean/react/waffle/navigation_tracker",["require","exports","tslib","modules/clean/growth/user_action/tracker"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationActions=t.NavigationTracker=void 0;var o=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.project="navigation",t}return a.__extends(t,e),t})(r.GrowthUserActionTracker);t.NavigationTracker=o,(function(e){e.WAFFLE_FIRST_VIEW_IMPRESSION="waffle_first_view_impression",e.WAFFLE_FIRST_VIEW_DISMISS="waffle_first_view_dismiss",e.WAFFLE_TOOLTIP_IMPRESSION="waffle_tooltip_impression",e.WAFFLE_TOOLTIP_DISMISS="waffle_tooltip_dismiss",e.WAFFLE_NEW_BADGE_DISMISS="waffle_new_badge_dismiss"})(t.NavigationActions||(t.NavigationActions={}))})),define("modules/clean/react/waffle/waffle_contents",["require","exports","tslib","api_v2/user_client","modules/clean/react/waffle/navigation_tracker","modules/constants/page_load"],(function(e,t,a,r,o,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.waffleItemTranslate=t.fetchWaffleContents=t.getWaffleOnboardingTracker=void 0,t.getWaffleOnboardingTracker=function(e){return new o.NavigationTracker(e)},t.fetchWaffleContents=function(e){return(new r.UserApiV2Client).ns("design_systems_waffle").rpc("get_waffle",{locale:n.USER_LOCALE,has_groups:!0},{subjectUserId:e})},t.waffleItemTranslate=function(e){return a.__assign(a.__assign({id:e.id||"",title:e.title||"",subtitle:e.subtitle||"",href:e.href||"",badge:e.badge},e.icon?{icon:e.icon}:{iconTag:e.icon_tag||""}),{className:e.class_name||""})}})),define("modules/clean/react/waffle/web_waffle",["require","exports","tslib","react","modules/clean/react/waffle/waffle_contents","modules/clean/react/components/css","dig-components/global_header","react-intl","modules/core/exception"],(function(e,t,a,r,o,n,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebWaffle=t.waffleMenuTriggerLabel=void 0,r=a.__importDefault(r),t.waffleMenuTriggerLabel=s.defineMessage({id:"1kA3hZ",defaultMessage:"Apps Menu"});var u=function(e){var a=e.className,n=e.userId,u=e.inverse,d=r.default.useState(),c=d[0],m=d[1],p=s.useIntl();r.default.useEffect((function(){o.fetchWaffleContents(n).then(m).catch((function(e){return i.reportStack("failed to fetch waffle contents. Status "+e.raw.status+", response: "+e.raw.responseBody,{severity:i.SEVERITY.NONCRITICAL})}))}),[n]);var f=r.default.useCallback((function(e){var t=e.href;window.open(t)}),[]),_=r.default.useMemo((function(){return c&&c.items?c.items.map(o.waffleItemTranslate):[]}),[c]),g=r.default.useMemo((function(){return c&&c.groups?c.groups.filter((function(e){return e.items&&e.items.length>0})).map((function(e){return{title:e.title,items:e.items.map(o.waffleItemTranslate)}})):[]}),[c]);return r.default.createElement(l.GlobalHeader.Waffle,{className:a,items:_,groups:g,onSelection:f,hasMaxHeight:488,menuTriggerAriaLabel:p.formatMessage(t.waffleMenuTriggerLabel),inverse:u})};u.displayName="WebWaffleNoCss",t.WebWaffle=n.requireCssWithComponent(u,["/static/css/dig-components/index.web-vflfsfj-g.css","/static/js/typescript/component_libraries/retrieval-components/src/index.web-vfldw1cUu.css"])})),define("modules/clean/react/help_icon",["require","exports","tslib","react","dig-components/icons","dig-components/icons/src","dig-components/buttons","modules/core/i18n"],(function(e,t,a,r,o,n,l,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HelpIcon=void 0,r=a.__importDefault(r),t.HelpIcon=function(e){var t=e.helpHref,i=e.className,u=e.onClick,d=a.__rest(e,["helpHref","className","onClick"]);return r.default.createElement("div",a.__assign({className:i},d),r.default.createElement(l.IconButton,{className:"help-button",variant:"transparent","data-link-id":"help","data-ux-log":"help-dropdown__help_center-click","aria-label":s.intl.formatMessage({id:"muFB6o",defaultMessage:"Get help"}),onClick:function(e){u&&u(e),window.open(t,"_blank","noreferrer")}},r.default.createElement(o.UIIcon,{src:n.HelpLine,size:"standard"})))},t.HelpIcon.displayName="HelpIcon"})),define("modules/clean/react/maestro/layout/global_header/header",["require","exports","tslib","react","classnames","modules/clean/react/components/css","dig-components/global_header","dig-components/menu","dig-components/logos","dig-components/layer","modules/clean/viewer","modules/clean/react/waffle/web_waffle","modules/clean/react/account_menu/account_menu","modules/clean/react/user_notifications/dropdown","modules/clean/react/help_icon","modules/clean/react/onboarding_survey/lib/oa_pulsar_campaigns","modules/clean/upsell/prompt_event_emitter","modules/clean/analytics","modules/clean/react/maestro/layout/global_header/context","modules/clean/react/maestro/layout/global_header/events","react-intl","modules/core/i18n","modules/clean/react/async/loadable","modules/clean/web_timing_logger","modules/clean/react/edison/router_utils"],(function(e,t,a,r,o,n,l,s,i,u,d,c,m,p,f,_,g,h,v,b,w,y,E,k,S){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DigHeader=t.DigHeaderWithoutCSS=void 0,r=a.__importDefault(r),o=a.__importDefault(o);var P=E.Loadable({displayName:"AsyncPromptUtilityNavContainer",loader:function(){return a.__awaiter(void 0,void 0,void 0,(function(){return a.__generator(this,(function(t){switch(t.label){case 0:return[4,k.waitForTTI()];case 1:return t.sent(),[4,new Promise((function(t,a){e(["modules/clean/react/maestro/layout/global_header/prompt_utility_nav_container"],t,a)})).then(a.__importStar)];case 2:return[2,t.sent().PromptGhUtilityNavContainer]}}))}))}});t.DigHeaderWithoutCSS=function(e){var t,n,E=d.Viewer.get_viewer(),k=E.get_user_by_id(e.user.id),W=r.default.useState({shouldLoadSearchInGH:!1}),C=W[0],I=W[1],M=r.default.useState({headerLinkProps:void 0,headerBubbleProps:void 0}),T=M[0],G=M[1],H=r.default.useState("OFF"),N=H[0],L=H[1];return r.default.useEffect((function(){if(!S.shouldUseReactRouter())return b.globalHeaderBufferedEventEmitter.emit(b.SEARCH_REQUEST_PROPS,C),b.globalHeaderBufferedEventEmitter.on(b.SEARCH_SET_PROPS,(function(e){I(a.__assign({},e))})),function(){b.globalHeaderBufferedEventEmitter.removeListener(b.SEARCH_SET_PROPS)}}),[]),r.default.useEffect((function(){g.promptBufferedEventEmitter.on(g.Events.ON_PROMPT_PROPS_SET,(function(e){var t,a;G(e),L((null===(t=e.headerLinkProps)||void 0===t?void 0:t.promptDigGhButton)||(null===(a=e.headerBubbleProps)||void 0===a?void 0:a.promptDigGhButton)||"OFF")}))}),[]),r.default.createElement(u.LayerContext.Provider,{value:100},r.default.createElement("span",{className:o.default("global-header__meta-wrapper",{"global-header__meta-with-search":C.shouldLoadSearchInGH})},r.default.createElement(l.GlobalHeader.Wrapper,null,r.default.createElement(w.RawIntlProvider,{value:y.intl},e.isLoggedInUser&&r.default.createElement(c.WebWaffle,{className:o.default("oa-pulsar-effect",_.OAPulsarAction.WAFFLE),userId:e.user.id}),r.default.createElement(l.GlobalHeader.Logo,{src:(null===(t=e.productInfo)||void 0===t?void 0:t.logo)||i.FssWordmark,href:(null===(n=e.productInfo)||void 0===n?void 0:n.href)||"/"}),r.default.createElement(l.GlobalHeader.LocalNavigation,{mobileTriggerProps:{onClick:function(){b.globalHeaderBufferedEventEmitter.emit(b.NAV_TRIGGER_CLICK,void 0)}}}),r.default.createElement("span",{className:"global-header__utilities"},C.shouldLoadSearchInGH?C.overrideSearchBar:e.searchComponent||r.default.createElement("div",{className:"global-header-exp__search-placeholder"}),r.default.createElement(l.GlobalHeader.UtilityNav,null,r.default.createElement(v.GlobalHeaderPromptContext.Provider,{value:{variant:N}},["V1","V2"].includes(N)&&r.default.createElement(P,a.__assign({},T)),e.helpDropdownGlobalHeader?r.default.createElement(l.GlobalHeader.Help,{triggerProps:{"data-uxa-log":"select_help"}},r.default.createElement(s.Menu.Segment,null,r.default.createElement(s.Menu.LinkItem,{href:e.user.is_team_admin?"/team/admin/help":"/help",onClick:function(e){return h.TeamsWebActionsLogger.log("footer_button_clicked",{button_id:e.currentTarget.dataset.linkId})},"data-uxa-log":"help-dropdown__help_center-click","data-testid":"standard-help",tagName:"a"},y.intl.formatMessage({id:"y9kBOG",defaultMessage:"Help Center"})),r.default.createElement(s.Menu.LinkItem,{href:"https://www.dropboxforum.com",target:"_blank",tagName:"a","data-uxa-log":"help-dropdown__community-click"},y.intl.formatMessage({id:"qjg0sx",defaultMessage:"Community"})))):r.default.createElement(f.HelpIcon,{"data-testid":"standard-help","data-uxa-log":"select_help",helpHref:e.user.is_team_admin?"/team/admin/help":"/help",onClick:function(e){return h.TeamsWebActionsLogger.log("footer_button_clicked",{button_id:e.currentTarget.dataset.linkId})}}),!k.is_guest_admin&&r.default.createElement(p.UserNotificationsDropdown,null),e.isLoggedInUser&&r.default.createElement(m.AccountMenu,{user:e.user,viewer:E,showAutomationsLink:e.showAutomationsLink}),["V3","V4"].includes(N)&&r.default.createElement(P,a.__assign({},T)))))))))},t.DigHeaderWithoutCSS.displayName="DigHeaderWithoutCSS",t.DigHeader=n.requireCssWithComponent(t.DigHeaderWithoutCSS,["/static/css/dig-components/index.web-vflfsfj-g.css"]),t.DigHeader.displayName="DigHeader"})),define("modules/clean/react/maestro/layout/header_conditions",["require","exports"],(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.showAccountMenu=void 0,t.showAccountMenu=function(e,t){return!e.is_team_assume_user_session&&!t.is_guest_admin}})),define("modules/clean/react/maestro/layout/nonpagelet_header",["require","exports","tslib","react","modules/clean/react/components/css","modules/clean/viewer","modules/clean/react/maestro/layout/global_header/header","modules/clean/react/maestro/layout/header_conditions","modules/clean/search/single_page/input/wrapper"],(function(e,t,a,r,o,n,l,s,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NonPageletMaestroHeader=void 0;var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.getUser=function(){var e=n.Viewer.get_viewer().get_users();if(0===e.length)throw new Error("No logged in user detected. This header can only be used with a logged in user.");return e[0]},t.prototype.render=function(){var e=this.getUser(),t=s.showAccountMenu(n.Viewer.get_viewer(),e);return r.default.createElement(l.DigHeader,a.__assign({},this.props,{user:this.getUser(),searchComponent:this.props.searchVariant?r.default.createElement(i.SearchInput,{variant:this.props.searchVariant,user:e}):void 0,isLoggedInUser:t}))},t.defaultProps={searchVariant:null,isSearchBarExpanded:!1},t.displayName="NonPageletMaestroHeader",t})((r=a.__importDefault(r)).default.Component),d=o.requireCssWithComponent(u,["/static/css/maestro_header_without_nav-vflzRZfOI.css"]);t.NonPageletMaestroHeader=d})),define("modules/clean/react/maestro/layout/global_header/context",["require","exports","tslib","react"],(function(e,t,a,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalHeaderPromptContext=void 0,r=a.__importDefault(r);t.GlobalHeaderPromptContext=r.default.createContext({variant:"OFF"})})),define("prod_assets_web_modules/dig-components/logos",["exports","../tslib","../classnames","react","../common/index.esm"],(function(e,t,a,r,o){"use strict";e.AppCenterGlyph=o.AppCenterGlyph,e.AppCenterWordmark=o.AppCenterWordmark,e.BackupGlyph=o.BackupGlyph,e.BackupWordmark=o.BackupWordmark,e.CaptureGlyph=o.CaptureGlyph,e.CaptureWordmark=o.CaptureWordmark,e.DocSendGlyph=o.DocSendGlyph,e.FssGlyph=o.FssGlyph,e.FssWordmark=o.FssWordmark,e.GlyphLogo=o.GlyphLogo,e.HelloSignGlyph=o.HelloSignGlyph,e.HelloSignWordmark=o.HelloSignWordmark,e.PaperGlyph=o.PaperGlyph,e.PaperWordmark=o.PaperWordmark,e.PasswordsGlyph=o.PasswordsGlyph,e.PasswordsWordmark=o.PasswordsWordmark,e.ReplayGlyph=o.ReplayGlyph,e.ReplayWordmark=o.ReplayWordmark,e.ShopGlyph=o.ShopGlyph,e.ShopWordmark=o.ShopWordmark,e.SpacesGlyph=o.SpacesGlyph,e.SpacesWordmark=o.SpacesWordmark,e.TasksGlyph=o.TasksGlyph,e.TasksWordmark=o.TasksWordmark,e.TransferGlyph=o.TransferGlyph,e.TransferWordmark=o.TransferWordmark,e.WordmarkLogo=o.WordmarkLogo,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=pkg-header.min.js-vflEXah1Z.map