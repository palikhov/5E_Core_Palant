define(["require","exports","tslib","classnames","react","react-redux","file-viewer/plugins/index"],(function(e,a,r,t,n,l,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.TestOnlyCommentsSidebarControl=a.CommentsPluginSidebarControl=void 0,t=r.__importDefault(t),n=r.__importStar(n);var s="threadCount__1C3CBcf46o__control",i="closedUnreadVariant__33UVYisbPW__control",d="closedReadVariant__8dXPgaeMLM__control",m="plus__1eve4QrCBO__control",u=function(e){var a,r=e.areAnyThreadsUnread,l=e.disabled,u=e.platform.intl,c=e.threadCount,f=e.ui.isSidebarVisible,b=l?u.formatMessage({id:"UPO/6i",defaultMessage:"Comments are disabled on this file"}):u.formatMessage({id:"uFbQOk",defaultMessage:"Comments"}),_=u.formatMessage({id:"j0qRv4",defaultMessage:"Toggle Comments Sidebar"});return f||null==c||0===c?n.createElement(o.BasePluginSidebarControl,Object.assign({},e,{ariaLabel:_,iconId:"comments",label:b})):n.createElement(o.BasePluginSidebarControl,Object.assign({},e,{ariaLabel:_,className:t.default((a={},a[i]=r,a[d]=!r,a[m]=c>99,a)),disabled:l,iconId:"comments",label:b}),n.createElement("div",{className:s},Math.min(c,99)))};a.TestOnlyCommentsSidebarControl=u;var c=l.connect((function(e,a){var r={threadCount:0,areAnyThreadsUnread:!1},t=a.context.getPluginData().file;if(null==t)return r;var n=e.threads[t.fileId];if(null!=n)for(var l=0,o=Object.getOwnPropertyNames(n);l<o.length;l++){var s=n[o[l]],i=s.comments.some((function(e){return!e.deleted}));null==s.resolvedInfo&&i&&(++r.threadCount,r.areAnyThreadsUnread=r.areAnyThreadsUnread||!s.read)}return r}))(u);a.CommentsPluginSidebarControl=c}));
//# sourceMappingURL=sidebar_control.min.js-vfld4qqMv.map