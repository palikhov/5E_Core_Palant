define(["require","exports","tslib","typescript/component_libraries/files_components/src/blades/comments/component/comments_blade","typescript/component_libraries/files_components/src/blades/comments/component/context","typescript/component_libraries/files_components/src/blades/comments/component/hooks","typescript/component_libraries/files_components/src/blades/comments/component/pane","typescript/component_libraries/files_components/src/blades/comments/data/store","react","react-redux"],(function(e,t,n,a,o,l,i,s,m,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeBasicCommentsBladeWithStore=void 0,m=n.__importStar(m);var c={isInBladeRightRail:!0,showCommentsMeatball:!1,showApproval:!1},d=m.default.memo((function(e){var t=e.fileId,o=e.id,s=e.intl,r=e.onClickAnnotation,d=e.getAccountData,p=e.approvalIOClient,u=l.useCommentsComponent({fileId:t});return l.useListComments({fileId:t}),l.useResetThreads({fileId:t}),d?m.default.createElement(a.CommentsBlade,{id:o,intl:s,fileId:t,showApproval:!!p},m.default.createElement(i.CommentsBladePane,{commentsBladeId:o,intl:s,commentComponent:u,config:n.__assign(n.__assign({},c),{showApproval:!!p}),fileId:t,getAccountData:d,className:"base-comments-pane-blade",onClickAnnotation:r,approvalIOClient:p})):null}));d.displayName="BasicCommentsBladePaneWrapper";var p=m.default.memo((function(e){var t=e.fileId,n=e.id,o=e.intl;return l.useListComments({fileId:t}),m.default.createElement(a.CollapsedCommentsBladeButton,{id:n,intl:o,fileId:t})}));p.displayName="CollapsedBladeButton",t.makeBasicCommentsBladeWithStore=function(e,t){var n=s.makeStore(e),a=e.apiv2ClientBase.ns("users").rpc("get_current_account",void 0,{});return{Blade:m.default.memo((function(l){var i=l.id,s=m.useMemo((function(){return{apiV2Client:e.apiv2ClientBase,commentBladeId:i}}),[i]);return m.default.createElement(r.Provider,{store:n},m.default.createElement(o.BasicCommentsBladeContext.Provider,{value:s},m.default.createElement(d,Object.assign({},l,{getAccountData:a,approvalIOClient:t}))))})),CollapsedButton:m.default.memo((function(t){var a=t.id,l=t.intl,i=t.fileId,s=m.useMemo((function(){return{apiV2Client:e.apiv2ClientBase,commentBladeId:a}}),[a]);return m.default.createElement(r.Provider,{store:n},m.default.createElement(o.BasicCommentsBladeContext.Provider,{value:s},m.default.createElement(p,{id:a,intl:l,fileId:i})))}))}}}));
//# sourceMappingURL=basic_comments_blade.amd.min.js-vflB49txr.map