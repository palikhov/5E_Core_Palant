define(["require","exports","tslib","react","modules/core/i18n","dig-components/icons","dig-components/icons/src","modules/clean/react/action_bar/file_actions/portable/utils","modules/core/browser","modules/clean/react/action_bar/action_bar_strings","modules/clean/browse_interface","modules/clean/file_store/utils","modules/clean/cloud_docs/open_with_utils","modules/clean/cloud_docs/constants","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/file_store/utils"],(function(e,i,t,o,n,s,r,l,c,a,u,_,d,f,I,m){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeVersionHistoryActionLoader=i.VERSION_HISTORY_ACTION_PLUGIN_ID=void 0,o=t.__importDefault(o),c=t.__importStar(c),i.VERSION_HISTORY_ACTION_PLUGIN_ID="VERSION_HISTORY_ACTION",i.makeVersionHistoryActionLoader=function(e,i){return function(){var t=(function(){function t(e){var i=this;this.lifecycle={previewWillInitialize:function(){i.actionDefinitions.alwaysInOverflow=[i.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}return t.prototype.actionToDisplay=function(){var t=e().file;return!i||!_.isBrowseFile(t)||m.isSharedFile(t)||d.isCloudBasedDoc(t)||f.isPointerByExtension(t.fq_path)||I.isPnmLinkNodeSelected(t)||!I.isLiveFile(t)?[]:[this.versionHistoryDefinition(t)]},t.prototype.versionHistoryDefinition=function(e){var t=this,_=u.getFileHistoryUrl({fqPath:e.fq_path,userId:i.id});return l.makePluginActionDefinition({label:n.intl.formatMessage(a.VERSION_HISTORY_ACTION_STRING),icon:o.default.createElement(s.UIIcon,{src:r.ClockLine}),action:function(){t.context.logUserAction({action:"version_history",context:"title_bar_button"}),c.redirect(_)}})},t})();return Promise.resolve(t)}}}));
//# sourceMappingURL=version_history_plugin.min.js-vflhK2Anr.map