define(["require","exports","tslib","react","dig-components/icons/src","dig-components/icons","modules/core/i18n","modules/clean/react/action_bar/file_actions/portable/utils","modules/clean/react/action_bar/file_actions/portable/rename/rename","modules/clean/react/action_bar/file_actions/portable/rename/snackbars","modules/clean/file_store/utils","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/react/action_bar/action_bar_strings"],(function(e,n,i,t,a,o,r,c,l,s,u,f,_){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeRenameActionLoader=n.RENAME_ACTION_PLUGIN_ID=void 0,t=i.__importDefault(t),n.RENAME_ACTION_PLUGIN_ID="RENAME_ACTION",n.makeRenameActionLoader=function(e,n){return function(){var i=(function(){function i(e){var n=this;this.lifecycle={previewWillInitialize:function(){n.actionDefinitions.alwaysInOverflow=[n.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}return i.prototype.actionToDisplay=function(){var n=e().file;if(u.isSharedFile(n)||f.isPnmLinkNodeSelected(n)||!f.isLiveFile(n))return[];var i=this.renameDefinition();return i?[i]:[]},i.prototype.renameDefinition=function(){var i=this,m=e().file;if("fq_path"in m)return c.makePluginActionDefinition({label:r.intl.formatMessage(_.RENAME_ACTION_STRING),icon:t.default.createElement(o.UIIcon,{src:a.EditLine}),disabled:m.read_only?{disabled:!0,tooltipMessage:r.intl.formatMessage(_.ACTION_DISABLED_STRING)}:{disabled:!1},action:function(){i.context.logUserAction({action:"rename",context:"overflow_menu"}),l.portableRename({currentName:u.getFilename(m),user:n,fq_path:m.fq_path},{onNetworkRequest:function(){return s.renameSnackBarInProgress(f.PREVIEWS_SNACKBAR_ID)},onSuccess:function(){return s.renameCompleteSnackBar(f.PREVIEWS_SNACKBAR_ID)},onError:function(e){return s.renameFailedSnackBar(e,m.fq_path,f.PREVIEWS_SNACKBAR_ID)}})}})},i})();return Promise.resolve(i)}}}));
//# sourceMappingURL=rename_plugin.min.js-vflkhre6E.map