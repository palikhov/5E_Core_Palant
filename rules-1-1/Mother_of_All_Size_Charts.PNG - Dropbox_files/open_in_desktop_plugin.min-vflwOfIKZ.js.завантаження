define(["require","exports","tslib","react","modules/core/i18n","modules/core/browser_detection","modules/clean/react/action_bar/file_actions/portable/utils","modules/clean/react/action_bar/action_bar_strings","modules/clean/react/action_bar/file_actions/portable/open_desktop","modules/clean/react/file_viewer/sdk_file_viewer/action_plugins/utils","modules/clean/unity/features","modules/clean/unity/check_file_cache","modules/clean/file_store/utils","dig-components/icons/src","dig-components/icons"],(function(e,i,n,t,o,a,l,s,c,r,_,u,d,p,f){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.makeOpenInDesktopActionLoader=i.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID=void 0,t=n.__importDefault(t),u=n.__importDefault(u),i.OPEN_IN_DESKTOP_ACTION_PLUGIN_ID="OPEN_IN_DESKTOP_ACTION",i.makeOpenInDesktopActionLoader=function(e,i,n){return function(){var I=(function(){function I(e){var i=this;this.lifecycle={previewWillInitialize:function(){i.actionDefinitions.alwaysInOverflow=[i.actionToDisplay()]}},this.actionDefinitions={alwaysInOverflow:[this.actionToDisplay()]},this.context=e}return I.prototype.actionToDisplay=function(){var i=e().file;return r.isLiveFile(i)&&!d.isSharedFile(i)&&!r.isInsideVaultFolder(i)&&_.UnityFeatures.isUnitySupported()&&"ns_path"in i&&(null===u.default||void 0===u.default?void 0:u.default.is_cached_and_locally_available(i.ns_id,i.ns_path))?[this.openInDesktopDefinition()]:[]},I.prototype.openInDesktopDefinition=function(){var r=this,_=e().file;return l.makePluginActionDefinition({label:o.intl.formatMessage(a.mac?s.OPEN_MAC_DESKTOP_ACTION_STRING:s.OPEN_WINDOWS_DESKTOP_ACTION_STRING),icon:t.default.createElement(f.UIIcon,{src:a.mac?p.FinderLine:p.FileExplorerLine}),action:function(){r.context.logUserAction({action:"open_desktop_click",context:"overflow_menu"});var e=_.ns_id||(null==n?void 0:n.currentNSID),t="ns_path"in _?_.ns_path:null==n?void 0:n.currentNSPath;c.portableOpenInDesktop({user:i,nsPath:t,nsId:e},{})}})},I})();return Promise.resolve(I)}}}));
//# sourceMappingURL=open_in_desktop_plugin.min.js-vflxHD0Gx.map