define(["require","exports","tslib","react","dig-components/typography","modules/core/i18n","modules/clean/react/components/css","modules/clean/react/file_viewer/sdk_file_viewer/upsell/upsell_dialog","modules/clean/react/file_viewer/sdk_file_viewer/replay_prompt/replay_dialog_api","modules/clean/file_store/utils","modules/clean/react/browse/constants","modules/clean/react/campaigns/campaign_events_api"],(function(e,a,t,i,l,n,o,s,r,c,p,m){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.ReplayDialog=void 0,i=t.__importStar(i);var d=function(e){var a=e.user,o=e.file,d=i.useState(!1),g=d[0],u=d[1],_=i.useState(void 0),f=_[0],v=_[1];i.useEffect((function(){t.__awaiter(void 0,void 0,void 0,(function(){var e,i;return t.__generator(this,(function(t){switch(t.label){case 0:return a&&o&&c.isBrowseFile(o)&&"VIDEO"===p.ExtensionCategories[c.getExtension(o)]?[4,r.shouldShowReplayDialog(a)]:[3,2];case 1:e=t.sent(),u(!!e.show_entrypoint&&e.show_entrypoint),(null===(i=e.campaign_context)||void 0===i?void 0:i.campaign_impression_id)&&v(m.createMegaphoneCampaignImpressionContext(e.campaign_context.campaign_impression_id,e.campaign_context.campaign_id?""+e.campaign_context.campaign_id:void 0,e.campaign_context.campaign_variant_id?""+e.campaign_context.campaign_variant_id:void 0)),t.label=2;case 2:return a&&g&&(r.logReplayDialogAction(a,"impression",0),f&&m.logCampaignImpression(f)),[2]}}))}))}),[]);var y;return g?i.createElement(s.UpsellDialog,{afterAccept:function(){a&&r.logReplayDialogAction(a,"acknowledgement",0),f&&m.logCampaignClick(f)},afterDecline:function(){a&&r.logReplayDialogAction(a,"dismissal",0),f&&m.logCampaignDismissed(f)},uxaPrefix:"replay-fvsdk-prompt",titleText:n.intl.formatMessage({id:"vL51vF",defaultMessage:"Fast-track video reviews with Dropbox Replay, now in beta"}),bodyContent:(y=i.createElement(l.Text,{className:"replay-dialog-subtext",tagName:"p",isBold:!0},n.intl.formatMessage({id:"abiqtR",defaultMessage:"Streamline your approval process:"})),i.createElement(i.Fragment,null,y,i.createElement(l.Text,{className:"replay-dialog-subtext",tagName:"p"},i.createElement("ul",{className:"replay-dialog-list",style:{paddingInlineStart:"20px"}},i.createElement("li",null,n.intl.formatMessage({id:"CNEbQT",defaultMessage:"Share video with HD-quality playback"})),i.createElement("li",null,n.intl.formatMessage({id:"TgIEQQ",defaultMessage:"See frame-accurate comments in one place"})),i.createElement("li",null,n.intl.formatMessage({id:"7NNqco",defaultMessage:"Seamlessly connect tools like Adobe Premiere Pro"})))))),acceptText:n.intl.formatMessage({id:"YhMYf8",defaultMessage:"Try for free"}),declineText:n.intl.formatMessage({id:"t97mKK",defaultMessage:"Not now"}),redirectUrl:"https://replay.dropbox.com/?login=true"}):null};d.displayName="UnstyledReplayDialog",a.ReplayDialog=o.requireCssWithComponent(d,["/static/css/file_viewer/upsell_dialog-vfluIgJJw.css"])}));
//# sourceMappingURL=replay_dialog.min.js-vfloe0ASJ.map